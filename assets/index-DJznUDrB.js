(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function LL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BM={exports:{}},vm={},FM={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=Symbol.for("react.element"),RL=Symbol.for("react.portal"),zL=Symbol.for("react.fragment"),_L=Symbol.for("react.strict_mode"),DL=Symbol.for("react.profiler"),IL=Symbol.for("react.provider"),BL=Symbol.for("react.context"),FL=Symbol.for("react.forward_ref"),VL=Symbol.for("react.suspense"),jL=Symbol.for("react.memo"),HL=Symbol.for("react.lazy"),ES=Symbol.iterator;function WL(t){return t===null||typeof t!="object"?null:(t=ES&&t[ES]||t["@@iterator"],typeof t=="function"?t:null)}var VM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jM=Object.assign,HM={};function Va(t,e,n){this.props=t,this.context=e,this.refs=HM,this.updater=n||VM}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WM(){}WM.prototype=Va.prototype;function cw(t,e,n){this.props=t,this.context=e,this.refs=HM,this.updater=n||VM}var hw=cw.prototype=new WM;hw.constructor=cw;jM(hw,Va.prototype);hw.isPureReactComponent=!0;var MS=Array.isArray,UM=Object.prototype.hasOwnProperty,dw={current:null},KM={key:!0,ref:!0,__self:!0,__source:!0};function YM(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)UM.call(e,r)&&!KM.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:ph,type:t,key:i,ref:s,props:o,_owner:dw.current}}function UL(t,e){return{$$typeof:ph,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fw(t){return typeof t=="object"&&t!==null&&t.$$typeof===ph}function KL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NS=/\/+/g;function G0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KL(""+t.key):e.toString(36)}function Hf(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ph:case RL:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+G0(s,0):r,MS(o)?(n="",t!=null&&(n=t.replace(NS,"$&/")+"/"),Hf(o,e,n,"",function(d){return d})):o!=null&&(fw(o)&&(o=UL(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(NS,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",MS(t))for(var u=0;u<t.length;u++){i=t[u];var c=r+G0(i,u);s+=Hf(i,e,n,c,o)}else if(c=WL(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=r+G0(i,u++),s+=Hf(i,e,n,c,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qd(t,e,n){if(t==null)return t;var r=[],o=0;return Hf(t,r,"","",function(i){return e.call(n,i,o++)}),r}function YL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Wf={transition:null},QL={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Wf,ReactCurrentOwner:dw};function QM(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Qd,forEach:function(t,e,n){Qd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qd(t,function(){e++}),e},toArray:function(t){return Qd(t,function(e){return e})||[]},only:function(t){if(!fw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=Va;Le.Fragment=zL;Le.Profiler=DL;Le.PureComponent=cw;Le.StrictMode=_L;Le.Suspense=VL;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QL;Le.act=QM;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jM({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=dw.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)UM.call(e,c)&&!KM.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:ph,type:t.type,key:o,ref:i,props:r,_owner:s}};Le.createContext=function(t){return t={$$typeof:BL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IL,_context:t},t.Consumer=t};Le.createElement=YM;Le.createFactory=function(t){var e=YM.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:FL,render:t}};Le.isValidElement=fw;Le.lazy=function(t){return{$$typeof:HL,_payload:{_status:-1,_result:t},_init:YL}};Le.memo=function(t,e){return{$$typeof:jL,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Wf.transition;Wf.transition={};try{t()}finally{Wf.transition=e}};Le.unstable_act=QM;Le.useCallback=function(t,e){return pn.current.useCallback(t,e)};Le.useContext=function(t){return pn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return pn.current.useEffect(t,e)};Le.useId=function(){return pn.current.useId()};Le.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return pn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Le.useRef=function(t){return pn.current.useRef(t)};Le.useState=function(t){return pn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return pn.current.useTransition()};Le.version="18.3.1";FM.exports=Le;var q=FM.exports;const js=LL(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZL=q,GL=Symbol.for("react.element"),qL=Symbol.for("react.fragment"),JL=Object.prototype.hasOwnProperty,XL=ZL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eR={key:!0,ref:!0,__self:!0,__source:!0};function ZM(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)JL.call(e,r)&&!eR.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:GL,type:t,key:i,ref:s,props:o,_owner:XL.current}}vm.Fragment=qL;vm.jsx=ZM;vm.jsxs=ZM;BM.exports=vm;var j=BM.exports,GM={exports:{}},Zn={},qM={exports:{}},JM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var _=O.length;O.push(L);e:for(;0<_;){var J=_-1>>>1,X=O[J];if(0<o(X,L))O[J]=L,O[_]=X,_=J;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],_=O.pop();if(_!==L){O[0]=_;e:for(var J=0,X=O.length,ce=X>>>1;J<ce;){var se=2*(J+1)-1,ue=O[se],de=se+1,we=O[de];if(0>o(ue,_))de<X&&0>o(we,ue)?(O[J]=we,O[de]=_,J=de):(O[J]=ue,O[se]=_,J=se);else if(de<X&&0>o(we,_))O[J]=we,O[de]=_,J=de;else break e}}return L}function o(O,L){var _=O.sortIndex-L.sortIndex;return _!==0?_:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],f=1,p=null,g=3,v=!1,x=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=O)r(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(d)}}function M(O){if(k=!1,C(O),!x)if(n(c)!==null)x=!0,D(A);else{var L=n(d);L!==null&&U(M,L.startTime-O)}}function A(O,L){x=!1,k&&(k=!1,b(z),z=-1),v=!0;var _=g;try{for(C(L),p=n(c);p!==null&&(!(p.expirationTime>L)||O&&!Q());){var J=p.callback;if(typeof J=="function"){p.callback=null,g=p.priorityLevel;var X=J(p.expirationTime<=L);L=t.unstable_now(),typeof X=="function"?p.callback=X:p===n(c)&&r(c),C(L)}else r(c);p=n(c)}if(p!==null)var ce=!0;else{var se=n(d);se!==null&&U(M,se.startTime-L),ce=!1}return ce}finally{p=null,g=_,v=!1}}var $=!1,T=null,z=-1,B=5,F=-1;function Q(){return!(t.unstable_now()-F<B)}function W(){if(T!==null){var O=t.unstable_now();F=O;var L=!0;try{L=T(!0,O)}finally{L?G():($=!1,T=null)}}else $=!1}var G;if(typeof S=="function")G=function(){S(W)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=W,G=function(){H.postMessage(null)}}else G=function(){E(W,0)};function D(O){T=O,$||($=!0,G())}function U(O,L){z=E(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,D(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var _=g;g=L;try{return O()}finally{g=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var _=g;g=O;try{return L()}finally{g=_}},t.unstable_scheduleCallback=function(O,L,_){var J=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?J+_:J):_=J,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=_+X,O={id:f++,callback:L,priorityLevel:O,startTime:_,expirationTime:X,sortIndex:-1},_>J?(O.sortIndex=_,e(d,O),n(c)===null&&O===n(d)&&(k?(b(z),z=-1):k=!0,U(M,_-J))):(O.sortIndex=X,e(c,O),x||v||(x=!0,D(A))),O},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(O){var L=g;return function(){var _=g;g=L;try{return O.apply(this,arguments)}finally{g=_}}}})(JM);qM.exports=JM;var tR=qM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=q,Yn=tR;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XM=new Set,Ec={};function nl(t,e){wa(t,e),wa(t+"Capture",e)}function wa(t,e){for(Ec[t]=e,t=0;t<e.length;t++)XM.add(e[t])}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ov=Object.prototype.hasOwnProperty,rR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AS={},OS={};function oR(t){return ov.call(OS,t)?!0:ov.call(AS,t)?!1:rR.test(t)?OS[t]=!0:(AS[t]=!0,!1)}function iR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sR(t,e,n,r){if(e===null||typeof e>"u"||iR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pw=/[\-:]([a-z])/g;function mw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pw,mw);Kt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pw,mw);Kt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pw,mw);Kt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gw(t,e,n,r){var o=Kt.hasOwnProperty(e)?Kt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sR(e,n,o,r)&&(n=null),r||o===null?oR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fo=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zd=Symbol.for("react.element"),jl=Symbol.for("react.portal"),Hl=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),iv=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),sv=Symbol.for("react.suspense"),lv=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),nN=Symbol.for("react.offscreen"),TS=Symbol.iterator;function _u(t){return t===null||typeof t!="object"?null:(t=TS&&t[TS]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,q0;function Ju(t){if(q0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);q0=e&&e[1]||""}return`
`+q0+t}var J0=!1;function X0(t,e){if(!t||J0)return"";J0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var c=`
`+o[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=u);break}}}finally{J0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ju(t):""}function lR(t){switch(t.tag){case 5:return Ju(t.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return t=X0(t.type,!1),t;case 11:return t=X0(t.type.render,!1),t;case 1:return t=X0(t.type,!0),t;default:return""}}function av(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hl:return"Fragment";case jl:return"Portal";case iv:return"Profiler";case vw:return"StrictMode";case sv:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tN:return(t.displayName||"Context")+".Consumer";case eN:return(t._context.displayName||"Context")+".Provider";case yw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ww:return e=t.displayName||null,e!==null?e:av(t.type)||"Memo";case wi:e=t._payload,t=t._init;try{return av(t(e))}catch{}}return null}function aR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return av(e);case 8:return e===vw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uR(t){var e=rN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gd(t){t._valueTracker||(t._valueTracker=uR(t))}function oN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uv(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function PS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iN(t,e){e=e.checked,e!=null&&gw(t,"checked",e,!1)}function cv(t,e){iN(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hv(t,e.type,n):e.hasOwnProperty("defaultValue")&&hv(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $S(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hv(t,e,n){(e!=="number"||mp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xu=Array.isArray;function ia(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function dv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function LS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Xu(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function sN(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qd,aN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qd=qd||document.createElement("div"),qd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cR=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){cR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function uN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function cN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=uN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var hR=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pv(t,e){if(e){if(hR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function mv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gv=null;function xw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vv=null,sa=null,la=null;function zS(t){if(t=vh(t)){if(typeof vv!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=km(e),vv(t.stateNode,t.type,e))}}function hN(t){sa?la?la.push(t):la=[t]:sa=t}function dN(){if(sa){var t=sa,e=la;if(la=sa=null,zS(t),e)for(t=0;t<e.length;t++)zS(e[t])}}function fN(t,e){return t(e)}function pN(){}var e1=!1;function mN(t,e,n){if(e1)return t(e,n);e1=!0;try{return fN(t,e,n)}finally{e1=!1,(sa!==null||la!==null)&&(pN(),dN())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=km(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var yv=!1;if(Lo)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){yv=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{yv=!1}function dR(t,e,n,r,o,i,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var cc=!1,gp=null,vp=!1,wv=null,fR={onError:function(t){cc=!0,gp=t}};function pR(t,e,n,r,o,i,s,u,c){cc=!1,gp=null,dR.apply(fR,arguments)}function mR(t,e,n,r,o,i,s,u,c){if(pR.apply(this,arguments),cc){if(cc){var d=gp;cc=!1,gp=null}else throw Error(ie(198));vp||(vp=!0,wv=d)}}function rl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _S(t){if(rl(t)!==t)throw Error(ie(188))}function gR(t){var e=t.alternate;if(!e){if(e=rl(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return _S(o),t;if(i===r)return _S(o),e;i=i.sibling}throw Error(ie(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function vN(t){return t=gR(t),t!==null?yN(t):null}function yN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yN(t);if(e!==null)return e;t=t.sibling}return null}var wN=Yn.unstable_scheduleCallback,DS=Yn.unstable_cancelCallback,vR=Yn.unstable_shouldYield,yR=Yn.unstable_requestPaint,wt=Yn.unstable_now,wR=Yn.unstable_getCurrentPriorityLevel,bw=Yn.unstable_ImmediatePriority,xN=Yn.unstable_UserBlockingPriority,yp=Yn.unstable_NormalPriority,xR=Yn.unstable_LowPriority,bN=Yn.unstable_IdlePriority,ym=null,ro=null;function bR(t){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(ym,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:CR,kR=Math.log,SR=Math.LN2;function CR(t){return t>>>=0,t===0?32:31-(kR(t)/SR|0)|0}var Jd=64,Xd=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=ec(u):(i&=s,i!==0&&(r=ec(i)))}else s=n&~o,s!==0?r=ec(s):i!==0&&(r=ec(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lr(e),o=1<<n,r|=t[n],e&=~o;return r}function ER(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Lr(i),u=1<<s,c=o[s];c===-1?(!(u&n)||u&r)&&(o[s]=ER(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function xv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kN(){var t=Jd;return Jd<<=1,!(Jd&4194240)&&(Jd=64),t}function t1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=n}function NR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Lr(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function kw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lr(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var je=0;function SN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CN,Sw,EN,MN,NN,bv=!1,ef=[],zi=null,_i=null,Di=null,Ac=new Map,Oc=new Map,Ci=[],AR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IS(t,e){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Iu(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=vh(e),e!==null&&Sw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function OR(t,e,n,r,o){switch(e){case"focusin":return zi=Iu(zi,t,e,n,r,o),!0;case"dragenter":return _i=Iu(_i,t,e,n,r,o),!0;case"mouseover":return Di=Iu(Di,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ac.set(i,Iu(Ac.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Oc.set(i,Iu(Oc.get(i)||null,t,e,n,r,o)),!0}return!1}function AN(t){var e=Ps(t.target);if(e!==null){var n=rl(e);if(n!==null){if(e=n.tag,e===13){if(e=gN(n),e!==null){t.blockedOn=e,NN(t.priority,function(){EN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gv=r,n.target.dispatchEvent(r),gv=null}else return e=vh(n),e!==null&&Sw(e),t.blockedOn=n,!1;e.shift()}return!0}function BS(t,e,n){Uf(t)&&n.delete(e)}function TR(){bv=!1,zi!==null&&Uf(zi)&&(zi=null),_i!==null&&Uf(_i)&&(_i=null),Di!==null&&Uf(Di)&&(Di=null),Ac.forEach(BS),Oc.forEach(BS)}function Bu(t,e){t.blockedOn===e&&(t.blockedOn=null,bv||(bv=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,TR)))}function Tc(t){function e(o){return Bu(o,t)}if(0<ef.length){Bu(ef[0],t);for(var n=1;n<ef.length;n++){var r=ef[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zi!==null&&Bu(zi,t),_i!==null&&Bu(_i,t),Di!==null&&Bu(Di,t),Ac.forEach(e),Oc.forEach(e),n=0;n<Ci.length;n++)r=Ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)AN(n),n.blockedOn===null&&Ci.shift()}var aa=Fo.ReactCurrentBatchConfig,xp=!0;function PR(t,e,n,r){var o=je,i=aa.transition;aa.transition=null;try{je=1,Cw(t,e,n,r)}finally{je=o,aa.transition=i}}function $R(t,e,n,r){var o=je,i=aa.transition;aa.transition=null;try{je=4,Cw(t,e,n,r)}finally{je=o,aa.transition=i}}function Cw(t,e,n,r){if(xp){var o=kv(t,e,n,r);if(o===null)h1(t,e,r,bp,n),IS(t,r);else if(OR(o,t,e,n,r))r.stopPropagation();else if(IS(t,r),e&4&&-1<AR.indexOf(t)){for(;o!==null;){var i=vh(o);if(i!==null&&CN(i),i=kv(t,e,n,r),i===null&&h1(t,e,r,bp,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else h1(t,e,r,null,n)}}var bp=null;function kv(t,e,n,r){if(bp=null,t=xw(r),t=Ps(t),t!==null)if(e=rl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bp=t,null}function ON(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wR()){case bw:return 1;case xN:return 4;case yp:case xR:return 16;case bN:return 536870912;default:return 16}default:return 16}}var Oi=null,Ew=null,Kf=null;function TN(){if(Kf)return Kf;var t,e=Ew,n=e.length,r,o="value"in Oi?Oi.value:Oi.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return Kf=o.slice(t,1<r?1-r:void 0)}function Yf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tf(){return!0}function FS(){return!1}function Gn(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tf:FS,this.isPropagationStopped=FS,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),e}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mw=Gn(ja),gh=dt({},ja,{view:0,detail:0}),LR=Gn(gh),n1,r1,Fu,wm=dt({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fu&&(Fu&&t.type==="mousemove"?(n1=t.screenX-Fu.screenX,r1=t.screenY-Fu.screenY):r1=n1=0,Fu=t),n1)},movementY:function(t){return"movementY"in t?t.movementY:r1}}),VS=Gn(wm),RR=dt({},wm,{dataTransfer:0}),zR=Gn(RR),_R=dt({},gh,{relatedTarget:0}),o1=Gn(_R),DR=dt({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),IR=Gn(DR),BR=dt({},ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FR=Gn(BR),VR=dt({},ja,{data:0}),jS=Gn(VR),jR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WR[t])?!!e[t]:!1}function Nw(){return UR}var KR=dt({},gh,{key:function(t){if(t.key){var e=jR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nw,charCode:function(t){return t.type==="keypress"?Yf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YR=Gn(KR),QR=dt({},wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HS=Gn(QR),ZR=dt({},gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nw}),GR=Gn(ZR),qR=dt({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),JR=Gn(qR),XR=dt({},wm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ez=Gn(XR),tz=[9,13,27,32],Aw=Lo&&"CompositionEvent"in window,hc=null;Lo&&"documentMode"in document&&(hc=document.documentMode);var nz=Lo&&"TextEvent"in window&&!hc,PN=Lo&&(!Aw||hc&&8<hc&&11>=hc),WS=" ",US=!1;function $N(t,e){switch(t){case"keyup":return tz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wl=!1;function rz(t,e){switch(t){case"compositionend":return LN(e);case"keypress":return e.which!==32?null:(US=!0,WS);case"textInput":return t=e.data,t===WS&&US?null:t;default:return null}}function oz(t,e){if(Wl)return t==="compositionend"||!Aw&&$N(t,e)?(t=TN(),Kf=Ew=Oi=null,Wl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PN&&e.locale!=="ko"?null:e.data;default:return null}}var iz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iz[t.type]:e==="textarea"}function RN(t,e,n,r){hN(r),e=kp(e,"onChange"),0<e.length&&(n=new Mw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dc=null,Pc=null;function sz(t){UN(t,0)}function xm(t){var e=Yl(t);if(oN(e))return t}function lz(t,e){if(t==="change")return e}var zN=!1;if(Lo){var i1;if(Lo){var s1="oninput"in document;if(!s1){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),s1=typeof YS.oninput=="function"}i1=s1}else i1=!1;zN=i1&&(!document.documentMode||9<document.documentMode)}function QS(){dc&&(dc.detachEvent("onpropertychange",_N),Pc=dc=null)}function _N(t){if(t.propertyName==="value"&&xm(Pc)){var e=[];RN(e,Pc,t,xw(t)),mN(sz,e)}}function az(t,e,n){t==="focusin"?(QS(),dc=e,Pc=n,dc.attachEvent("onpropertychange",_N)):t==="focusout"&&QS()}function uz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xm(Pc)}function cz(t,e){if(t==="click")return xm(e)}function hz(t,e){if(t==="input"||t==="change")return xm(e)}function dz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zr=typeof Object.is=="function"?Object.is:dz;function $c(t,e){if(zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ov.call(e,o)||!zr(t[o],e[o]))return!1}return!0}function ZS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GS(t,e){var n=ZS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZS(n)}}function DN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IN(){for(var t=window,e=mp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mp(t.document)}return e}function Ow(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fz(t){var e=IN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DN(n.ownerDocument.documentElement,n)){if(r!==null&&Ow(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=GS(n,i);var s=GS(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pz=Lo&&"documentMode"in document&&11>=document.documentMode,Ul=null,Sv=null,fc=null,Cv=!1;function qS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cv||Ul==null||Ul!==mp(r)||(r=Ul,"selectionStart"in r&&Ow(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&$c(fc,r)||(fc=r,r=kp(Sv,"onSelect"),0<r.length&&(e=new Mw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ul)))}function nf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kl={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},l1={},BN={};Lo&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function bm(t){if(l1[t])return l1[t];if(!Kl[t])return t;var e=Kl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BN)return l1[t]=e[n];return t}var FN=bm("animationend"),VN=bm("animationiteration"),jN=bm("animationstart"),HN=bm("transitionend"),WN=new Map,JS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){WN.set(t,e),nl(e,[t])}for(var a1=0;a1<JS.length;a1++){var u1=JS[a1],mz=u1.toLowerCase(),gz=u1[0].toUpperCase()+u1.slice(1);ts(mz,"on"+gz)}ts(FN,"onAnimationEnd");ts(VN,"onAnimationIteration");ts(jN,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(HN,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vz=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function XS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mR(r,e,void 0,t),t.currentTarget=null}function UN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;XS(o,u,d),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;XS(o,u,d),i=c}}}if(vp)throw t=wv,vp=!1,wv=null,t}function Ge(t,e){var n=e[Ov];n===void 0&&(n=e[Ov]=new Set);var r=t+"__bubble";n.has(r)||(KN(e,t,2,!1),n.add(r))}function c1(t,e,n){var r=0;e&&(r|=4),KN(n,t,r,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Lc(t){if(!t[rf]){t[rf]=!0,XM.forEach(function(n){n!=="selectionchange"&&(vz.has(n)||c1(n,!1,t),c1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rf]||(e[rf]=!0,c1("selectionchange",!1,e))}}function KN(t,e,n,r){switch(ON(e)){case 1:var o=PR;break;case 4:o=$R;break;default:o=Cw}n=o.bind(null,e,n,t),o=void 0,!yv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function h1(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;u!==null;){if(s=Ps(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}mN(function(){var d=i,f=xw(n),p=[];e:{var g=WN.get(t);if(g!==void 0){var v=Mw,x=t;switch(t){case"keypress":if(Yf(n)===0)break e;case"keydown":case"keyup":v=YR;break;case"focusin":x="focus",v=o1;break;case"focusout":x="blur",v=o1;break;case"beforeblur":case"afterblur":v=o1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=VS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=GR;break;case FN:case VN:case jN:v=IR;break;case HN:v=JR;break;case"scroll":v=LR;break;case"wheel":v=ez;break;case"copy":case"cut":case"paste":v=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=HS}var k=(e&4)!==0,E=!k&&t==="scroll",b=k?g!==null?g+"Capture":null:g;k=[];for(var S=d,C;S!==null;){C=S;var M=C.stateNode;if(C.tag===5&&M!==null&&(C=M,b!==null&&(M=Nc(S,b),M!=null&&k.push(Rc(S,M,C)))),E)break;S=S.return}0<k.length&&(g=new v(g,x,null,n,f),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==gv&&(x=n.relatedTarget||n.fromElement)&&(Ps(x)||x[Ro]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?Ps(x):null,x!==null&&(E=rl(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(k=VS,M="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(k=HS,M="onPointerLeave",b="onPointerEnter",S="pointer"),E=v==null?g:Yl(v),C=x==null?g:Yl(x),g=new k(M,S+"leave",v,n,f),g.target=E,g.relatedTarget=C,M=null,Ps(f)===d&&(k=new k(b,S+"enter",x,n,f),k.target=C,k.relatedTarget=E,M=k),E=M,v&&x)t:{for(k=v,b=x,S=0,C=k;C;C=Il(C))S++;for(C=0,M=b;M;M=Il(M))C++;for(;0<S-C;)k=Il(k),S--;for(;0<C-S;)b=Il(b),C--;for(;S--;){if(k===b||b!==null&&k===b.alternate)break t;k=Il(k),b=Il(b)}k=null}else k=null;v!==null&&eC(p,g,v,k,!1),x!==null&&E!==null&&eC(p,E,x,k,!0)}}e:{if(g=d?Yl(d):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var A=lz;else if(KS(g))if(zN)A=hz;else{A=uz;var $=az}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(A=cz);if(A&&(A=A(t,d))){RN(p,A,n,f);break e}$&&$(t,g,d),t==="focusout"&&($=g._wrapperState)&&$.controlled&&g.type==="number"&&hv(g,"number",g.value)}switch($=d?Yl(d):window,t){case"focusin":(KS($)||$.contentEditable==="true")&&(Ul=$,Sv=d,fc=null);break;case"focusout":fc=Sv=Ul=null;break;case"mousedown":Cv=!0;break;case"contextmenu":case"mouseup":case"dragend":Cv=!1,qS(p,n,f);break;case"selectionchange":if(pz)break;case"keydown":case"keyup":qS(p,n,f)}var T;if(Aw)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Wl?$N(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(PN&&n.locale!=="ko"&&(Wl||z!=="onCompositionStart"?z==="onCompositionEnd"&&Wl&&(T=TN()):(Oi=f,Ew="value"in Oi?Oi.value:Oi.textContent,Wl=!0)),$=kp(d,z),0<$.length&&(z=new jS(z,t,null,n,f),p.push({event:z,listeners:$}),T?z.data=T:(T=LN(n),T!==null&&(z.data=T)))),(T=nz?rz(t,n):oz(t,n))&&(d=kp(d,"onBeforeInput"),0<d.length&&(f=new jS("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=T))}UN(p,e)})}function Rc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kp(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Nc(t,n),i!=null&&r.unshift(Rc(t,i,o)),i=Nc(t,e),i!=null&&r.push(Rc(t,i,o))),t=t.return}return r}function Il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eC(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,o?(c=Nc(n,i),c!=null&&s.unshift(Rc(n,c,u))):o||(c=Nc(n,i),c!=null&&s.push(Rc(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var yz=/\r\n?/g,wz=/\u0000|\uFFFD/g;function tC(t){return(typeof t=="string"?t:""+t).replace(yz,`
`).replace(wz,"")}function of(t,e,n){if(e=tC(e),tC(t)!==e&&n)throw Error(ie(425))}function Sp(){}var Ev=null,Mv=null;function Nv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Av=typeof setTimeout=="function"?setTimeout:void 0,xz=typeof clearTimeout=="function"?clearTimeout:void 0,nC=typeof Promise=="function"?Promise:void 0,bz=typeof queueMicrotask=="function"?queueMicrotask:typeof nC<"u"?function(t){return nC.resolve(null).then(t).catch(kz)}:Av;function kz(t){setTimeout(function(){throw t})}function d1(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Tc(e)}function Ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Ha,zc="__reactProps$"+Ha,Ro="__reactContainer$"+Ha,Ov="__reactEvents$"+Ha,Sz="__reactListeners$"+Ha,Cz="__reactHandles$"+Ha;function Ps(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ro]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rC(t);t!==null;){if(n=t[Jr])return n;t=rC(t)}return e}t=n,n=t.parentNode}return null}function vh(t){return t=t[Jr]||t[Ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function km(t){return t[zc]||null}var Tv=[],Ql=-1;function ns(t){return{current:t}}function Je(t){0>Ql||(t.current=Tv[Ql],Tv[Ql]=null,Ql--)}function Ye(t,e){Ql++,Tv[Ql]=t.current,t.current=e}var Yi={},on=ns(Yi),Tn=ns(!1),Hs=Yi;function xa(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pn(t){return t=t.childContextTypes,t!=null}function Cp(){Je(Tn),Je(on)}function oC(t,e,n){if(on.current!==Yi)throw Error(ie(168));Ye(on,e),Ye(Tn,n)}function YN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(ie(108,aR(t)||"Unknown",o));return dt({},n,r)}function Ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Hs=on.current,Ye(on,t),Ye(Tn,Tn.current),!0}function iC(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=YN(t,e,Hs),r.__reactInternalMemoizedMergedChildContext=t,Je(Tn),Je(on),Ye(on,t)):Je(Tn),Ye(Tn,n)}var Mo=null,Sm=!1,f1=!1;function QN(t){Mo===null?Mo=[t]:Mo.push(t)}function Ez(t){Sm=!0,QN(t)}function rs(){if(!f1&&Mo!==null){f1=!0;var t=0,e=je;try{var n=Mo;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mo=null,Sm=!1}catch(o){throw Mo!==null&&(Mo=Mo.slice(t+1)),wN(bw,rs),o}finally{je=e,f1=!1}}return null}var Zl=[],Gl=0,Mp=null,Np=0,or=[],ir=0,Ws=null,No=1,Ao="";function Ms(t,e){Zl[Gl++]=Np,Zl[Gl++]=Mp,Mp=t,Np=e}function ZN(t,e,n){or[ir++]=No,or[ir++]=Ao,or[ir++]=Ws,Ws=t;var r=No;t=Ao;var o=32-Lr(r)-1;r&=~(1<<o),n+=1;var i=32-Lr(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,No=1<<32-Lr(e)+o|n<<o|r,Ao=i+t}else No=1<<i|n<<o|r,Ao=t}function Tw(t){t.return!==null&&(Ms(t,1),ZN(t,1,0))}function Pw(t){for(;t===Mp;)Mp=Zl[--Gl],Zl[Gl]=null,Np=Zl[--Gl],Zl[Gl]=null;for(;t===Ws;)Ws=or[--ir],or[ir]=null,Ao=or[--ir],or[ir]=null,No=or[--ir],or[ir]=null}var Kn=null,Wn=null,tt=!1,Or=null;function GN(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Wn=Ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:No,overflow:Ao}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Wn=null,!0):!1;default:return!1}}function Pv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $v(t){if(tt){var e=Wn;if(e){var n=e;if(!sC(t,e)){if(Pv(t))throw Error(ie(418));e=Ii(n.nextSibling);var r=Kn;e&&sC(t,e)?GN(r,n):(t.flags=t.flags&-4097|2,tt=!1,Kn=t)}}else{if(Pv(t))throw Error(ie(418));t.flags=t.flags&-4097|2,tt=!1,Kn=t}}}function lC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function sf(t){if(t!==Kn)return!1;if(!tt)return lC(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nv(t.type,t.memoizedProps)),e&&(e=Wn)){if(Pv(t))throw qN(),Error(ie(418));for(;e;)GN(t,e),e=Ii(e.nextSibling)}if(lC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wn=Ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wn=null}}else Wn=Kn?Ii(t.stateNode.nextSibling):null;return!0}function qN(){for(var t=Wn;t;)t=Ii(t.nextSibling)}function ba(){Wn=Kn=null,tt=!1}function $w(t){Or===null?Or=[t]:Or.push(t)}var Mz=Fo.ReactCurrentBatchConfig;function Vu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var u=o.refs;s===null?delete u[i]:u[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function lf(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aC(t){var e=t._init;return e(t._payload)}function JN(t){function e(b,S){if(t){var C=b.deletions;C===null?(b.deletions=[S],b.flags|=16):C.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function o(b,S){return b=ji(b,S),b.index=0,b.sibling=null,b}function i(b,S,C){return b.index=C,t?(C=b.alternate,C!==null?(C=C.index,C<S?(b.flags|=2,S):C):(b.flags|=2,S)):(b.flags|=1048576,S)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,S,C,M){return S===null||S.tag!==6?(S=x1(C,b.mode,M),S.return=b,S):(S=o(S,C),S.return=b,S)}function c(b,S,C,M){var A=C.type;return A===Hl?f(b,S,C.props.children,M,C.key):S!==null&&(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wi&&aC(A)===S.type)?(M=o(S,C.props),M.ref=Vu(b,S,C),M.return=b,M):(M=ep(C.type,C.key,C.props,null,b.mode,M),M.ref=Vu(b,S,C),M.return=b,M)}function d(b,S,C,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=b1(C,b.mode,M),S.return=b,S):(S=o(S,C.children||[]),S.return=b,S)}function f(b,S,C,M,A){return S===null||S.tag!==7?(S=Is(C,b.mode,M,A),S.return=b,S):(S=o(S,C),S.return=b,S)}function p(b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=x1(""+S,b.mode,C),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zd:return C=ep(S.type,S.key,S.props,null,b.mode,C),C.ref=Vu(b,null,S),C.return=b,C;case jl:return S=b1(S,b.mode,C),S.return=b,S;case wi:var M=S._init;return p(b,M(S._payload),C)}if(Xu(S)||_u(S))return S=Is(S,b.mode,C,null),S.return=b,S;lf(b,S)}return null}function g(b,S,C,M){var A=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return A!==null?null:u(b,S,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Zd:return C.key===A?c(b,S,C,M):null;case jl:return C.key===A?d(b,S,C,M):null;case wi:return A=C._init,g(b,S,A(C._payload),M)}if(Xu(C)||_u(C))return A!==null?null:f(b,S,C,M,null);lf(b,C)}return null}function v(b,S,C,M,A){if(typeof M=="string"&&M!==""||typeof M=="number")return b=b.get(C)||null,u(S,b,""+M,A);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Zd:return b=b.get(M.key===null?C:M.key)||null,c(S,b,M,A);case jl:return b=b.get(M.key===null?C:M.key)||null,d(S,b,M,A);case wi:var $=M._init;return v(b,S,C,$(M._payload),A)}if(Xu(M)||_u(M))return b=b.get(C)||null,f(S,b,M,A,null);lf(S,M)}return null}function x(b,S,C,M){for(var A=null,$=null,T=S,z=S=0,B=null;T!==null&&z<C.length;z++){T.index>z?(B=T,T=null):B=T.sibling;var F=g(b,T,C[z],M);if(F===null){T===null&&(T=B);break}t&&T&&F.alternate===null&&e(b,T),S=i(F,S,z),$===null?A=F:$.sibling=F,$=F,T=B}if(z===C.length)return n(b,T),tt&&Ms(b,z),A;if(T===null){for(;z<C.length;z++)T=p(b,C[z],M),T!==null&&(S=i(T,S,z),$===null?A=T:$.sibling=T,$=T);return tt&&Ms(b,z),A}for(T=r(b,T);z<C.length;z++)B=v(T,b,z,C[z],M),B!==null&&(t&&B.alternate!==null&&T.delete(B.key===null?z:B.key),S=i(B,S,z),$===null?A=B:$.sibling=B,$=B);return t&&T.forEach(function(Q){return e(b,Q)}),tt&&Ms(b,z),A}function k(b,S,C,M){var A=_u(C);if(typeof A!="function")throw Error(ie(150));if(C=A.call(C),C==null)throw Error(ie(151));for(var $=A=null,T=S,z=S=0,B=null,F=C.next();T!==null&&!F.done;z++,F=C.next()){T.index>z?(B=T,T=null):B=T.sibling;var Q=g(b,T,F.value,M);if(Q===null){T===null&&(T=B);break}t&&T&&Q.alternate===null&&e(b,T),S=i(Q,S,z),$===null?A=Q:$.sibling=Q,$=Q,T=B}if(F.done)return n(b,T),tt&&Ms(b,z),A;if(T===null){for(;!F.done;z++,F=C.next())F=p(b,F.value,M),F!==null&&(S=i(F,S,z),$===null?A=F:$.sibling=F,$=F);return tt&&Ms(b,z),A}for(T=r(b,T);!F.done;z++,F=C.next())F=v(T,b,z,F.value,M),F!==null&&(t&&F.alternate!==null&&T.delete(F.key===null?z:F.key),S=i(F,S,z),$===null?A=F:$.sibling=F,$=F);return t&&T.forEach(function(W){return e(b,W)}),tt&&Ms(b,z),A}function E(b,S,C,M){if(typeof C=="object"&&C!==null&&C.type===Hl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Zd:e:{for(var A=C.key,$=S;$!==null;){if($.key===A){if(A=C.type,A===Hl){if($.tag===7){n(b,$.sibling),S=o($,C.props.children),S.return=b,b=S;break e}}else if($.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wi&&aC(A)===$.type){n(b,$.sibling),S=o($,C.props),S.ref=Vu(b,$,C),S.return=b,b=S;break e}n(b,$);break}else e(b,$);$=$.sibling}C.type===Hl?(S=Is(C.props.children,b.mode,M,C.key),S.return=b,b=S):(M=ep(C.type,C.key,C.props,null,b.mode,M),M.ref=Vu(b,S,C),M.return=b,b=M)}return s(b);case jl:e:{for($=C.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(b,S.sibling),S=o(S,C.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=b1(C,b.mode,M),S.return=b,b=S}return s(b);case wi:return $=C._init,E(b,S,$(C._payload),M)}if(Xu(C))return x(b,S,C,M);if(_u(C))return k(b,S,C,M);lf(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(b,S.sibling),S=o(S,C),S.return=b,b=S):(n(b,S),S=x1(C,b.mode,M),S.return=b,b=S),s(b)):n(b,S)}return E}var ka=JN(!0),XN=JN(!1),Ap=ns(null),Op=null,ql=null,Lw=null;function Rw(){Lw=ql=Op=null}function zw(t){var e=Ap.current;Je(Ap),t._currentValue=e}function Lv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ua(t,e){Op=t,Lw=ql=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(Lw!==t)if(t={context:t,memoizedValue:e,next:null},ql===null){if(Op===null)throw Error(ie(308));ql=t,Op.dependencies={lanes:0,firstContext:t}}else ql=ql.next=t;return e}var $s=null;function _w(t){$s===null?$s=[t]:$s.push(t)}function e3(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,_w(e)):(n.next=o.next,o.next=n),e.interleaved=n,zo(t,r)}function zo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xi=!1;function Dw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function To(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,zo(t,n)}return o=r.interleaved,o===null?(e.next=e,_w(r)):(e.next=o.next,o.next=e),r.interleaved=e,zo(t,n)}function Qf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kw(t,n)}}function uC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tp(t,e,n,r){var o=t.updateQueue;xi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==s&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var p=o.baseState;s=0,f=d=c=null,u=i;do{var g=u.lane,v=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,k=u;switch(g=e,v=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){p=x.call(v,p,g);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,g=typeof x=="function"?x.call(v,p,g):x,g==null)break e;p=dt({},p,g);break e;case 2:xi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=o.effects,g===null?o.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=v,c=p):f=f.next=v,s|=g;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;g=u,u=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(f===null&&(c=p),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Ks|=s,t.lanes=s,t.memoizedState=p}}function cC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ie(191,o));o.call(r)}}}var yh={},oo=ns(yh),_c=ns(yh),Dc=ns(yh);function Ls(t){if(t===yh)throw Error(ie(174));return t}function Iw(t,e){switch(Ye(Dc,e),Ye(_c,t),Ye(oo,yh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fv(e,t)}Je(oo),Ye(oo,e)}function Sa(){Je(oo),Je(_c),Je(Dc)}function n3(t){Ls(Dc.current);var e=Ls(oo.current),n=fv(e,t.type);e!==n&&(Ye(_c,t),Ye(oo,n))}function Bw(t){_c.current===t&&(Je(oo),Je(_c))}var ut=ns(0);function Pp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p1=[];function Fw(){for(var t=0;t<p1.length;t++)p1[t]._workInProgressVersionPrimary=null;p1.length=0}var Zf=Fo.ReactCurrentDispatcher,m1=Fo.ReactCurrentBatchConfig,Us=0,ht=null,Nt=null,Rt=null,$p=!1,pc=!1,Ic=0,Nz=0;function Xt(){throw Error(ie(321))}function Vw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zr(t[n],e[n]))return!1;return!0}function jw(t,e,n,r,o,i){if(Us=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zf.current=t===null||t.memoizedState===null?Pz:$z,t=n(r,o),pc){i=0;do{if(pc=!1,Ic=0,25<=i)throw Error(ie(301));i+=1,Rt=Nt=null,e.updateQueue=null,Zf.current=Lz,t=n(r,o)}while(pc)}if(Zf.current=Lp,e=Nt!==null&&Nt.next!==null,Us=0,Rt=Nt=ht=null,$p=!1,e)throw Error(ie(300));return t}function Hw(){var t=Ic!==0;return Ic=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ht.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function pr(){if(Nt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Rt===null?ht.memoizedState:Rt.next;if(e!==null)Rt=e,Nt=t;else{if(t===null)throw Error(ie(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Rt===null?ht.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Bc(t,e){return typeof e=="function"?e(t):e}function g1(t){var e=pr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Nt,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,c=null,d=i;do{var f=d.lane;if((Us&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,s=r):c=c.next=p,ht.lanes|=f,Ks|=f}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=u,zr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,ht.lanes|=i,Ks|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function v1(t){var e=pr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);zr(i,e.memoizedState)||(Mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function r3(){}function o3(t,e){var n=ht,r=pr(),o=e(),i=!zr(r.memoizedState,o);if(i&&(r.memoizedState=o,Mn=!0),r=r.queue,Ww(l3.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Fc(9,s3.bind(null,n,r,o,e),void 0,null),zt===null)throw Error(ie(349));Us&30||i3(n,e,o)}return o}function i3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s3(t,e,n,r){e.value=n,e.getSnapshot=r,a3(e)&&u3(t)}function l3(t,e,n){return n(function(){a3(e)&&u3(t)})}function a3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zr(t,n)}catch{return!0}}function u3(t){var e=zo(t,1);e!==null&&Rr(e,t,1,-1)}function hC(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=Tz.bind(null,ht,t),[e.memoizedState,t]}function Fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c3(){return pr().memoizedState}function Gf(t,e,n,r){var o=qr();ht.flags|=t,o.memoizedState=Fc(1|e,n,void 0,r===void 0?null:r)}function Cm(t,e,n,r){var o=pr();r=r===void 0?null:r;var i=void 0;if(Nt!==null){var s=Nt.memoizedState;if(i=s.destroy,r!==null&&Vw(r,s.deps)){o.memoizedState=Fc(e,n,i,r);return}}ht.flags|=t,o.memoizedState=Fc(1|e,n,i,r)}function dC(t,e){return Gf(8390656,8,t,e)}function Ww(t,e){return Cm(2048,8,t,e)}function h3(t,e){return Cm(4,2,t,e)}function d3(t,e){return Cm(4,4,t,e)}function f3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p3(t,e,n){return n=n!=null?n.concat([t]):null,Cm(4,4,f3.bind(null,e,t),n)}function Uw(){}function m3(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g3(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v3(t,e,n){return Us&21?(zr(n,e)||(n=kN(),ht.lanes|=n,Ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function Az(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=m1.transition;m1.transition={};try{t(!1),e()}finally{je=n,m1.transition=r}}function y3(){return pr().memoizedState}function Oz(t,e,n){var r=Vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w3(t))x3(e,n);else if(n=e3(t,e,n,r),n!==null){var o=hn();Rr(n,t,r,o),b3(n,e,r)}}function Tz(t,e,n){var r=Vi(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w3(t))x3(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,zr(u,s)){var c=e.interleaved;c===null?(o.next=o,_w(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}n=e3(t,e,o,r),n!==null&&(o=hn(),Rr(n,t,r,o),b3(n,e,r))}}function w3(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function x3(t,e){pc=$p=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kw(t,n)}}var Lp={readContext:fr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},Pz={readContext:fr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:dC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gf(4194308,4,f3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gf(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Oz.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:hC,useDebugValue:Uw,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=hC(!1),e=t[0];return t=Az.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,o=qr();if(tt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),zt===null)throw Error(ie(349));Us&30||i3(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,dC(l3.bind(null,r,i,t),[t]),r.flags|=2048,Fc(9,s3.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=qr(),e=zt.identifierPrefix;if(tt){var n=Ao,r=No;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ic++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$z={readContext:fr,useCallback:m3,useContext:fr,useEffect:Ww,useImperativeHandle:p3,useInsertionEffect:h3,useLayoutEffect:d3,useMemo:g3,useReducer:g1,useRef:c3,useState:function(){return g1(Bc)},useDebugValue:Uw,useDeferredValue:function(t){var e=pr();return v3(e,Nt.memoizedState,t)},useTransition:function(){var t=g1(Bc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:r3,useSyncExternalStore:o3,useId:y3,unstable_isNewReconciler:!1},Lz={readContext:fr,useCallback:m3,useContext:fr,useEffect:Ww,useImperativeHandle:p3,useInsertionEffect:h3,useLayoutEffect:d3,useMemo:g3,useReducer:v1,useRef:c3,useState:function(){return v1(Bc)},useDebugValue:Uw,useDeferredValue:function(t){var e=pr();return Nt===null?e.memoizedState=t:v3(e,Nt.memoizedState,t)},useTransition:function(){var t=v1(Bc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:r3,useSyncExternalStore:o3,useId:y3,unstable_isNewReconciler:!1};function Mr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Em={isMounted:function(t){return(t=t._reactInternals)?rl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),o=Vi(t),i=To(r,o);i.payload=e,n!=null&&(i.callback=n),e=Bi(t,i,o),e!==null&&(Rr(e,t,o,r),Qf(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),o=Vi(t),i=To(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bi(t,i,o),e!==null&&(Rr(e,t,o,r),Qf(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=Vi(t),o=To(n,r);o.tag=2,e!=null&&(o.callback=e),e=Bi(t,o,r),e!==null&&(Rr(e,t,r,n),Qf(e,t,r))}};function fC(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!$c(n,r)||!$c(o,i):!0}function k3(t,e,n){var r=!1,o=Yi,i=e.contextType;return typeof i=="object"&&i!==null?i=fr(i):(o=Pn(e)?Hs:on.current,r=e.contextTypes,i=(r=r!=null)?xa(t,o):Yi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Em,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function pC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Em.enqueueReplaceState(e,e.state,null)}function zv(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Dw(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=fr(i):(i=Pn(e)?Hs:on.current,o.context=xa(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Rv(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Em.enqueueReplaceState(o,o.state,null),Tp(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Ca(t,e){try{var n="",r=e;do n+=lR(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function y1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _v(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rz=typeof WeakMap=="function"?WeakMap:Map;function S3(t,e,n){n=To(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zp||(zp=!0,Kv=r),_v(t,e)},n}function C3(t,e,n){n=To(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){_v(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_v(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function mC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rz;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=Qz.bind(null,t,e,n),e.then(t,t))}function gC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vC(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=To(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var zz=Fo.ReactCurrentOwner,Mn=!1;function un(t,e,n,r){e.child=t===null?XN(e,null,n,r):ka(e,t.child,n,r)}function yC(t,e,n,r,o){n=n.render;var i=e.ref;return ua(e,o),r=jw(t,e,n,r,i,o),n=Hw(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_o(t,e,o)):(tt&&n&&Tw(e),e.flags|=1,un(t,e,r,o),e.child)}function wC(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Xw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,E3(t,e,i,r,o)):(t=ep(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:$c,n(s,r)&&t.ref===e.ref)return _o(t,e,o)}return e.flags|=1,t=ji(i,r),t.ref=e.ref,t.return=e,e.child=t}function E3(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if($c(i,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,_o(t,e,o)}return Dv(t,e,n,r,o)}function M3(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Xl,Fn),Fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Xl,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ye(Xl,Fn),Fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ye(Xl,Fn),Fn|=r;return un(t,e,o,n),e.child}function N3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dv(t,e,n,r,o){var i=Pn(n)?Hs:on.current;return i=xa(e,i),ua(e,o),n=jw(t,e,n,r,i,o),r=Hw(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_o(t,e,o)):(tt&&r&&Tw(e),e.flags|=1,un(t,e,n,o),e.child)}function xC(t,e,n,r,o){if(Pn(n)){var i=!0;Ep(e)}else i=!1;if(ua(e,o),e.stateNode===null)qf(t,e),k3(e,n,r),zv(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=fr(d):(d=Pn(n)?Hs:on.current,d=xa(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==d)&&pC(e,s,r,d),xi=!1;var g=e.memoizedState;s.state=g,Tp(e,r,s,o),c=e.memoizedState,u!==r||g!==c||Tn.current||xi?(typeof f=="function"&&(Rv(e,n,f,r),c=e.memoizedState),(u=xi||fC(e,n,u,r,g,c,d))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,t3(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Mr(e.type,u),s.props=d,p=e.pendingProps,g=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=fr(c):(c=Pn(n)?Hs:on.current,c=xa(e,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==p||g!==c)&&pC(e,s,r,c),xi=!1,g=e.memoizedState,s.state=g,Tp(e,r,s,o);var x=e.memoizedState;u!==p||g!==x||Tn.current||xi?(typeof v=="function"&&(Rv(e,n,v,r),x=e.memoizedState),(d=xi||fC(e,n,d,r,g,x,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Iv(t,e,n,r,i,o)}function Iv(t,e,n,r,o,i){N3(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&iC(e,n,!1),_o(t,e,i);r=e.stateNode,zz.current=e;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ka(e,t.child,null,i),e.child=ka(e,null,u,i)):un(t,e,u,i),e.memoizedState=r.state,o&&iC(e,n,!0),e.child}function A3(t){var e=t.stateNode;e.pendingContext?oC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oC(t,e.context,!1),Iw(t,e.containerInfo)}function bC(t,e,n,r,o){return ba(),$w(o),e.flags|=256,un(t,e,n,r),e.child}var Bv={dehydrated:null,treeContext:null,retryLane:0};function Fv(t){return{baseLanes:t,cachePool:null,transitions:null}}function O3(t,e,n){var r=e.pendingProps,o=ut.current,i=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(o&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Ye(ut,o&1),t===null)return $v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Am(s,r,0,null),t=Is(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fv(n),e.memoizedState=Bv,t):Kw(e,s));if(o=t.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return _z(t,e,s,r,u,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ji(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=ji(u,i):(i=Is(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?Fv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Bv,r}return i=t.child,t=i.sibling,r=ji(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kw(t,e){return e=Am({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function af(t,e,n,r){return r!==null&&$w(r),ka(e,t.child,null,n),t=Kw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _z(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=y1(Error(ie(422))),af(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Am({mode:"visible",children:r.children},o,0,null),i=Is(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ka(e,t.child,null,s),e.child.memoizedState=Fv(s),e.memoizedState=Bv,i);if(!(e.mode&1))return af(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(ie(419)),r=y1(i,r,void 0),af(t,e,s,r)}if(u=(s&t.childLanes)!==0,Mn||u){if(r=zt,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,zo(t,o),Rr(r,t,o,-1))}return Jw(),r=y1(Error(ie(421))),af(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=Zz.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Wn=Ii(o.nextSibling),Kn=e,tt=!0,Or=null,t!==null&&(or[ir++]=No,or[ir++]=Ao,or[ir++]=Ws,No=t.id,Ao=t.overflow,Ws=e),e=Kw(e,r.children),e.flags|=4096,e)}function kC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lv(t.return,e,n)}function w1(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function T3(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(un(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kC(t,n,e);else if(t.tag===19)kC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(ut,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Pp(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),w1(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Pp(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}w1(e,!0,n,null,i);break;case"together":w1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _o(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dz(t,e,n){switch(e.tag){case 3:A3(e),ba();break;case 5:n3(e);break;case 1:Pn(e.type)&&Ep(e);break;case 4:Iw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ye(Ap,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?O3(t,e,n):(Ye(ut,ut.current&1),t=_o(t,e,n),t!==null?t.sibling:null);Ye(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return T3(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ye(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,M3(t,e,n)}return _o(t,e,n)}var P3,Vv,$3,L3;P3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vv=function(){};$3=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ls(oo.current);var i=null;switch(n){case"input":o=uv(t,o),r=uv(t,r),i=[];break;case"select":o=dt({},o,{value:void 0}),r=dt({},r,{value:void 0}),i=[];break;case"textarea":o=dv(t,o),r=dv(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sp)}pv(n,r);var s;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ec.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};L3=function(t,e,n,r){n!==r&&(e.flags|=4)};function ju(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Iz(t,e,n){var r=e.pendingProps;switch(Pw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Pn(e.type)&&Cp(),en(e),null;case 3:return r=e.stateNode,Sa(),Je(Tn),Je(on),Fw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&(Zv(Or),Or=null))),Vv(t,e),en(e),null;case 5:Bw(e);var o=Ls(Dc.current);if(n=e.type,t!==null&&e.stateNode!=null)$3(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return en(e),null}if(t=Ls(oo.current),sf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jr]=e,r[zc]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(o=0;o<tc.length;o++)Ge(tc[o],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":PS(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":LS(r,i),Ge("invalid",r)}pv(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&of(r.textContent,u,t),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&of(r.textContent,u,t),o=["children",""+u]):Ec.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Gd(r),$S(r,i,!0);break;case"textarea":Gd(r),RS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Sp)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Jr]=e,t[zc]=r,P3(t,e,!1,!1),e.stateNode=t;e:{switch(s=mv(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),o=r;break;case"iframe":case"object":case"embed":Ge("load",t),o=r;break;case"video":case"audio":for(o=0;o<tc.length;o++)Ge(tc[o],t);o=r;break;case"source":Ge("error",t),o=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),o=r;break;case"details":Ge("toggle",t),o=r;break;case"input":PS(t,r),o=uv(t,r),Ge("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=dt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":LS(t,r),o=dv(t,r),Ge("invalid",t);break;default:o=r}pv(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?cN(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&aN(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mc(t,c):typeof c=="number"&&Mc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ec.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",t):c!=null&&gw(t,i,c,s))}switch(n){case"input":Gd(t),$S(t,r,!1);break;case"textarea":Gd(t),RS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ia(t,!!r.multiple,i,!1):r.defaultValue!=null&&ia(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Sp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)L3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=Ls(Dc.current),Ls(oo.current),sf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,(i=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:of(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&of(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jr]=e,e.stateNode=r}return en(e),null;case 13:if(Je(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Wn!==null&&e.mode&1&&!(e.flags&128))qN(),ba(),e.flags|=98560,i=!1;else if(i=sf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ie(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[Jr]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),i=!1}else Or!==null&&(Zv(Or),Or=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Ot===0&&(Ot=3):Jw())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return Sa(),Vv(t,e),t===null&&Lc(e.stateNode.containerInfo),en(e),null;case 10:return zw(e.type._context),en(e),null;case 17:return Pn(e.type)&&Cp(),en(e),null;case 19:if(Je(ut),i=e.memoizedState,i===null)return en(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)ju(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Pp(t),s!==null){for(e.flags|=128,ju(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&wt()>Ea&&(e.flags|=128,r=!0,ju(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ju(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!tt)return en(e),null}else 2*wt()-i.renderingStartTime>Ea&&n!==1073741824&&(e.flags|=128,r=!0,ju(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=wt(),e.sibling=null,n=ut.current,Ye(ut,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return qw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function Bz(t,e){switch(Pw(e),e.tag){case 1:return Pn(e.type)&&Cp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),Je(Tn),Je(on),Fw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bw(e),null;case 13:if(Je(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(ut),null;case 4:return Sa(),null;case 10:return zw(e.type._context),null;case 22:case 23:return qw(),null;case 24:return null;default:return null}}var uf=!1,nn=!1,Fz=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function jv(t,e,n){try{n()}catch(r){mt(t,e,r)}}var SC=!1;function Vz(t,e){if(Ev=xp,t=IN(),Ow(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var v;p!==n||o!==0&&p.nodeType!==3||(u=s+o),p!==i||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++d===o&&(u=s),g===i&&++f===r&&(c=s),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mv={focusedElem:t,selectionRange:n},xp=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,E=x.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?k:Mr(e.type,k),E);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(M){mt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return x=SC,SC=!1,x}function mc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&jv(e,n,i)}o=o.next}while(o!==r)}}function Mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function R3(t){var e=t.alternate;e!==null&&(t.alternate=null,R3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[zc],delete e[Ov],delete e[Sz],delete e[Cz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z3(t){return t.tag===5||t.tag===3||t.tag===4}function CC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sp));else if(r!==4&&(t=t.child,t!==null))for(Wv(t,e,n),t=t.sibling;t!==null;)Wv(t,e,n),t=t.sibling}function Uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uv(t,e,n),t=t.sibling;t!==null;)Uv(t,e,n),t=t.sibling}var It=null,Nr=!1;function gi(t,e,n){for(n=n.child;n!==null;)_3(t,e,n),n=n.sibling}function _3(t,e,n){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(ym,n)}catch{}switch(n.tag){case 5:nn||Jl(n,e);case 6:var r=It,o=Nr;It=null,gi(t,e,n),It=r,Nr=o,It!==null&&(Nr?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Nr?(t=It,n=n.stateNode,t.nodeType===8?d1(t.parentNode,n):t.nodeType===1&&d1(t,n),Tc(t)):d1(It,n.stateNode));break;case 4:r=It,o=Nr,It=n.stateNode.containerInfo,Nr=!0,gi(t,e,n),It=r,Nr=o;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&jv(n,e,s),o=o.next}while(o!==r)}gi(t,e,n);break;case 1:if(!nn&&(Jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){mt(n,e,u)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,gi(t,e,n),nn=r):gi(t,e,n);break;default:gi(t,e,n)}}function EC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fz),e.forEach(function(r){var o=Gz.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:It=u.stateNode,Nr=!1;break e;case 3:It=u.stateNode.containerInfo,Nr=!0;break e;case 4:It=u.stateNode.containerInfo,Nr=!0;break e}u=u.return}if(It===null)throw Error(ie(160));_3(i,s,o),It=null,Nr=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){mt(o,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D3(e,t),e=e.sibling}function D3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cr(e,t),Kr(t),r&4){try{mc(3,t,t.return),Mm(3,t)}catch(k){mt(t,t.return,k)}try{mc(5,t,t.return)}catch(k){mt(t,t.return,k)}}break;case 1:Cr(e,t),Kr(t),r&512&&n!==null&&Jl(n,n.return);break;case 5:if(Cr(e,t),Kr(t),r&512&&n!==null&&Jl(n,n.return),t.flags&32){var o=t.stateNode;try{Mc(o,"")}catch(k){mt(t,t.return,k)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&iN(o,i),mv(u,s);var d=mv(u,i);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];f==="style"?cN(o,p):f==="dangerouslySetInnerHTML"?aN(o,p):f==="children"?Mc(o,p):gw(o,f,p,d)}switch(u){case"input":cv(o,i);break;case"textarea":sN(o,i);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ia(o,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?ia(o,!!i.multiple,i.defaultValue,!0):ia(o,!!i.multiple,i.multiple?[]:"",!1))}o[zc]=i}catch(k){mt(t,t.return,k)}}break;case 6:if(Cr(e,t),Kr(t),r&4){if(t.stateNode===null)throw Error(ie(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(k){mt(t,t.return,k)}}break;case 3:if(Cr(e,t),Kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(k){mt(t,t.return,k)}break;case 4:Cr(e,t),Kr(t);break;case 13:Cr(e,t),Kr(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Zw=wt())),r&4&&EC(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(d=nn)||f,Cr(e,t),nn=d):Cr(e,t),Kr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(ye=t,f=t.child;f!==null;){for(p=ye=f;ye!==null;){switch(g=ye,v=g.child,g.tag){case 0:case 11:case 14:case 15:mc(4,g,g.return);break;case 1:Jl(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(k){mt(r,n,k)}}break;case 5:Jl(g,g.return);break;case 22:if(g.memoizedState!==null){NC(p);continue}}v!==null?(v.return=g,ye=v):NC(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{o=p.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=uN("display",s))}catch(k){mt(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(k){mt(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Cr(e,t),Kr(t),r&4&&EC(t);break;case 21:break;default:Cr(e,t),Kr(t)}}function Kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z3(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Mc(o,""),r.flags&=-33);var i=CC(t);Uv(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=CC(t);Wv(t,u,s);break;default:throw Error(ie(161))}}catch(c){mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jz(t,e,n){ye=t,I3(t)}function I3(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var o=ye,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||uf;if(!s){var u=o.alternate,c=u!==null&&u.memoizedState!==null||nn;u=uf;var d=nn;if(uf=s,(nn=c)&&!d)for(ye=o;ye!==null;)s=ye,c=s.child,s.tag===22&&s.memoizedState!==null?AC(o):c!==null?(c.return=s,ye=c):AC(o);for(;i!==null;)ye=i,I3(i),i=i.sibling;ye=o,uf=u,nn=d}MC(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,ye=i):MC(t)}}function MC(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Mr(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cC(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cC(e,s,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Tc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}nn||e.flags&512&&Hv(e)}catch(g){mt(e,e.return,g)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function NC(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function AC(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mm(4,e)}catch(c){mt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(c){mt(e,o,c)}}var i=e.return;try{Hv(e)}catch(c){mt(e,i,c)}break;case 5:var s=e.return;try{Hv(e)}catch(c){mt(e,s,c)}}}catch(c){mt(e,e.return,c)}if(e===t){ye=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ye=u;break}ye=e.return}}var Hz=Math.ceil,Rp=Fo.ReactCurrentDispatcher,Yw=Fo.ReactCurrentOwner,cr=Fo.ReactCurrentBatchConfig,De=0,zt=null,St=null,Ut=0,Fn=0,Xl=ns(0),Ot=0,Vc=null,Ks=0,Nm=0,Qw=0,gc=null,Sn=null,Zw=0,Ea=1/0,Eo=null,zp=!1,Kv=null,Fi=null,cf=!1,Ti=null,_p=0,vc=0,Yv=null,Jf=-1,Xf=0;function hn(){return De&6?wt():Jf!==-1?Jf:Jf=wt()}function Vi(t){return t.mode&1?De&2&&Ut!==0?Ut&-Ut:Mz.transition!==null?(Xf===0&&(Xf=kN()),Xf):(t=je,t!==0||(t=window.event,t=t===void 0?16:ON(t.type)),t):1}function Rr(t,e,n,r){if(50<vc)throw vc=0,Yv=null,Error(ie(185));mh(t,n,r),(!(De&2)||t!==zt)&&(t===zt&&(!(De&2)&&(Nm|=n),Ot===4&&Ei(t,Ut)),$n(t,r),n===1&&De===0&&!(e.mode&1)&&(Ea=wt()+500,Sm&&rs()))}function $n(t,e){var n=t.callbackNode;MR(t,e);var r=wp(t,t===zt?Ut:0);if(r===0)n!==null&&DS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DS(n),e===1)t.tag===0?Ez(OC.bind(null,t)):QN(OC.bind(null,t)),bz(function(){!(De&6)&&rs()}),n=null;else{switch(SN(r)){case 1:n=bw;break;case 4:n=xN;break;case 16:n=yp;break;case 536870912:n=bN;break;default:n=yp}n=K3(n,B3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B3(t,e){if(Jf=-1,Xf=0,De&6)throw Error(ie(327));var n=t.callbackNode;if(ca()&&t.callbackNode!==n)return null;var r=wp(t,t===zt?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dp(t,r);else{e=r;var o=De;De|=2;var i=V3();(zt!==t||Ut!==e)&&(Eo=null,Ea=wt()+500,Ds(t,e));do try{Kz();break}catch(u){F3(t,u)}while(!0);Rw(),Rp.current=i,De=o,St!==null?e=0:(zt=null,Ut=0,e=Ot)}if(e!==0){if(e===2&&(o=xv(t),o!==0&&(r=o,e=Qv(t,o))),e===1)throw n=Vc,Ds(t,0),Ei(t,r),$n(t,wt()),n;if(e===6)Ei(t,r);else{if(o=t.current.alternate,!(r&30)&&!Wz(o)&&(e=Dp(t,r),e===2&&(i=xv(t),i!==0&&(r=i,e=Qv(t,i))),e===1))throw n=Vc,Ds(t,0),Ei(t,r),$n(t,wt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Ns(t,Sn,Eo);break;case 3:if(Ei(t,r),(r&130023424)===r&&(e=Zw+500-wt(),10<e)){if(wp(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Av(Ns.bind(null,t,Sn,Eo),e);break}Ns(t,Sn,Eo);break;case 4:if(Ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Lr(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hz(r/1960))-r,10<r){t.timeoutHandle=Av(Ns.bind(null,t,Sn,Eo),r);break}Ns(t,Sn,Eo);break;case 5:Ns(t,Sn,Eo);break;default:throw Error(ie(329))}}}return $n(t,wt()),t.callbackNode===n?B3.bind(null,t):null}function Qv(t,e){var n=gc;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Dp(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&Zv(e)),t}function Zv(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function Wz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!zr(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~Qw,e&=~Nm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lr(e),r=1<<n;t[n]=-1,e&=~r}}function OC(t){if(De&6)throw Error(ie(327));ca();var e=wp(t,0);if(!(e&1))return $n(t,wt()),null;var n=Dp(t,e);if(t.tag!==0&&n===2){var r=xv(t);r!==0&&(e=r,n=Qv(t,r))}if(n===1)throw n=Vc,Ds(t,0),Ei(t,e),$n(t,wt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ns(t,Sn,Eo),$n(t,wt()),null}function Gw(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Ea=wt()+500,Sm&&rs())}}function Ys(t){Ti!==null&&Ti.tag===0&&!(De&6)&&ca();var e=De;De|=1;var n=cr.transition,r=je;try{if(cr.transition=null,je=1,t)return t()}finally{je=r,cr.transition=n,De=e,!(De&6)&&rs()}}function qw(){Fn=Xl.current,Je(Xl)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xz(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(Pw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cp();break;case 3:Sa(),Je(Tn),Je(on),Fw();break;case 5:Bw(r);break;case 4:Sa();break;case 13:Je(ut);break;case 19:Je(ut);break;case 10:zw(r.type._context);break;case 22:case 23:qw()}n=n.return}if(zt=t,St=t=ji(t.current,null),Ut=Fn=e,Ot=0,Vc=null,Qw=Nm=Ks=0,Sn=gc=null,$s!==null){for(e=0;e<$s.length;e++)if(n=$s[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}$s=null}return t}function F3(t,e){do{var n=St;try{if(Rw(),Zf.current=Lp,$p){for(var r=ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}$p=!1}if(Us=0,Rt=Nt=ht=null,pc=!1,Ic=0,Yw.current=null,n===null||n.return===null){Ot=1,Vc=e,St=null;break}e:{var i=t,s=n.return,u=n,c=e;if(e=Ut,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=gC(s);if(v!==null){v.flags&=-257,vC(v,s,u,i,e),v.mode&1&&mC(i,d,e),e=v,c=d;var x=e.updateQueue;if(x===null){var k=new Set;k.add(c),e.updateQueue=k}else x.add(c);break e}else{if(!(e&1)){mC(i,d,e),Jw();break e}c=Error(ie(426))}}else if(tt&&u.mode&1){var E=gC(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),vC(E,s,u,i,e),$w(Ca(c,u));break e}}i=c=Ca(c,u),Ot!==4&&(Ot=2),gc===null?gc=[i]:gc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=S3(i,c,e);uC(i,b);break e;case 1:u=c;var S=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Fi===null||!Fi.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var M=C3(i,u,e);uC(i,M);break e}}i=i.return}while(i!==null)}H3(n)}catch(A){e=A,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function V3(){var t=Rp.current;return Rp.current=Lp,t===null?Lp:t}function Jw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),zt===null||!(Ks&268435455)&&!(Nm&268435455)||Ei(zt,Ut)}function Dp(t,e){var n=De;De|=2;var r=V3();(zt!==t||Ut!==e)&&(Eo=null,Ds(t,e));do try{Uz();break}catch(o){F3(t,o)}while(!0);if(Rw(),De=n,Rp.current=r,St!==null)throw Error(ie(261));return zt=null,Ut=0,Ot}function Uz(){for(;St!==null;)j3(St)}function Kz(){for(;St!==null&&!vR();)j3(St)}function j3(t){var e=U3(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?H3(t):St=e,Yw.current=null}function H3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Bz(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,St=null;return}}else if(n=Iz(n,e,Fn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Ot===0&&(Ot=5)}function Ns(t,e,n){var r=je,o=cr.transition;try{cr.transition=null,je=1,Yz(t,e,n,r)}finally{cr.transition=o,je=r}return null}function Yz(t,e,n,r){do ca();while(Ti!==null);if(De&6)throw Error(ie(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(NR(t,i),t===zt&&(St=zt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cf||(cf=!0,K3(yp,function(){return ca(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cr.transition,cr.transition=null;var s=je;je=1;var u=De;De|=4,Yw.current=null,Vz(t,n),D3(n,t),fz(Mv),xp=!!Ev,Mv=Ev=null,t.current=n,jz(n),yR(),De=u,je=s,cr.transition=i}else t.current=n;if(cf&&(cf=!1,Ti=t,_p=o),i=t.pendingLanes,i===0&&(Fi=null),bR(n.stateNode),$n(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(zp)throw zp=!1,t=Kv,Kv=null,t;return _p&1&&t.tag!==0&&ca(),i=t.pendingLanes,i&1?t===Yv?vc++:(vc=0,Yv=t):vc=0,rs(),null}function ca(){if(Ti!==null){var t=SN(_p),e=cr.transition,n=je;try{if(cr.transition=null,je=16>t?16:t,Ti===null)var r=!1;else{if(t=Ti,Ti=null,_p=0,De&6)throw Error(ie(331));var o=De;for(De|=4,ye=t.current;ye!==null;){var i=ye,s=i.child;if(ye.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(ye=d;ye!==null;){var f=ye;switch(f.tag){case 0:case 11:case 15:mc(8,f,i)}var p=f.child;if(p!==null)p.return=f,ye=p;else for(;ye!==null;){f=ye;var g=f.sibling,v=f.return;if(R3(f),f===d){ye=null;break}if(g!==null){g.return=v,ye=g;break}ye=v}}}var x=i.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}ye=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ye=s;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mc(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ye=b;break e}ye=i.return}}var S=t.current;for(ye=S;ye!==null;){s=ye;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,ye=C;else e:for(s=S;ye!==null;){if(u=ye,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Mm(9,u)}}catch(A){mt(u,u.return,A)}if(u===s){ye=null;break e}var M=u.sibling;if(M!==null){M.return=u.return,ye=M;break e}ye=u.return}}if(De=o,rs(),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(ym,t)}catch{}r=!0}return r}finally{je=n,cr.transition=e}}return!1}function TC(t,e,n){e=Ca(n,e),e=S3(t,e,1),t=Bi(t,e,1),e=hn(),t!==null&&(mh(t,1,e),$n(t,e))}function mt(t,e,n){if(t.tag===3)TC(t,t,n);else for(;e!==null;){if(e.tag===3){TC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=Ca(n,t),t=C3(e,t,1),e=Bi(e,t,1),t=hn(),e!==null&&(mh(e,1,t),$n(e,t));break}}e=e.return}}function Qz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Ut&n)===n&&(Ot===4||Ot===3&&(Ut&130023424)===Ut&&500>wt()-Zw?Ds(t,0):Qw|=n),$n(t,e)}function W3(t,e){e===0&&(t.mode&1?(e=Xd,Xd<<=1,!(Xd&130023424)&&(Xd=4194304)):e=1);var n=hn();t=zo(t,e),t!==null&&(mh(t,e,n),$n(t,n))}function Zz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W3(t,n)}function Gz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),W3(t,n)}var U3;U3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,Dz(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,tt&&e.flags&1048576&&ZN(e,Np,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qf(t,e),t=e.pendingProps;var o=xa(e,on.current);ua(e,n),o=jw(null,e,r,t,o,n);var i=Hw();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(i=!0,Ep(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Dw(e),o.updater=Em,e.stateNode=o,o._reactInternals=e,zv(e,r,t,n),e=Iv(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&Tw(e),un(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qf(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Jz(r),t=Mr(r,t),o){case 0:e=Dv(null,e,r,t,n);break e;case 1:e=xC(null,e,r,t,n);break e;case 11:e=yC(null,e,r,t,n);break e;case 14:e=wC(null,e,r,Mr(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Mr(r,o),Dv(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Mr(r,o),xC(t,e,r,o,n);case 3:e:{if(A3(e),t===null)throw Error(ie(387));r=e.pendingProps,i=e.memoizedState,o=i.element,t3(t,e),Tp(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Ca(Error(ie(423)),e),e=bC(t,e,r,n,o);break e}else if(r!==o){o=Ca(Error(ie(424)),e),e=bC(t,e,r,n,o);break e}else for(Wn=Ii(e.stateNode.containerInfo.firstChild),Kn=e,tt=!0,Or=null,n=XN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===o){e=_o(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return n3(e),t===null&&$v(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,Nv(r,o)?s=null:i!==null&&Nv(r,i)&&(e.flags|=32),N3(t,e),un(t,e,s,n),e.child;case 6:return t===null&&$v(e),null;case 13:return O3(t,e,n);case 4:return Iw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ka(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Mr(r,o),yC(t,e,r,o,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,Ye(Ap,r._currentValue),r._currentValue=s,i!==null)if(zr(i.value,s)){if(i.children===o.children&&!Tn.current){e=_o(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=To(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Lv(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ie(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Lv(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}un(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,ua(e,n),o=fr(o),r=r(o),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,o=Mr(r,e.pendingProps),o=Mr(r.type,o),wC(t,e,r,o,n);case 15:return E3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Mr(r,o),qf(t,e),e.tag=1,Pn(r)?(t=!0,Ep(e)):t=!1,ua(e,n),k3(e,r,o),zv(e,r,o,n),Iv(null,e,r,!0,t,n);case 19:return T3(t,e,n);case 22:return M3(t,e,n)}throw Error(ie(156,e.tag))};function K3(t,e){return wN(t,e)}function qz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new qz(t,e,n,r)}function Xw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jz(t){if(typeof t=="function")return Xw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yw)return 11;if(t===ww)return 14}return 2}function ji(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ep(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Xw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Hl:return Is(n.children,o,i,e);case vw:s=8,o|=8;break;case iv:return t=ar(12,n,e,o|2),t.elementType=iv,t.lanes=i,t;case sv:return t=ar(13,n,e,o),t.elementType=sv,t.lanes=i,t;case lv:return t=ar(19,n,e,o),t.elementType=lv,t.lanes=i,t;case nN:return Am(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eN:s=10;break e;case tN:s=9;break e;case yw:s=11;break e;case ww:s=14;break e;case wi:s=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=ar(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Is(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function Am(t,e,n,r){return t=ar(22,t,r,e),t.elementType=nN,t.lanes=n,t.stateNode={isHidden:!1},t}function x1(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function b1(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xz(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t1(0),this.expirationTimes=t1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t1(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ex(t,e,n,r,o,i,s,u,c){return t=new Xz(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ar(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dw(i),t}function e_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y3(t){if(!t)return Yi;t=t._reactInternals;e:{if(rl(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Pn(n))return YN(t,n,e)}return e}function Q3(t,e,n,r,o,i,s,u,c){return t=ex(n,r,!0,t,o,i,s,u,c),t.context=Y3(null),n=t.current,r=hn(),o=Vi(n),i=To(r,o),i.callback=e??null,Bi(n,i,o),t.current.lanes=o,mh(t,o,r),$n(t,r),t}function Om(t,e,n,r){var o=e.current,i=hn(),s=Vi(o);return n=Y3(n),e.context===null?e.context=n:e.pendingContext=n,e=To(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(o,e,s),t!==null&&(Rr(t,o,s,i),Qf(t,o,s)),s}function Ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tx(t,e){PC(t,e),(t=t.alternate)&&PC(t,e)}function t_(){return null}var Z3=typeof reportError=="function"?reportError:function(t){console.error(t)};function nx(t){this._internalRoot=t}Tm.prototype.render=nx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Om(t,e,null,null)};Tm.prototype.unmount=nx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ys(function(){Om(null,t,null,null)}),e[Ro]=null}};function Tm(t){this._internalRoot=t}Tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=MN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ci.length&&e!==0&&e<Ci[n].priority;n++);Ci.splice(n,0,t),n===0&&AN(t)}};function rx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $C(){}function n_(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=Ip(s);i.call(d)}}var s=Q3(e,r,t,0,null,!1,!1,"",$C);return t._reactRootContainer=s,t[Ro]=s.current,Lc(t.nodeType===8?t.parentNode:t),Ys(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=Ip(c);u.call(d)}}var c=ex(t,0,!1,null,null,!1,!1,"",$C);return t._reactRootContainer=c,t[Ro]=c.current,Lc(t.nodeType===8?t.parentNode:t),Ys(function(){Om(e,c,n,r)}),c}function $m(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var c=Ip(s);u.call(c)}}Om(e,s,t,o)}else s=n_(n,e,t,o,r);return Ip(s)}CN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(kw(e,n|1),$n(e,wt()),!(De&6)&&(Ea=wt()+500,rs()))}break;case 13:Ys(function(){var r=zo(t,1);if(r!==null){var o=hn();Rr(r,t,1,o)}}),tx(t,1)}};Sw=function(t){if(t.tag===13){var e=zo(t,134217728);if(e!==null){var n=hn();Rr(e,t,134217728,n)}tx(t,134217728)}};EN=function(t){if(t.tag===13){var e=Vi(t),n=zo(t,e);if(n!==null){var r=hn();Rr(n,t,e,r)}tx(t,e)}};MN=function(){return je};NN=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};vv=function(t,e,n){switch(e){case"input":if(cv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=km(r);if(!o)throw Error(ie(90));oN(r),cv(r,o)}}}break;case"textarea":sN(t,n);break;case"select":e=n.value,e!=null&&ia(t,!!n.multiple,e,!1)}};fN=Gw;pN=Ys;var r_={usingClientEntryPoint:!1,Events:[vh,Yl,km,hN,dN,Gw]},Hu={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o_={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vN(t),t===null?null:t.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||t_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{ym=hf.inject(o_),ro=hf}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r_;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rx(e))throw Error(ie(200));return e_(t,e,null,n)};Zn.createRoot=function(t,e){if(!rx(t))throw Error(ie(299));var n=!1,r="",o=Z3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=ex(t,1,!1,null,null,n,!1,r,o),t[Ro]=e.current,Lc(t.nodeType===8?t.parentNode:t),new nx(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=vN(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return Ys(t)};Zn.hydrate=function(t,e,n){if(!Pm(e))throw Error(ie(200));return $m(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!rx(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Z3;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Q3(e,null,t,1,n??null,o,!1,i,s),t[Ro]=e.current,Lc(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Tm(e)};Zn.render=function(t,e,n){if(!Pm(e))throw Error(ie(200));return $m(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!Pm(t))throw Error(ie(40));return t._reactRootContainer?(Ys(function(){$m(null,null,t,!1,function(){t._reactRootContainer=null,t[Ro]=null})}),!0):!1};Zn.unstable_batchedUpdates=Gw;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pm(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return $m(t,e,n,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function G3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G3)}catch(t){console.error(t)}}G3(),GM.exports=Zn;var i_=GM.exports,q3,LC=i_;q3=LC.createRoot,LC.hydrateRoot;const J3=q.createContext([null,t=>{}]),s_=({children:t})=>{const[e,n]=q.useState(null);return j.jsx(J3.Provider,{value:[e,n],children:t})},X3=()=>q.useContext(J3),RC=t=>Symbol.iterator in t,l_=(t,e)=>{const n=t instanceof Map?t:new Map(t),r=e instanceof Map?e:new Map(e);if(n.size!==r.size)return!1;for(const[o,i]of n)if(!Object.is(i,r.get(o)))return!1;return!0};function a_(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(RC(t)&&RC(e)){const r=t[Symbol.iterator](),o=e[Symbol.iterator]();let i=r.next(),s=o.next();if(Array.isArray(i.value)&&Array.isArray(s.value)&&i.value.length===2&&s.value.length===2)return l_(t,e);for(;!i.done&&!s.done;){if(!Object.is(i.value,s.value))return!1;i=r.next(),s=o.next()}return!!i.done&&!!s.done}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.hasOwn(e,r)||!Object.is(t[r],e[r]))return!1;return!0}function ox(t){const e=js.useRef();return n=>{const r=t(n);return a_(e.current,r)?e.current:e.current=r}}function Ct(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Ct(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var u_={value:()=>{}};function Lm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new tp(n)}function tp(t){this._=t}function c_(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}tp.prototype=Lm.prototype={constructor:tp,on:function(t,e){var n=this._,r=c_(t+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(t=r[i]).type)&&(o=h_(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<s;)if(o=(t=r[i]).type)n[o]=zC(n[o],t.name,e);else if(e==null)for(o in n)n[o]=zC(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tp(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};function h_(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function zC(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=u_,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Gv="http://www.w3.org/1999/xhtml";const _C={svg:"http://www.w3.org/2000/svg",xhtml:Gv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_C.hasOwnProperty(e)?{space:_C[e],local:t}:t}function d_(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Gv&&e.documentElement.namespaceURI===Gv?e.createElement(t):e.createElementNS(n,t)}}function f_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function eA(t){var e=Rm(t);return(e.local?f_:d_)(e)}function p_(){}function ix(t){return t==null?p_:function(){return this.querySelector(t)}}function m_(t){typeof t!="function"&&(t=ix(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],s=i.length,u=r[o]=new Array(s),c,d,f=0;f<s;++f)(c=i[f])&&(d=t.call(c,c.__data__,f,i))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d);return new Qn(r,this._parents)}function g_(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function v_(){return[]}function tA(t){return t==null?v_:function(){return this.querySelectorAll(t)}}function y_(t){return function(){return g_(t.apply(this,arguments))}}function w_(t){typeof t=="function"?t=y_(t):t=tA(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var s=e[i],u=s.length,c,d=0;d<u;++d)(c=s[d])&&(r.push(t.call(c,c.__data__,d,s)),o.push(c));return new Qn(r,o)}function nA(t){return function(){return this.matches(t)}}function rA(t){return function(e){return e.matches(t)}}var x_=Array.prototype.find;function b_(t){return function(){return x_.call(this.children,t)}}function k_(){return this.firstElementChild}function S_(t){return this.select(t==null?k_:b_(typeof t=="function"?t:rA(t)))}var C_=Array.prototype.filter;function E_(){return Array.from(this.children)}function M_(t){return function(){return C_.call(this.children,t)}}function N_(t){return this.selectAll(t==null?E_:M_(typeof t=="function"?t:rA(t)))}function A_(t){typeof t!="function"&&(t=nA(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],s=i.length,u=r[o]=[],c,d=0;d<s;++d)(c=i[d])&&t.call(c,c.__data__,d,i)&&u.push(c);return new Qn(r,this._parents)}function oA(t){return new Array(t.length)}function O_(){return new Qn(this._enter||this._groups.map(oA),this._parents)}function Bp(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bp.prototype={constructor:Bp,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function T_(t){return function(){return t}}function P_(t,e,n,r,o,i){for(var s=0,u,c=e.length,d=i.length;s<d;++s)(u=e[s])?(u.__data__=i[s],r[s]=u):n[s]=new Bp(t,i[s]);for(;s<c;++s)(u=e[s])&&(o[s]=u)}function $_(t,e,n,r,o,i,s){var u,c,d=new Map,f=e.length,p=i.length,g=new Array(f),v;for(u=0;u<f;++u)(c=e[u])&&(g[u]=v=s.call(c,c.__data__,u,e)+"",d.has(v)?o[u]=c:d.set(v,c));for(u=0;u<p;++u)v=s.call(t,i[u],u,i)+"",(c=d.get(v))?(r[u]=c,c.__data__=i[u],d.delete(v)):n[u]=new Bp(t,i[u]);for(u=0;u<f;++u)(c=e[u])&&d.get(g[u])===c&&(o[u]=c)}function L_(t){return t.__data__}function R_(t,e){if(!arguments.length)return Array.from(this,L_);var n=e?$_:P_,r=this._parents,o=this._groups;typeof t!="function"&&(t=T_(t));for(var i=o.length,s=new Array(i),u=new Array(i),c=new Array(i),d=0;d<i;++d){var f=r[d],p=o[d],g=p.length,v=z_(t.call(f,f&&f.__data__,d,r)),x=v.length,k=u[d]=new Array(x),E=s[d]=new Array(x),b=c[d]=new Array(g);n(f,p,k,E,b,v,e);for(var S=0,C=0,M,A;S<x;++S)if(M=k[S]){for(S>=C&&(C=S+1);!(A=E[C])&&++C<x;);M._next=A||null}}return s=new Qn(s,r),s._enter=u,s._exit=c,s}function z_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function __(){return new Qn(this._exit||this._groups.map(oA),this._parents)}function D_(t,e,n){var r=this.enter(),o=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function I_(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,s=Math.min(o,i),u=new Array(o),c=0;c<s;++c)for(var d=n[c],f=r[c],p=d.length,g=u[c]=new Array(p),v,x=0;x<p;++x)(v=d[x]||f[x])&&(g[x]=v);for(;c<o;++c)u[c]=n[c];return new Qn(u,this._parents)}function B_(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function F_(t){t||(t=V_);function e(p,g){return p&&g?t(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],u=s.length,c=o[i]=new Array(u),d,f=0;f<u;++f)(d=s[f])&&(c[f]=d);c.sort(e)}return new Qn(o,this._parents).order()}function V_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function j_(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function H_(){return Array.from(this)}function W_(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function U_(){let t=0;for(const e of this)++t;return t}function K_(){return!this.node()}function Y_(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,s=o.length,u;i<s;++i)(u=o[i])&&t.call(u,u.__data__,i,o);return this}function Q_(t){return function(){this.removeAttribute(t)}}function Z_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G_(t,e){return function(){this.setAttribute(t,e)}}function q_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function J_(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function X_(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function eD(t,e){var n=Rm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Z_:Q_:typeof e=="function"?n.local?X_:J_:n.local?q_:G_)(n,e))}function iA(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tD(t){return function(){this.style.removeProperty(t)}}function nD(t,e,n){return function(){this.style.setProperty(t,e,n)}}function rD(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function oD(t,e,n){return arguments.length>1?this.each((e==null?tD:typeof e=="function"?rD:nD)(t,e,n??"")):Ma(this.node(),t)}function Ma(t,e){return t.style.getPropertyValue(e)||iA(t).getComputedStyle(t,null).getPropertyValue(e)}function iD(t){return function(){delete this[t]}}function sD(t,e){return function(){this[t]=e}}function lD(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function aD(t,e){return arguments.length>1?this.each((e==null?iD:typeof e=="function"?lD:sD)(t,e)):this.node()[t]}function sA(t){return t.trim().split(/^|\s+/)}function sx(t){return t.classList||new lA(t)}function lA(t){this._node=t,this._names=sA(t.getAttribute("class")||"")}lA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function aA(t,e){for(var n=sx(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function uA(t,e){for(var n=sx(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function uD(t){return function(){aA(this,t)}}function cD(t){return function(){uA(this,t)}}function hD(t,e){return function(){(e.apply(this,arguments)?aA:uA)(this,t)}}function dD(t,e){var n=sA(t+"");if(arguments.length<2){for(var r=sx(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?hD:e?uD:cD)(n,e))}function fD(){this.textContent=""}function pD(t){return function(){this.textContent=t}}function mD(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function gD(t){return arguments.length?this.each(t==null?fD:(typeof t=="function"?mD:pD)(t)):this.node().textContent}function vD(){this.innerHTML=""}function yD(t){return function(){this.innerHTML=t}}function wD(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function xD(t){return arguments.length?this.each(t==null?vD:(typeof t=="function"?wD:yD)(t)):this.node().innerHTML}function bD(){this.nextSibling&&this.parentNode.appendChild(this)}function kD(){return this.each(bD)}function SD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function CD(){return this.each(SD)}function ED(t){var e=typeof t=="function"?t:eA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function MD(){return null}function ND(t,e){var n=typeof t=="function"?t:eA(t),r=e==null?MD:typeof e=="function"?e:ix(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function AD(){var t=this.parentNode;t&&t.removeChild(this)}function OD(){return this.each(AD)}function TD(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function PD(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $D(t){return this.select(t?PD:TD)}function LD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function RD(t){return function(e){t.call(this,e,this.__data__)}}function zD(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function _D(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,i;n<o;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function DD(t,e,n){return function(){var r=this.__on,o,i=RD(e);if(r){for(var s=0,u=r.length;s<u;++s)if((o=r[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=e;return}}this.addEventListener(t.type,i,n),o={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(o):this.__on=[o]}}function ID(t,e,n){var r=zD(t+""),o,i=r.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,d=u.length,f;c<d;++c)for(o=0,f=u[c];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(u=e?DD:_D,o=0;o<i;++o)this.each(u(r[o],e,n));return this}function cA(t,e,n){var r=iA(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function BD(t,e){return function(){return cA(this,t,e)}}function FD(t,e){return function(){return cA(this,t,e.apply(this,arguments))}}function VD(t,e){return this.each((typeof e=="function"?FD:BD)(t,e))}function*jD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var hA=[null];function Qn(t,e){this._groups=t,this._parents=e}function wh(){return new Qn([[document.documentElement]],hA)}function HD(){return this}Qn.prototype=wh.prototype={constructor:Qn,select:m_,selectAll:w_,selectChild:S_,selectChildren:N_,filter:A_,data:R_,enter:O_,exit:__,join:D_,merge:I_,selection:HD,order:B_,sort:F_,call:j_,nodes:H_,node:W_,size:U_,empty:K_,each:Y_,attr:eD,style:oD,property:aD,classed:dD,text:gD,html:xD,raise:kD,lower:CD,append:ED,insert:ND,remove:OD,clone:$D,datum:LD,on:ID,dispatch:VD,[Symbol.iterator]:jD};function jn(t){return typeof t=="string"?new Qn([[document.querySelector(t)]],[document.documentElement]):new Qn([[t]],hA)}function WD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ar(t,e){if(t=WD(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const UD={passive:!1},jc={capture:!0,passive:!1};function k1(t){t.stopImmediatePropagation()}function ha(t){t.preventDefault(),t.stopImmediatePropagation()}function dA(t){var e=t.document.documentElement,n=jn(t).on("dragstart.drag",ha,jc);"onselectstart"in e?n.on("selectstart.drag",ha,jc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function fA(t,e){var n=t.document.documentElement,r=jn(t).on("dragstart.drag",null);e&&(r.on("click.drag",ha,jc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const df=t=>()=>t;function qv(t,{sourceEvent:e,subject:n,target:r,identifier:o,active:i,x:s,y:u,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}qv.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function KD(t){return!t.ctrlKey&&!t.button}function YD(){return this.parentNode}function QD(t,e){return e??{x:t.x,y:t.y}}function ZD(){return navigator.maxTouchPoints||"ontouchstart"in this}function pA(){var t=KD,e=YD,n=QD,r=ZD,o={},i=Lm("start","drag","end"),s=0,u,c,d,f,p=0;function g(M){M.on("mousedown.drag",v).filter(r).on("touchstart.drag",E).on("touchmove.drag",b,UD).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(M,A){if(!(f||!t.call(this,M,A))){var $=C(this,e.call(this,M,A),M,A,"mouse");$&&(jn(M.view).on("mousemove.drag",x,jc).on("mouseup.drag",k,jc),dA(M.view),k1(M),d=!1,u=M.clientX,c=M.clientY,$("start",M))}}function x(M){if(ha(M),!d){var A=M.clientX-u,$=M.clientY-c;d=A*A+$*$>p}o.mouse("drag",M)}function k(M){jn(M.view).on("mousemove.drag mouseup.drag",null),fA(M.view,d),ha(M),o.mouse("end",M)}function E(M,A){if(t.call(this,M,A)){var $=M.changedTouches,T=e.call(this,M,A),z=$.length,B,F;for(B=0;B<z;++B)(F=C(this,T,M,A,$[B].identifier,$[B]))&&(k1(M),F("start",M,$[B]))}}function b(M){var A=M.changedTouches,$=A.length,T,z;for(T=0;T<$;++T)(z=o[A[T].identifier])&&(ha(M),z("drag",M,A[T]))}function S(M){var A=M.changedTouches,$=A.length,T,z;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),T=0;T<$;++T)(z=o[A[T].identifier])&&(k1(M),z("end",M,A[T]))}function C(M,A,$,T,z,B){var F=i.copy(),Q=Ar(B||$,A),W,G,P;if((P=n.call(M,new qv("beforestart",{sourceEvent:$,target:g,identifier:z,active:s,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:F}),T))!=null)return W=P.x-Q[0]||0,G=P.y-Q[1]||0,function H(D,U,O){var L=Q,_;switch(D){case"start":o[z]=H,_=s++;break;case"end":delete o[z],--s;case"drag":Q=Ar(O||U,A),_=s;break}F.call(D,M,new qv(D,{sourceEvent:U,subject:P,target:g,identifier:z,active:_,x:Q[0]+W,y:Q[1]+G,dx:Q[0]-L[0],dy:Q[1]-L[1],dispatch:F}),T)}}return g.filter=function(M){return arguments.length?(t=typeof M=="function"?M:df(!!M),g):t},g.container=function(M){return arguments.length?(e=typeof M=="function"?M:df(M),g):e},g.subject=function(M){return arguments.length?(n=typeof M=="function"?M:df(M),g):n},g.touchable=function(M){return arguments.length?(r=typeof M=="function"?M:df(!!M),g):r},g.on=function(){var M=i.on.apply(i,arguments);return M===i?g:M},g.clickDistance=function(M){return arguments.length?(p=(M=+M)*M,g):Math.sqrt(p)},g}function lx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mA(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xh(){}var Hc=.7,Fp=1/Hc,da="\\s*([+-]?\\d+)\\s*",Wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GD=/^#([0-9a-f]{3,8})$/,qD=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),JD=new RegExp(`^rgb\\(${io},${io},${io}\\)$`),XD=new RegExp(`^rgba\\(${da},${da},${da},${Wc}\\)$`),eI=new RegExp(`^rgba\\(${io},${io},${io},${Wc}\\)$`),tI=new RegExp(`^hsl\\(${Wc},${io},${io}\\)$`),nI=new RegExp(`^hsla\\(${Wc},${io},${io},${Wc}\\)$`),DC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lx(xh,Uc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:IC,formatHex:IC,formatHex8:rI,formatHsl:oI,formatRgb:BC,toString:BC});function IC(){return this.rgb().formatHex()}function rI(){return this.rgb().formatHex8()}function oI(){return gA(this).formatHsl()}function BC(){return this.rgb().formatRgb()}function Uc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=GD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?FC(e):n===3?new Nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ff(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ff(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qD.exec(t))?new Nn(e[1],e[2],e[3],1):(e=JD.exec(t))?new Nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=XD.exec(t))?ff(e[1],e[2],e[3],e[4]):(e=eI.exec(t))?ff(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tI.exec(t))?HC(e[1],e[2]/100,e[3]/100,1):(e=nI.exec(t))?HC(e[1],e[2]/100,e[3]/100,e[4]):DC.hasOwnProperty(t)?FC(DC[t]):t==="transparent"?new Nn(NaN,NaN,NaN,0):null}function FC(t){return new Nn(t>>16&255,t>>8&255,t&255,1)}function ff(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nn(t,e,n,r)}function iI(t){return t instanceof xh||(t=Uc(t)),t?(t=t.rgb(),new Nn(t.r,t.g,t.b,t.opacity)):new Nn}function Jv(t,e,n,r){return arguments.length===1?iI(t):new Nn(t,e,n,r??1)}function Nn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lx(Nn,Jv,mA(xh,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nn(Bs(this.r),Bs(this.g),Bs(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VC,formatHex:VC,formatHex8:sI,formatRgb:jC,toString:jC}));function VC(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}`}function sI(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}${Rs((isNaN(this.opacity)?1:this.opacity)*255)}`}function jC(){const t=Vp(this.opacity);return`${t===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${t===1?")":`, ${t})`}`}function Vp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rs(t){return t=Bs(t),(t<16?"0":"")+t.toString(16)}function HC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tr(t,e,n,r)}function gA(t){if(t instanceof Tr)return new Tr(t.h,t.s,t.l,t.opacity);if(t instanceof xh||(t=Uc(t)),!t)return new Tr;if(t instanceof Tr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,u=i-o,c=(i+o)/2;return u?(e===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?i+o:2-i-o,s*=60):u=c>0&&c<1?0:s,new Tr(s,u,c,t.opacity)}function lI(t,e,n,r){return arguments.length===1?gA(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lx(Tr,lI,mA(xh,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new Tr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new Tr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Nn(S1(t>=240?t-240:t+120,o,r),S1(t,o,r),S1(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Tr(WC(this.h),pf(this.s),pf(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vp(this.opacity);return`${t===1?"hsl(":"hsla("}${WC(this.h)}, ${pf(this.s)*100}%, ${pf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WC(t){return t=(t||0)%360,t<0?t+360:t}function pf(t){return Math.max(0,Math.min(1,t||0))}function S1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vA=t=>()=>t;function aI(t,e){return function(n){return t+n*e}}function uI(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cI(t){return(t=+t)==1?yA:function(e,n){return n-e?uI(e,n,t):vA(isNaN(e)?n:e)}}function yA(t,e){var n=e-t;return n?aI(t,n):vA(isNaN(t)?e:t)}const UC=function t(e){var n=cI(e);function r(o,i){var s=n((o=Jv(o)).r,(i=Jv(i)).r),u=n(o.g,i.g),c=n(o.b,i.b),d=yA(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=u(f),o.b=c(f),o.opacity=d(f),o+""}}return r.gamma=t,r}(1);function bi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Xv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C1=new RegExp(Xv.source,"g");function hI(t){return function(){return t}}function dI(t){return function(e){return t(e)+""}}function fI(t,e){var n=Xv.lastIndex=C1.lastIndex=0,r,o,i,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=Xv.exec(t))&&(o=C1.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,c.push({i:s,x:bi(r,o)})),n=C1.lastIndex;return n<e.length&&(i=e.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?c[0]?dI(c[0].x):hI(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)u[(p=c[f]).i]=p.x(d);return u.join("")})}var KC=180/Math.PI,wA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xA(t,e,n,r,o,i){var s,u,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*KC,skewX:Math.atan(c)*KC,scaleX:s,scaleY:u}}var mf;function pI(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?wA:xA(e.a,e.b,e.c,e.d,e.e,e.f)}function mI(t){return t==null||(mf||(mf=document.createElementNS("http://www.w3.org/2000/svg","g")),mf.setAttribute("transform",t),!(t=mf.transform.baseVal.consolidate()))?wA:(t=t.matrix,xA(t.a,t.b,t.c,t.d,t.e,t.f))}function bA(t,e,n,r){function o(d){return d.length?d.pop()+" ":""}function i(d,f,p,g,v,x){if(d!==p||f!==g){var k=v.push("translate(",null,e,null,n);x.push({i:k-4,x:bi(d,p)},{i:k-2,x:bi(f,g)})}else(p||g)&&v.push("translate("+p+e+g+n)}function s(d,f,p,g){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),g.push({i:p.push(o(p)+"rotate(",null,r)-2,x:bi(d,f)})):f&&p.push(o(p)+"rotate("+f+r)}function u(d,f,p,g){d!==f?g.push({i:p.push(o(p)+"skewX(",null,r)-2,x:bi(d,f)}):f&&p.push(o(p)+"skewX("+f+r)}function c(d,f,p,g,v,x){if(d!==p||f!==g){var k=v.push(o(v)+"scale(",null,",",null,")");x.push({i:k-4,x:bi(d,p)},{i:k-2,x:bi(f,g)})}else(p!==1||g!==1)&&v.push(o(v)+"scale("+p+","+g+")")}return function(d,f){var p=[],g=[];return d=t(d),f=t(f),i(d.translateX,d.translateY,f.translateX,f.translateY,p,g),s(d.rotate,f.rotate,p,g),u(d.skewX,f.skewX,p,g),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,p,g),d=f=null,function(v){for(var x=-1,k=g.length,E;++x<k;)p[(E=g[x]).i]=E.x(v);return p.join("")}}}var gI=bA(pI,"px, ","px)","deg)"),vI=bA(mI,", ",")",")"),yI=1e-12;function YC(t){return((t=Math.exp(t))+1/t)/2}function wI(t){return((t=Math.exp(t))-1/t)/2}function xI(t){return((t=Math.exp(2*t))-1)/(t+1)}const bI=function t(e,n,r){function o(i,s){var u=i[0],c=i[1],d=i[2],f=s[0],p=s[1],g=s[2],v=f-u,x=p-c,k=v*v+x*x,E,b;if(k<yI)b=Math.log(g/d)/e,E=function(T){return[u+T*v,c+T*x,d*Math.exp(e*T*b)]};else{var S=Math.sqrt(k),C=(g*g-d*d+r*k)/(2*d*n*S),M=(g*g-d*d-r*k)/(2*g*n*S),A=Math.log(Math.sqrt(C*C+1)-C),$=Math.log(Math.sqrt(M*M+1)-M);b=($-A)/e,E=function(T){var z=T*b,B=YC(A),F=d/(n*S)*(B*xI(e*z+A)-wI(A));return[u+F*v,c+F*x,d*B/YC(e*z+A)]}}return E.duration=b*1e3*e/Math.SQRT2,E}return o.rho=function(i){var s=Math.max(.001,+i),u=s*s,c=u*u;return t(s,u,c)},o}(Math.SQRT2,2,4);var Na=0,nc=0,Wu=0,kA=1e3,jp,rc,Hp=0,Qs=0,zm=0,Kc=typeof performance=="object"&&performance.now?performance:Date,SA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ax(){return Qs||(SA(kI),Qs=Kc.now()+zm)}function kI(){Qs=0}function Wp(){this._call=this._time=this._next=null}Wp.prototype=CA.prototype={constructor:Wp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ax():+n)+(e==null?0:+e),!this._next&&rc!==this&&(rc?rc._next=this:jp=this,rc=this),this._call=t,this._time=n,ey()},stop:function(){this._call&&(this._call=null,this._time=1/0,ey())}};function CA(t,e,n){var r=new Wp;return r.restart(t,e,n),r}function SI(){ax(),++Na;for(var t=jp,e;t;)(e=Qs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Na}function QC(){Qs=(Hp=Kc.now())+zm,Na=nc=0;try{SI()}finally{Na=0,EI(),Qs=0}}function CI(){var t=Kc.now(),e=t-Hp;e>kA&&(zm-=e,Hp=t)}function EI(){for(var t,e=jp,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:jp=n);rc=t,ey(r)}function ey(t){if(!Na){nc&&(nc=clearTimeout(nc));var e=t-Qs;e>24?(t<1/0&&(nc=setTimeout(QC,t-Kc.now()-zm)),Wu&&(Wu=clearInterval(Wu))):(Wu||(Hp=Kc.now(),Wu=setInterval(CI,kA)),Na=1,SA(QC))}}function ZC(t,e,n){var r=new Wp;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,n),r}var MI=Lm("start","end","cancel","interrupt"),NI=[],EA=0,GC=1,ty=2,np=3,qC=4,ny=5,rp=6;function _m(t,e,n,r,o,i){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;AI(t,n,{name:e,index:r,group:o,on:MI,tween:NI,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:EA})}function ux(t,e){var n=Ir(t,e);if(n.state>EA)throw new Error("too late; already scheduled");return n}function ao(t,e){var n=Ir(t,e);if(n.state>np)throw new Error("too late; already running");return n}function Ir(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function AI(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=CA(i,0,n.time);function i(d){n.state=GC,n.timer.restart(s,n.delay,n.time),n.delay<=d&&s(d-n.delay)}function s(d){var f,p,g,v;if(n.state!==GC)return c();for(f in r)if(v=r[f],v.name===n.name){if(v.state===np)return ZC(s);v.state===qC?(v.state=rp,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[f]):+f<e&&(v.state=rp,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[f])}if(ZC(function(){n.state===np&&(n.state=qC,n.timer.restart(u,n.delay,n.time),u(d))}),n.state=ty,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ty){for(n.state=np,o=new Array(g=n.tween.length),f=0,p=-1;f<g;++f)(v=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++p]=v);o.length=p+1}}function u(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=ny,1),p=-1,g=o.length;++p<g;)o[p].call(t,f);n.state===ny&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=rp,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function op(t,e){var n=t.__transition,r,o,i=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){i=!1;continue}o=r.state>ty&&r.state<ny,r.state=rp,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}i&&delete t.__transition}}function OI(t){return this.each(function(){op(this,t)})}function TI(t,e){var n,r;return function(){var o=ao(this,t),i=o.tween;if(i!==n){r=n=i;for(var s=0,u=r.length;s<u;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function PI(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=ao(this,t),s=i.tween;if(s!==r){o=(r=s).slice();for(var u={name:e,value:n},c=0,d=o.length;c<d;++c)if(o[c].name===e){o[c]=u;break}c===d&&o.push(u)}i.tween=o}}function $I(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ir(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===t)return s.value;return null}return this.each((e==null?TI:PI)(n,t,e))}function cx(t,e,n){var r=t._id;return t.each(function(){var o=ao(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Ir(o,r).value[e]}}function MA(t,e){var n;return(typeof e=="number"?bi:e instanceof Uc?UC:(n=Uc(e))?(e=n,UC):fI)(t,e)}function LI(t){return function(){this.removeAttribute(t)}}function RI(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zI(t,e,n){var r,o=n+"",i;return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function _I(t,e,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function DI(t,e,n){var r,o,i;return function(){var s,u=n(this),c;return u==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=u+"",s===c?null:s===r&&c===o?i:(o=c,i=e(r=s,u)))}}function II(t,e,n){var r,o,i;return function(){var s,u=n(this),c;return u==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=u+"",s===c?null:s===r&&c===o?i:(o=c,i=e(r=s,u)))}}function BI(t,e){var n=Rm(t),r=n==="transform"?vI:MA;return this.attrTween(t,typeof e=="function"?(n.local?II:DI)(n,r,cx(this,"attr."+t,e)):e==null?(n.local?RI:LI)(n):(n.local?_I:zI)(n,r,e))}function FI(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function VI(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jI(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&VI(t,i)),n}return o._value=e,o}function HI(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&FI(t,i)),n}return o._value=e,o}function WI(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Rm(t);return this.tween(n,(r.local?jI:HI)(r,e))}function UI(t,e){return function(){ux(this,t).delay=+e.apply(this,arguments)}}function KI(t,e){return e=+e,function(){ux(this,t).delay=e}}function YI(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?UI:KI)(e,t)):Ir(this.node(),e).delay}function QI(t,e){return function(){ao(this,t).duration=+e.apply(this,arguments)}}function ZI(t,e){return e=+e,function(){ao(this,t).duration=e}}function GI(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?QI:ZI)(e,t)):Ir(this.node(),e).duration}function qI(t,e){if(typeof e!="function")throw new Error;return function(){ao(this,t).ease=e}}function JI(t){var e=this._id;return arguments.length?this.each(qI(e,t)):Ir(this.node(),e).ease}function XI(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ao(this,t).ease=n}}function e8(t){if(typeof t!="function")throw new Error;return this.each(XI(this._id,t))}function t8(t){typeof t!="function"&&(t=nA(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],s=i.length,u=r[o]=[],c,d=0;d<s;++d)(c=i[d])&&t.call(c,c.__data__,d,i)&&u.push(c);return new Do(r,this._parents,this._name,this._id)}function n8(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),s=new Array(r),u=0;u<i;++u)for(var c=e[u],d=n[u],f=c.length,p=s[u]=new Array(f),g,v=0;v<f;++v)(g=c[v]||d[v])&&(p[v]=g);for(;u<r;++u)s[u]=e[u];return new Do(s,this._parents,this._name,this._id)}function r8(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function o8(t,e,n){var r,o,i=r8(e)?ux:ao;return function(){var s=i(this,t),u=s.on;u!==r&&(o=(r=u).copy()).on(e,n),s.on=o}}function i8(t,e){var n=this._id;return arguments.length<2?Ir(this.node(),n).on.on(t):this.each(o8(n,t,e))}function s8(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function l8(){return this.on("end.remove",s8(this._id))}function a8(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ix(t));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var u=r[s],c=u.length,d=i[s]=new Array(c),f,p,g=0;g<c;++g)(f=u[g])&&(p=t.call(f,f.__data__,g,u))&&("__data__"in f&&(p.__data__=f.__data__),d[g]=p,_m(d[g],e,n,g,d,Ir(f,n)));return new Do(i,this._parents,e,n)}function u8(t){var e=this._name,n=this._id;typeof t!="function"&&(t=tA(t));for(var r=this._groups,o=r.length,i=[],s=[],u=0;u<o;++u)for(var c=r[u],d=c.length,f,p=0;p<d;++p)if(f=c[p]){for(var g=t.call(f,f.__data__,p,c),v,x=Ir(f,n),k=0,E=g.length;k<E;++k)(v=g[k])&&_m(v,e,n,k,g,x);i.push(g),s.push(f)}return new Do(i,s,e,n)}var c8=wh.prototype.constructor;function h8(){return new c8(this._groups,this._parents)}function d8(t,e){var n,r,o;return function(){var i=Ma(this,t),s=(this.style.removeProperty(t),Ma(this,t));return i===s?null:i===n&&s===r?o:o=e(n=i,r=s)}}function NA(t){return function(){this.style.removeProperty(t)}}function f8(t,e,n){var r,o=n+"",i;return function(){var s=Ma(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}function p8(t,e,n){var r,o,i;return function(){var s=Ma(this,t),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(t),Ma(this,t))),s===c?null:s===r&&c===o?i:(o=c,i=e(r=s,u))}}function m8(t,e){var n,r,o,i="style."+e,s="end."+i,u;return function(){var c=ao(this,t),d=c.on,f=c.value[i]==null?u||(u=NA(e)):void 0;(d!==n||o!==f)&&(r=(n=d).copy()).on(s,o=f),c.on=r}}function g8(t,e,n){var r=(t+="")=="transform"?gI:MA;return e==null?this.styleTween(t,d8(t,r)).on("end.style."+t,NA(t)):typeof e=="function"?this.styleTween(t,p8(t,r,cx(this,"style."+t,e))).each(m8(this._id,t)):this.styleTween(t,f8(t,r,e),n).on("end.style."+t,null)}function v8(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function y8(t,e,n){var r,o;function i(){var s=e.apply(this,arguments);return s!==o&&(r=(o=s)&&v8(t,s,n)),r}return i._value=e,i}function w8(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,y8(t,e,n??""))}function x8(t){return function(){this.textContent=t}}function b8(t){return function(){var e=t(this);this.textContent=e??""}}function k8(t){return this.tween("text",typeof t=="function"?b8(cx(this,"text",t)):x8(t==null?"":t+""))}function S8(t){return function(e){this.textContent=t.call(this,e)}}function C8(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&S8(o)),e}return r._value=t,r}function E8(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,C8(t))}function M8(){for(var t=this._name,e=this._id,n=AA(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],u=s.length,c,d=0;d<u;++d)if(c=s[d]){var f=Ir(c,e);_m(c,t,n,d,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Do(r,this._parents,t,n)}function N8(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var u={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var d=ao(this,r),f=d.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),d.on=e}),o===0&&i()})}var A8=0;function Do(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function AA(){return++A8}var So=wh.prototype;Do.prototype={constructor:Do,select:a8,selectAll:u8,selectChild:So.selectChild,selectChildren:So.selectChildren,filter:t8,merge:n8,selection:h8,transition:M8,call:So.call,nodes:So.nodes,node:So.node,size:So.size,empty:So.empty,each:So.each,on:i8,attr:BI,attrTween:WI,style:g8,styleTween:w8,text:k8,textTween:E8,remove:l8,tween:$I,delay:YI,duration:GI,ease:JI,easeVarying:e8,end:N8,[Symbol.iterator]:So[Symbol.iterator]};function O8(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var T8={time:null,delay:0,duration:250,ease:O8};function P8(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function $8(t){var e,n;t instanceof Do?(e=t._id,t=t._name):(e=AA(),(n=T8).time=ax(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],u=s.length,c,d=0;d<u;++d)(c=s[d])&&_m(c,t,e,d,s,n||P8(c,e));return new Do(r,this._parents,t,e)}wh.prototype.interrupt=OI;wh.prototype.transition=$8;const gf=t=>()=>t;function L8(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Oo(t,e,n){this.k=t,this.x=e,this.y=n}Oo.prototype={constructor:Oo,scale:function(t){return t===1?this:new Oo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Oo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dm=new Oo(1,0,0);OA.prototype=Oo.prototype;function OA(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Dm;return t.__zoom}function E1(t){t.stopImmediatePropagation()}function Uu(t){t.preventDefault(),t.stopImmediatePropagation()}function R8(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function z8(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function JC(){return this.__zoom||Dm}function _8(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function D8(){return navigator.maxTouchPoints||"ontouchstart"in this}function I8(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function TA(){var t=R8,e=z8,n=I8,r=_8,o=D8,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,c=bI,d=Lm("start","zoom","end"),f,p,g,v=500,x=150,k=0,E=10;function b(P){P.property("__zoom",JC).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",F).filter(o).on("touchstart.zoom",Q).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(P,H,D,U){var O=P.selection?P.selection():P;O.property("__zoom",JC),P!==O?A(P,H,D,U):O.interrupt().each(function(){$(this,arguments).event(U).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},b.scaleBy=function(P,H,D,U){b.scaleTo(P,function(){var O=this.__zoom.k,L=typeof H=="function"?H.apply(this,arguments):H;return O*L},D,U)},b.scaleTo=function(P,H,D,U){b.transform(P,function(){var O=e.apply(this,arguments),L=this.__zoom,_=D==null?M(O):typeof D=="function"?D.apply(this,arguments):D,J=L.invert(_),X=typeof H=="function"?H.apply(this,arguments):H;return n(C(S(L,X),_,J),O,s)},D,U)},b.translateBy=function(P,H,D,U){b.transform(P,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof D=="function"?D.apply(this,arguments):D),e.apply(this,arguments),s)},null,U)},b.translateTo=function(P,H,D,U,O){b.transform(P,function(){var L=e.apply(this,arguments),_=this.__zoom,J=U==null?M(L):typeof U=="function"?U.apply(this,arguments):U;return n(Dm.translate(J[0],J[1]).scale(_.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof D=="function"?-D.apply(this,arguments):-D),L,s)},U,O)};function S(P,H){return H=Math.max(i[0],Math.min(i[1],H)),H===P.k?P:new Oo(H,P.x,P.y)}function C(P,H,D){var U=H[0]-D[0]*P.k,O=H[1]-D[1]*P.k;return U===P.x&&O===P.y?P:new Oo(P.k,U,O)}function M(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function A(P,H,D,U){P.on("start.zoom",function(){$(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(U).end()}).tween("zoom",function(){var O=this,L=arguments,_=$(O,L).event(U),J=e.apply(O,L),X=D==null?M(J):typeof D=="function"?D.apply(O,L):D,ce=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),se=O.__zoom,ue=typeof H=="function"?H.apply(O,L):H,de=c(se.invert(X).concat(ce/se.k),ue.invert(X).concat(ce/ue.k));return function(we){if(we===1)we=ue;else{var ae=de(we),Te=ce/ae[2];we=new Oo(Te,X[0]-ae[0]*Te,X[1]-ae[1]*Te)}_.zoom(null,we)}})}function $(P,H,D){return!D&&P.__zooming||new T(P,H)}function T(P,H){this.that=P,this.args=H,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,H),this.taps=0}T.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,H){return this.mouse&&P!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var H=jn(this.that).datum();d.call(P,this.that,new L8(P,{sourceEvent:this.sourceEvent,target:b,type:P,transform:this.that.__zoom,dispatch:d}),H)}};function z(P,...H){if(!t.apply(this,arguments))return;var D=$(this,H).event(P),U=this.__zoom,O=Math.max(i[0],Math.min(i[1],U.k*Math.pow(2,r.apply(this,arguments)))),L=Ar(P);if(D.wheel)(D.mouse[0][0]!==L[0]||D.mouse[0][1]!==L[1])&&(D.mouse[1]=U.invert(D.mouse[0]=L)),clearTimeout(D.wheel);else{if(U.k===O)return;D.mouse=[L,U.invert(L)],op(this),D.start()}Uu(P),D.wheel=setTimeout(_,x),D.zoom("mouse",n(C(S(U,O),D.mouse[0],D.mouse[1]),D.extent,s));function _(){D.wheel=null,D.end()}}function B(P,...H){if(g||!t.apply(this,arguments))return;var D=P.currentTarget,U=$(this,H,!0).event(P),O=jn(P.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",ce,!0),L=Ar(P,D),_=P.clientX,J=P.clientY;dA(P.view),E1(P),U.mouse=[L,this.__zoom.invert(L)],op(this),U.start();function X(se){if(Uu(se),!U.moved){var ue=se.clientX-_,de=se.clientY-J;U.moved=ue*ue+de*de>k}U.event(se).zoom("mouse",n(C(U.that.__zoom,U.mouse[0]=Ar(se,D),U.mouse[1]),U.extent,s))}function ce(se){O.on("mousemove.zoom mouseup.zoom",null),fA(se.view,U.moved),Uu(se),U.event(se).end()}}function F(P,...H){if(t.apply(this,arguments)){var D=this.__zoom,U=Ar(P.changedTouches?P.changedTouches[0]:P,this),O=D.invert(U),L=D.k*(P.shiftKey?.5:2),_=n(C(S(D,L),U,O),e.apply(this,H),s);Uu(P),u>0?jn(this).transition().duration(u).call(A,_,U,P):jn(this).call(b.transform,_,U,P)}}function Q(P,...H){if(t.apply(this,arguments)){var D=P.touches,U=D.length,O=$(this,H,P.changedTouches.length===U).event(P),L,_,J,X;for(E1(P),_=0;_<U;++_)J=D[_],X=Ar(J,this),X=[X,this.__zoom.invert(X),J.identifier],O.touch0?!O.touch1&&O.touch0[2]!==X[2]&&(O.touch1=X,O.taps=0):(O.touch0=X,L=!0,O.taps=1+!!f);f&&(f=clearTimeout(f)),L&&(O.taps<2&&(p=X[0],f=setTimeout(function(){f=null},v)),op(this),O.start())}}function W(P,...H){if(this.__zooming){var D=$(this,H).event(P),U=P.changedTouches,O=U.length,L,_,J,X;for(Uu(P),L=0;L<O;++L)_=U[L],J=Ar(_,this),D.touch0&&D.touch0[2]===_.identifier?D.touch0[0]=J:D.touch1&&D.touch1[2]===_.identifier&&(D.touch1[0]=J);if(_=D.that.__zoom,D.touch1){var ce=D.touch0[0],se=D.touch0[1],ue=D.touch1[0],de=D.touch1[1],we=(we=ue[0]-ce[0])*we+(we=ue[1]-ce[1])*we,ae=(ae=de[0]-se[0])*ae+(ae=de[1]-se[1])*ae;_=S(_,Math.sqrt(we/ae)),J=[(ce[0]+ue[0])/2,(ce[1]+ue[1])/2],X=[(se[0]+de[0])/2,(se[1]+de[1])/2]}else if(D.touch0)J=D.touch0[0],X=D.touch0[1];else return;D.zoom("touch",n(C(_,J,X),D.extent,s))}}function G(P,...H){if(this.__zooming){var D=$(this,H).event(P),U=P.changedTouches,O=U.length,L,_;for(E1(P),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),L=0;L<O;++L)_=U[L],D.touch0&&D.touch0[2]===_.identifier?delete D.touch0:D.touch1&&D.touch1[2]===_.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(_=Ar(_,this),Math.hypot(p[0]-_[0],p[1]-_[1])<E)){var J=jn(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return b.wheelDelta=function(P){return arguments.length?(r=typeof P=="function"?P:gf(+P),b):r},b.filter=function(P){return arguments.length?(t=typeof P=="function"?P:gf(!!P),b):t},b.touchable=function(P){return arguments.length?(o=typeof P=="function"?P:gf(!!P),b):o},b.extent=function(P){return arguments.length?(e=typeof P=="function"?P:gf([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),b):e},b.scaleExtent=function(P){return arguments.length?(i[0]=+P[0],i[1]=+P[1],b):[i[0],i[1]]},b.translateExtent=function(P){return arguments.length?(s[0][0]=+P[0][0],s[1][0]=+P[1][0],s[0][1]=+P[0][1],s[1][1]=+P[1][1],b):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},b.constrain=function(P){return arguments.length?(n=P,b):n},b.duration=function(P){return arguments.length?(u=+P,b):u},b.interpolate=function(P){return arguments.length?(c=P,b):c},b.on=function(){var P=d.on.apply(d,arguments);return P===d?b:P},b.clickDistance=function(P){return arguments.length?(k=(P=+P)*P,b):Math.sqrt(k)},b.tapDistance=function(P){return arguments.length?(E=+P,b):E},b}const Vo={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},Yc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],PA=["Enter"," ","Escape"];var Aa;(function(t){t.Strict="strict",t.Loose="loose"})(Aa||(Aa={}));var Fs;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Fs||(Fs={}));var Qc;(function(t){t.Partial="partial",t.Full="full"})(Qc||(Qc={}));const $A={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Mi;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Mi||(Mi={}));var Up;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Up||(Up={}));var Se;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Se||(Se={}));const XC={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top};function LA(t){return t===null?null:t?"valid":"invalid"}const RA=t=>"id"in t&&"source"in t&&"target"in t,B8=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),hx=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),bh=(t,e=[0,0])=>{const{width:n,height:r}=jo(t),o=t.origin??e,i=n*o[0],s=r*o[1];return{x:t.position.x-i,y:t.position.y-s}},F8=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,o)=>{const i=typeof o=="string";let s=!e.nodeLookup&&!i?o:void 0;e.nodeLookup&&(s=i?e.nodeLookup.get(o):hx(o)?o:e.nodeLookup.get(o.id));const u=s?Kp(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Im(r,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Bm(n)},kh=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const o=Kp(r);n=Im(n,o)}}),Bm(n)},zA=(t,e,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const u={...Sh(e,[n,r,o]),width:e.width/o,height:e.height/o},c=[];for(const d of t.values()){const{measured:f,selectable:p=!0,hidden:g=!1}=d;if(s&&!p||g)continue;const v=f.width??d.width??d.initialWidth??null,x=f.height??d.height??d.initialHeight??null,k=Zc(u,Ta(d)),E=(v??0)*(x??0),b=i&&k>0;(!d.internals.handleBounds||b||k>=E||d.dragging)&&c.push(d)}return c},V8=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function ry(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&(e!=null&&e.includeHiddenNodes||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function oy({nodes:t,width:e,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(t.size===0)return Promise.resolve(!1);const u=kh(t),c=dx(u,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function _A({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(t),u=s.parentId?n.get(s.parentId):void 0,{x:c,y:d}=u?u.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let p=o;if(s.extent==="parent"&&!s.expandParent)if(!u)i==null||i("005",Vo.error005());else{const v=u.measured.width,x=u.measured.height;v&&x&&(p=[[c,d],[c+v,d+x]])}else u&&Pa(s.extent)&&(p=[[s.extent[0][0]+c,s.extent[0][1]+d],[s.extent[1][0]+c,s.extent[1][1]+d]]);const g=Pa(p)?Zs(e,p,s.measured):e;return{position:{x:g.x-c+s.measured.width*f[0],y:g.y-d+s.measured.height*f[1]},positionAbsolute:g}}async function j8({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(t.map(p=>p.id)),s=[];for(const p of n){if(p.deletable===!1)continue;const g=i.has(p.id),v=!g&&p.parentId&&s.find(x=>x.id===p.parentId);(g||v)&&s.push(p)}const u=new Set(e.map(p=>p.id)),c=r.filter(p=>p.deletable!==!1),d=V8(s,c);for(const p of c)u.has(p.id)&&!d.find(g=>g.id===p.id)&&d.push(p);if(!o)return{edges:d,nodes:s};const f=await o({nodes:s,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:s}:{edges:[],nodes:[]}:f}const Oa=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Zs=(t={x:0,y:0},e,n)=>({x:Oa(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Oa(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function DA(t,e,n){const{width:r,height:o}=jo(n),{x:i,y:s}=n.internals.positionAbsolute;return Zs(t,[[i,s],[i+r,s+o]],e)}const e2=(t,e,n)=>t<e?Oa(Math.abs(t-e),1,e)/e:t>n?-Oa(Math.abs(t-n),1,e)/e:0,IA=(t,e,n=15,r=40)=>{const o=e2(t.x,r,e.width-r)*n,i=e2(t.y,r,e.height-r)*n;return[o,i]},Im=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),iy=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Bm=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Ta=(t,e=[0,0])=>{var n,r;const{x:o,y:i}=hx(t)?t.internals.positionAbsolute:bh(t,e);return{x:o,y:i,width:((n=t.measured)==null?void 0:n.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},Kp=(t,e=[0,0])=>{var n,r;const{x:o,y:i}=hx(t)?t.internals.positionAbsolute:bh(t,e);return{x:o,y:i,x2:o+(((n=t.measured)==null?void 0:n.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},BA=(t,e)=>Bm(Im(iy(t),iy(e))),Zc=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},t2=t=>Pr(t.width)&&Pr(t.height)&&Pr(t.x)&&Pr(t.y),Pr=t=>!isNaN(t)&&isFinite(t),H8=(t,e)=>{},Fm=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Sh=({x:t,y:e},[n,r,o],i=!1,s=[1,1])=>{const u={x:(t-n)/o,y:(e-r)/o};return i?Fm(u,s):u},FA=({x:t,y:e},[n,r,o])=>({x:t*o+n,y:e*o+r}),dx=(t,e,n,r,o,i)=>{const s=e/(t.width*(1+i)),u=n/(t.height*(1+i)),c=Math.min(s,u),d=Oa(c,r,o),f=t.x+t.width/2,p=t.y+t.height/2,g=e/2-f*d,v=n/2-p*d;return{x:g,y:v,zoom:d}},Yp=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Pa(t){return t!==void 0&&t!=="parent"}function jo(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function VA(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function jA(t,e={width:0,height:0},n,r,o){let i=n;const s={...t};for(;i;){const u=r.get(i);if(i=u==null?void 0:u.parentId,u){const c=u.origin||o;s.x+=u.internals.positionAbsolute.x-(e.width??0)*c[0],s.y+=u.internals.positionAbsolute.y-(e.height??0)*c[1]}}return s}function yc(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r}){const{x:o,y:i}=Po(t),s=Sh({x:o,y:i},r),{x:u,y:c}=n?Fm(s,e):s;return{xSnapped:u,ySnapped:c,...s}}const Vm=t=>({width:t.offsetWidth,height:t.offsetHeight}),HA=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},W8=["INPUT","SELECT","TEXTAREA"];function sy(t){var e,n;const r=((n=(e=t.composedPath)==null?void 0:e.call(t))==null?void 0:n[0])||t.target;return W8.includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const WA=t=>"clientX"in t,Po=(t,e)=>{var n,r;const o=WA(t),i=o?t.clientX:(n=t.touches)==null?void 0:n[0].clientX,s=o?t.clientY:(r=t.touches)==null?void 0:r[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},n2=(t,e,n,r,o)=>{const i=e.querySelectorAll(`.${t}`);return!i||!i.length?null:Array.from(i).map(s=>{const u=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...Vm(s)}})};function UA({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:u}){const c=t*.125+o*.375+s*.375+n*.125,d=e*.125+i*.375+u*.375+r*.125,f=Math.abs(c-t),p=Math.abs(d-e);return[c,d,f,p]}function vf(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function r2({pos:t,x1:e,y1:n,x2:r,y2:o,c:i}){switch(t){case Se.Left:return[e-vf(e-r,i),n];case Se.Right:return[e+vf(r-e,i),n];case Se.Top:return[e,n-vf(n-o,i)];case Se.Bottom:return[e,n+vf(o-n,i)]}}function KA({sourceX:t,sourceY:e,sourcePosition:n=Se.Bottom,targetX:r,targetY:o,targetPosition:i=Se.Top,curvature:s=.25}){const[u,c]=r2({pos:n,x1:t,y1:e,x2:r,y2:o,c:s}),[d,f]=r2({pos:i,x1:r,y1:o,x2:t,y2:e,c:s}),[p,g,v,x]=UA({sourceX:t,sourceY:e,targetX:r,targetY:o,sourceControlX:u,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${t},${e} C${u},${c} ${d},${f} ${r},${o}`,p,g,v,x]}function YA({sourceX:t,sourceY:e,targetX:n,targetY:r}){const o=Math.abs(n-t)/2,i=n<t?n+o:n-o,s=Math.abs(r-e)/2,u=r<e?r+s:r-s;return[i,u,o,s]}function U8({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(i?s:0)}function K8({sourceNode:t,targetNode:e,width:n,height:r,transform:o}){const i=Im(Kp(t),Kp(e));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Zc(s,Bm(i))>0}const Y8=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Q8=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),QA=(t,e)=>{if(!t.source||!t.target)return e;let n;return RA(t)?n={...t}:n={...t,id:Y8(t)},Q8(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function ZA({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[o,i,s,u]=YA({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,o,i,s,u]}const o2={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}},Z8=({source:t,sourcePosition:e=Se.Bottom,target:n})=>e===Se.Left||e===Se.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},i2=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function G8({source:t,sourcePosition:e=Se.Bottom,target:n,targetPosition:r=Se.Top,center:o,offset:i}){const s=o2[e],u=o2[r],c={x:t.x+s.x*i,y:t.y+s.y*i},d={x:n.x+u.x*i,y:n.y+u.y*i},f=Z8({source:c,sourcePosition:e,target:d}),p=f.x!==0?"x":"y",g=f[p];let v=[],x,k;const E={x:0,y:0},b={x:0,y:0},[S,C,M,A]=YA({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[p]*u[p]===-1){x=o.x??S,k=o.y??C;const $=[{x,y:c.y},{x,y:d.y}],T=[{x:c.x,y:k},{x:d.x,y:k}];s[p]===g?v=p==="x"?$:T:v=p==="x"?T:$}else{const $=[{x:c.x,y:d.y}],T=[{x:d.x,y:c.y}];if(p==="x"?v=s.x===g?T:$:v=s.y===g?$:T,e===r){const W=Math.abs(t[p]-n[p]);if(W<=i){const G=Math.min(i-1,i-W);s[p]===g?E[p]=(c[p]>t[p]?-1:1)*G:b[p]=(d[p]>n[p]?-1:1)*G}}if(e!==r){const W=p==="x"?"y":"x",G=s[p]===u[W],P=c[W]>d[W],H=c[W]<d[W];(s[p]===1&&(!G&&P||G&&H)||s[p]!==1&&(!G&&H||G&&P))&&(v=p==="x"?$:T)}const z={x:c.x+E.x,y:c.y+E.y},B={x:d.x+b.x,y:d.y+b.y},F=Math.max(Math.abs(z.x-v[0].x),Math.abs(B.x-v[0].x)),Q=Math.max(Math.abs(z.y-v[0].y),Math.abs(B.y-v[0].y));F>=Q?(x=(z.x+B.x)/2,k=v[0].y):(x=v[0].x,k=(z.y+B.y)/2)}return[[t,{x:c.x+E.x,y:c.y+E.y},...v,{x:d.x+b.x,y:d.y+b.y},n],x,k,M,A]}function q8(t,e,n,r){const o=Math.min(i2(t,e)/2,i2(e,n)/2,r),{x:i,y:s}=e;if(t.x===i&&i===n.x||t.y===s&&s===n.y)return`L${i} ${s}`;if(t.y===s){const d=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${i+o*d},${s}Q ${i},${s} ${i},${s+o*f}`}const u=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${i},${s+o*c}Q ${i},${s} ${i+o*u},${s}`}function ly({sourceX:t,sourceY:e,sourcePosition:n=Se.Bottom,targetX:r,targetY:o,targetPosition:i=Se.Top,borderRadius:s=5,centerX:u,centerY:c,offset:d=20}){const[f,p,g,v,x]=G8({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:u,y:c},offset:d});return[f.reduce((k,E,b)=>{let S="";return b>0&&b<f.length-1?S=q8(f[b-1],E,f[b+1],s):S=`${b===0?"M":"L"}${E.x} ${E.y}`,k+=S,k},""),p,g,v,x]}function s2(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function J8(t){var e;const{sourceNode:n,targetNode:r}=t;if(!s2(n)||!s2(r))return null;const o=n.internals.handleBounds||l2(n.handles),i=r.internals.handleBounds||l2(r.handles),s=a2((o==null?void 0:o.source)??[],t.sourceHandle),u=a2(t.connectionMode===Aa.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!u)return(e=t.onError)==null||e.call(t,"008",Vo.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=(s==null?void 0:s.position)||Se.Bottom,d=(u==null?void 0:u.position)||Se.Top,f=Gc(n,s,c),p=Gc(r,u,d);return{sourceX:f.x,sourceY:f.y,targetX:p.x,targetY:p.y,sourcePosition:c,targetPosition:d}}function l2(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Gc(t,e,n=Se.Left,r=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,i=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:u}=e??jo(t);if(r)return{x:o+s/2,y:i+u/2};switch((e==null?void 0:e.position)??n){case Se.Top:return{x:o+s/2,y:i};case Se.Right:return{x:o+s,y:i+u/2};case Se.Bottom:return{x:o+s/2,y:i+u};case Se.Left:return{x:o,y:i+u/2}}}function a2(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function ay(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(n=>`${n}=${t[n]}`).join("&")}`:""}function X8(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return t.reduce((s,u)=>([u.markerStart||r,u.markerEnd||o].forEach(c=>{if(c&&typeof c=="object"){const d=ay(c,e);i.has(d)||(s.push({id:d,color:c.color||n,...c}),i.add(d))}}),s),[]).sort((s,u)=>s.id.localeCompare(u.id))}const fx={nodeOrigin:[0,0],nodeExtent:Yc,elevateNodesOnSelect:!0,defaults:{}},e6={...fx,checkEquality:!0};function px(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function t6(t,e,n){const r=px(fx,n);for(const o of t.values())if(o.parentId)mx(o,t,e,r);else{const i=bh(o,r.nodeOrigin),s=Pa(o.extent)?o.extent:r.nodeExtent,u=Zs(i,s,jo(o));o.internals.positionAbsolute=u}}function uy(t,e,n,r){var o,i;const s=px(e6,r),u=new Map(e),c=s!=null&&s.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const d of t){let f=u.get(d.id);if(s.checkEquality&&d===(f==null?void 0:f.internals.userNode))e.set(d.id,f);else{const p=bh(d,s.nodeOrigin),g=Pa(d.extent)?d.extent:s.nodeExtent,v=Zs(p,g,jo(d));f={...s.defaults,...d,measured:{width:(o=d.measured)==null?void 0:o.width,height:(i=d.measured)==null?void 0:i.height},internals:{positionAbsolute:v,handleBounds:d.measured?f==null?void 0:f.internals.handleBounds:void 0,z:GA(d,c),userNode:d}},e.set(d.id,f)}d.parentId&&mx(f,e,n,r)}}function n6(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function mx(t,e,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:s}=px(fx,r),u=t.parentId,c=e.get(u);if(!c){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}n6(t,n);const d=o?1e3:0,{x:f,y:p,z:g}=r6(t,c,i,s,d),{positionAbsolute:v}=t.internals,x=f!==v.x||p!==v.y;(x||g!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:x?{x:f,y:p}:v,z:g})}function GA(t,e){return(Pr(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function r6(t,e,n,r,o){const{x:i,y:s}=e.internals.positionAbsolute,u=jo(t),c=bh(t,n),d=Pa(t.extent)?Zs(c,t.extent,u):c;let f=Zs({x:i+d.x,y:s+d.y},r,u);t.extent==="parent"&&(f=DA(f,u,e));const p=GA(t,o),g=e.internals.z??0;return{x:f.x,y:f.y,z:g>p?g:p}}function gx(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const u of t){const c=e.get(u.parentId);if(!c)continue;const d=((o=s.get(u.parentId))==null?void 0:o.expandedRect)??Ta(c),f=BA(d,u.rect);s.set(u.parentId,{expandedRect:f,parent:c})}return s.size>0&&s.forEach(({expandedRect:u,parent:c},d)=>{var f;const p=c.internals.positionAbsolute,g=jo(c),v=c.origin??r,x=u.x<p.x?Math.round(Math.abs(p.x-u.x)):0,k=u.y<p.y?Math.round(Math.abs(p.y-u.y)):0,E=Math.max(g.width,Math.round(u.width)),b=Math.max(g.height,Math.round(u.height)),S=(E-g.width)*v[0],C=(b-g.height)*v[1];(x>0||k>0||S||C)&&(i.push({id:d,type:"position",position:{x:c.position.x-x+S,y:c.position.y-k+C}}),(f=n.get(d))==null||f.forEach(M=>{t.some(A=>A.id===M.id)||i.push({id:M.id,type:"position",position:{x:M.position.x+x,y:M.position.y+k}})})),(g.width<u.width||g.height<u.height||x||k)&&i.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:E+(x?v[0]*x-S:0),height:b+(k?v[1]*k-C:0)}})}),i}function o6(t,e,n,r,o,i){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!s)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=[];for(const g of t.values()){const v=e.get(g.id);if(v)if(v.hidden)v.internals={...v.internals,handleBounds:void 0},u=!0;else{const x=Vm(g.nodeElement),k=v.measured.width!==x.width||v.measured.height!==x.height;if(x.width&&x.height&&(k||!v.internals.handleBounds||g.force)){const E=g.nodeElement.getBoundingClientRect(),b=Pa(v.extent)?v.extent:i;let{positionAbsolute:S}=v.internals;v.parentId&&v.extent==="parent"?S=DA(S,x,e.get(v.parentId)):b&&(S=Zs(S,b,x)),v.measured=x,v.internals={...v.internals,positionAbsolute:S,handleBounds:{source:n2("source",g.nodeElement,E,f,v.id),target:n2("target",g.nodeElement,E,f,v.id)}},v.parentId&&mx(v,e,n,{nodeOrigin:o}),u=!0,k&&(c.push({id:v.id,type:"dimensions",dimensions:x}),v.expandParent&&v.parentId&&p.push({id:v.id,parentId:v.parentId,rect:Ta(v,o)}))}}}if(p.length>0){const g=gx(p,e,n,o);c.push(...g)}return{changes:c,updatedInternals:u}}async function i6({delta:t,panZoom:e,transform:n,translateExtent:r,width:o,height:i}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,i]],r),u=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(u)}function qA(t,e,n){t.clear(),e.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:u=null}=r,c=`${o}-source-${s}`,d=`${i}-target-${u}`,f=t.get(c)||new Map,p=t.get(d)||new Map,g={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:u};e.set(r.id,r),t.set(c,f.set(`${i}-${u}`,g)),t.set(d,p.set(`${o}-${s}`,g))}}function JA(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:JA(n,e):!1}function u2(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function s6(t,e,n,r){const o=new Map;for(const[i,s]of t)if((s.selected||s.id===r)&&(!s.parentId||!JA(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const u=t.get(i);u&&o.set(i,{id:i,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return o}function M1({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,i;const s=[];for(const[c,d]of e){const f=(o=n.get(c))==null?void 0:o.internals.userNode;f&&s.push({...f,position:d.position,dragging:r})}if(!t)return[s[0],s];const u=n.get(t).internals.userNode;return[{...u,position:((i=e.get(t))==null?void 0:i.position)||u.position,dragging:r},s]}function l6({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,u=new Map,c=!1,d={x:0,y:0},f=null,p=!1,g=null,v=!1;function x({noDragClassName:E,handleSelector:b,domNode:S,isSelectable:C,nodeId:M,nodeClickDistance:A=0}){g=jn(S);function $({x:F,y:Q},W){const{nodeLookup:G,nodeExtent:P,snapGrid:H,snapToGrid:D,nodeOrigin:U,onNodeDrag:O,onSelectionDrag:L,onError:_,updateNodePositions:J}=e();i={x:F,y:Q};let X=!1,ce={x:0,y:0,x2:0,y2:0};if(u.size>1&&P){const se=kh(u);ce=iy(se)}for(const[se,ue]of u){if(!G.has(se))continue;let de={x:F-ue.distance.x,y:Q-ue.distance.y};D&&(de=Fm(de,H));let we=[[P[0][0],P[0][1]],[P[1][0],P[1][1]]];if(u.size>1&&P&&!ue.extent){const{positionAbsolute:Pe}=ue.internals,Ne=Pe.x-ce.x+P[0][0],Ae=Pe.x+ue.measured.width-ce.x2+P[1][0],Re=Pe.y-ce.y+P[0][1],ft=Pe.y+ue.measured.height-ce.y2+P[1][1];we=[[Ne,Re],[Ae,ft]]}const{position:ae,positionAbsolute:Te}=_A({nodeId:se,nextPosition:de,nodeLookup:G,nodeExtent:we,nodeOrigin:U,onError:_});X=X||ue.position.x!==ae.x||ue.position.y!==ae.y,ue.position=ae,ue.internals.positionAbsolute=Te}if(X&&(J(u,!0),W&&(r||O||!M&&L))){const[se,ue]=M1({nodeId:M,dragItems:u,nodeLookup:G});r==null||r(W,u,se,ue),O==null||O(W,se,ue),M||L==null||L(W,ue)}}async function T(){if(!f)return;const{transform:F,panBy:Q,autoPanSpeed:W}=e(),[G,P]=IA(d,f,W);(G!==0||P!==0)&&(i.x=(i.x??0)-G/F[2],i.y=(i.y??0)-P/F[2],await Q({x:G,y:P})&&$(i,null)),s=requestAnimationFrame(T)}function z(F){var Q;const{nodeLookup:W,multiSelectionActive:G,nodesDraggable:P,transform:H,snapGrid:D,snapToGrid:U,selectNodesOnDrag:O,onNodeDragStart:L,onSelectionDragStart:_,unselectNodesAndEdges:J}=e();p=!0,(!O||!C)&&!G&&M&&((Q=W.get(M))!=null&&Q.selected||J()),C&&O&&M&&(t==null||t(M));const X=yc(F.sourceEvent,{transform:H,snapGrid:D,snapToGrid:U});if(i=X,u=s6(W,P,X,M),u.size>0&&(n||L||!M&&_)){const[ce,se]=M1({nodeId:M,dragItems:u,nodeLookup:W});n==null||n(F.sourceEvent,u,ce,se),L==null||L(F.sourceEvent,ce,se),M||_==null||_(F.sourceEvent,se)}}const B=pA().clickDistance(A).on("start",F=>{const{domNode:Q,nodeDragThreshold:W,transform:G,snapGrid:P,snapToGrid:H}=e();v=!1,W===0&&z(F),i=yc(F.sourceEvent,{transform:G,snapGrid:P,snapToGrid:H}),f=(Q==null?void 0:Q.getBoundingClientRect())||null,d=Po(F.sourceEvent,f)}).on("drag",F=>{const{autoPanOnNodeDrag:Q,transform:W,snapGrid:G,snapToGrid:P,nodeDragThreshold:H,nodeLookup:D}=e(),U=yc(F.sourceEvent,{transform:W,snapGrid:G,snapToGrid:P});if((F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||M&&!D.has(M))&&(v=!0),!v){if(!c&&Q&&p&&(c=!0,T()),!p){const O=U.xSnapped-(i.x??0),L=U.ySnapped-(i.y??0);Math.sqrt(O*O+L*L)>H&&z(F)}(i.x!==U.xSnapped||i.y!==U.ySnapped)&&u&&p&&(d=Po(F.sourceEvent,f),$(U,F.sourceEvent))}}).on("end",F=>{if(!(!p||v)&&(c=!1,p=!1,cancelAnimationFrame(s),u.size>0)){const{nodeLookup:Q,updateNodePositions:W,onNodeDragStop:G,onSelectionDragStop:P}=e();if(W(u,!1),o||G||!M&&P){const[H,D]=M1({nodeId:M,dragItems:u,nodeLookup:Q,dragging:!1});o==null||o(F.sourceEvent,u,H,D),G==null||G(F.sourceEvent,H,D),M||P==null||P(F.sourceEvent,D)}}}).filter(F=>{const Q=F.target;return!F.button&&(!E||!u2(Q,`.${E}`,S))&&(!b||u2(Q,b,S))});g.call(B)}function k(){g==null||g.on(".drag",null)}return{update:x,destroy:k}}function a6(t,e,n){const r=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const i of e.values())Zc(o,Ta(i))>0&&r.push(i);return r}const u6=250;function c6(t,e,n,r){var o,i;let s=[],u=1/0;const c=a6(t,n,e+u6);for(const d of c){const f=[...((o=d.internals.handleBounds)==null?void 0:o.source)??[],...((i=d.internals.handleBounds)==null?void 0:i.target)??[]];for(const p of f){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:g,y:v}=Gc(d,p,p.position,!0),x=Math.sqrt(Math.pow(g-t.x,2)+Math.pow(v-t.y,2));x>e||(x<u?(s=[{...p,x:g,y:v}],u=x):x===u&&s.push({...p,x:g,y:v}))}}if(!s.length)return null;if(s.length>1){const d=r.type==="source"?"target":"source";return s.find(f=>f.type===d)??s[0]}return s[0]}function XA(t,e,n,r,o,i=!1){var s,u,c;const d=r.get(t);if(!d)return null;const f=o==="strict"?(s=d.internals.handleBounds)==null?void 0:s[e]:[...((u=d.internals.handleBounds)==null?void 0:u.source)??[],...((c=d.internals.handleBounds)==null?void 0:c.target)??[]],p=(n?f==null?void 0:f.find(g=>g.id===n):f==null?void 0:f[0])??null;return p&&i?{...p,...Gc(d,p,p.position,!0)}:p}function eO(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function h6(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const tO=()=>!0;function d6(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:u,nodeLookup:c,lib:d,autoPanOnConnect:f,flowId:p,panBy:g,cancelConnection:v,onConnectStart:x,onConnect:k,onConnectEnd:E,isValidConnection:b=tO,onReconnectEnd:S,updateConnection:C,getTransform:M,getFromHandle:A,autoPanSpeed:$}){const T=HA(t.target);let z=0,B;const{x:F,y:Q}=Po(t),W=T==null?void 0:T.elementFromPoint(F,Q),G=eO(i,W),P=u==null?void 0:u.getBoundingClientRect();if(!P||!G)return;const H=XA(o,G,r,c,e);if(!H)return;let D=Po(t,P),U=!1,O=null,L=!1,_=null;function J(){if(!f||!P)return;const[ae,Te]=IA(D,P,$);g({x:ae,y:Te}),z=requestAnimationFrame(J)}const X={...H,nodeId:o,type:G,position:H.position},ce=c.get(o),se={inProgress:!0,isValid:null,from:Gc(ce,X,Se.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:ce,to:D,toHandle:null,toPosition:XC[X.position],toNode:null};C(se);let ue=se;x==null||x(t,{nodeId:o,handleId:r,handleType:G});function de(ae){if(!A()||!X){we(ae);return}const Te=M();D=Po(ae,P),B=c6(Sh(D,Te,!1,[1,1]),n,c,X),U||(J(),U=!0);const Pe=nO(ae,{handle:B,connectionMode:e,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:b,doc:T,lib:d,flowId:p,nodeLookup:c});_=Pe.handleDomNode,O=Pe.connection,L=h6(!!B,Pe.isValid);const Ne={...ue,isValid:L,to:B&&L?FA({x:B.x,y:B.y},Te):D,toHandle:Pe.toHandle,toPosition:L&&Pe.toHandle?Pe.toHandle.position:XC[X.position],toNode:Pe.toHandle?c.get(Pe.toHandle.nodeId):null};L&&B&&ue.toHandle&&Ne.toHandle&&ue.toHandle.type===Ne.toHandle.type&&ue.toHandle.nodeId===Ne.toHandle.nodeId&&ue.toHandle.id===Ne.toHandle.id&&ue.to.x===Ne.to.x&&ue.to.y===Ne.to.y||(C(Ne),ue=Ne)}function we(ae){(B||_)&&O&&L&&(k==null||k(O));const{inProgress:Te,...Pe}=ue,Ne={...Pe,toPosition:ue.toHandle?ue.toPosition:null};E==null||E(ae,Ne),i&&(S==null||S(ae,Ne)),v(),cancelAnimationFrame(z),U=!1,L=!1,O=null,_=null,T.removeEventListener("mousemove",de),T.removeEventListener("mouseup",we),T.removeEventListener("touchmove",de),T.removeEventListener("touchend",we)}T.addEventListener("mousemove",de),T.addEventListener("mouseup",we),T.addEventListener("touchmove",de),T.addEventListener("touchend",we)}function nO(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:u,flowId:c,isValidConnection:d=tO,nodeLookup:f}){const p=i==="target",g=e?s.querySelector(`.${u}-flow__handle[data-id="${c}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:v,y:x}=Po(t),k=s.elementFromPoint(v,x),E=k!=null&&k.classList.contains(`${u}-flow__handle`)?k:g,b={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const S=eO(void 0,E),C=E.getAttribute("data-nodeid"),M=E.getAttribute("data-handleid"),A=E.classList.contains("connectable"),$=E.classList.contains("connectableend");if(!C||!S)return b;const T={source:p?C:r,sourceHandle:p?M:o,target:p?r:C,targetHandle:p?o:M};b.connection=T;const z=A&&$&&(n===Aa.Strict?p&&S==="source"||!p&&S==="target":C!==r||M!==o);b.isValid=z&&d(T),b.toHandle=XA(C,S,M,f,n,!1)}return b}const cy={onPointerDown:d6,isValid:nO};function f6({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const o=jn(t);function i({translateExtent:u,width:c,height:d,zoomStep:f=10,pannable:p=!0,zoomable:g=!0,inversePan:v=!1}){const x=C=>{const M=n();if(C.sourceEvent.type!=="wheel"||!e)return;const A=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*f,$=M[2]*Math.pow(2,A);e.scaleTo($)};let k=[0,0];const E=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(k=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},b=C=>{const M=n();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!e)return;const A=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],$=[A[0]-k[0],A[1]-k[1]];k=A;const T=r()*Math.max(M[2],Math.log(M[2]))*(v?-1:1),z={x:M[0]-$[0]*T,y:M[1]-$[1]*T},B=[[0,0],[c,d]];e.setViewportConstrained({x:z.x,y:z.y,zoom:M[2]},B,u)},S=TA().on("start",E).on("zoom",p?b:null).on("zoom.wheel",g?x:null);o.call(S,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:Ar}}const p6=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,jm=t=>({x:t.x,y:t.y,zoom:t.k}),N1=({x:t,y:e,zoom:n})=>Dm.translate(t,e).scale(n),ea=(t,e)=>t.target.closest(`.${e}`),rO=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),A1=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},oO=t=>{const e=t.ctrlKey&&Yp()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function m6({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:u,onPanZoom:c,onPanZoomEnd:d}){return f=>{if(ea(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(f.ctrlKey&&s){const E=Ar(f),b=oO(f),S=p*Math.pow(2,b);r.scaleTo(n,S,E,f);return}const g=f.deltaMode===1?20:1;let v=o===Fs.Vertical?0:f.deltaX*g,x=o===Fs.Horizontal?0:f.deltaY*g;!Yp()&&f.shiftKey&&o!==Fs.Vertical&&(v=f.deltaY*g,x=0),r.translateBy(n,-(v/p)*i,-(x/p)*i,{internal:!0});const k=jm(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,u==null||u(f,k)),t.isPanScrolling&&(c==null||c(f,k),t.panScrollTimeout=setTimeout(()=>{d==null||d(f,k),t.isPanScrolling=!1},150))}}function g6({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,o){if(!e&&r.type==="wheel"&&!r.ctrlKey||ea(r,t))return null;r.preventDefault(),n.call(this,r,o)}}function v6({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var o,i,s;if((o=r.sourceEvent)!=null&&o.internal)return;const u=jm(r.transform);t.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=u,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,u))}}function y6({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,u;t.usedRightMouseButton=!!(n&&rO(e,t.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((u=i.sourceEvent)!=null&&u.internal)&&(o==null||o(i.sourceEvent,jm(i.transform)))}}function w6({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var u;if(!((u=s.sourceEvent)!=null&&u.internal)&&(t.isZoomingOrPanning=!1,i&&rO(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),o&&p6(t.prevViewport,s.transform))){const c=jm(s.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,c)},n?150:0)}}}function x6({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:u,noPanClassName:c,lib:d}){return f=>{var p;const g=t||e,v=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(ea(f,`${d}-flow__node`)||ea(f,`${d}-flow__edge`)))return!0;if(!r&&!g&&!o&&!i&&!n||s||ea(f,u)&&f.type==="wheel"||ea(f,c)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((p=f.touches)==null?void 0:p.length)>1)return f.preventDefault(),!1;if(!g&&!o&&!v&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&x}}function b6({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:s,onPanZoomStart:u,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=t.getBoundingClientRect(),g=TA().clickDistance(!Pr(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(o),v=jn(t).call(g);C({x:i.x,y:i.y,zoom:Oa(i.zoom,e,n)},[[0,0],[p.width,p.height]],o);const x=v.on("wheel.zoom"),k=v.on("dblclick.zoom");g.wheelDelta(oO);function E(W,G){return v?new Promise(P=>{g==null||g.transform(A1(v,G==null?void 0:G.duration,()=>P(!0)),W)}):Promise.resolve(!1)}function b({noWheelClassName:W,noPanClassName:G,onPaneContextMenu:P,userSelectionActive:H,panOnScroll:D,panOnDrag:U,panOnScrollMode:O,panOnScrollSpeed:L,preventScrolling:_,zoomOnPinch:J,zoomOnScroll:X,zoomOnDoubleClick:ce,zoomActivationKeyPressed:se,lib:ue,onTransformChange:de}){H&&!f.isZoomingOrPanning&&S();const we=D&&!se&&!H?m6({zoomPanValues:f,noWheelClassName:W,d3Selection:v,d3Zoom:g,panOnScrollMode:O,panOnScrollSpeed:L,zoomOnPinch:J,onPanZoomStart:u,onPanZoom:s,onPanZoomEnd:c}):g6({noWheelClassName:W,preventScrolling:_,d3ZoomHandler:x});if(v.on("wheel.zoom",we,{passive:!1}),!H){const Te=v6({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:u});g.on("start",Te);const Pe=y6({zoomPanValues:f,panOnDrag:U,onPaneContextMenu:!!P,onPanZoom:s,onTransformChange:de});g.on("zoom",Pe);const Ne=w6({zoomPanValues:f,panOnDrag:U,panOnScroll:D,onPaneContextMenu:P,onPanZoomEnd:c,onDraggingChange:d});g.on("end",Ne)}const ae=x6({zoomActivationKeyPressed:se,panOnDrag:U,zoomOnScroll:X,panOnScroll:D,zoomOnDoubleClick:ce,zoomOnPinch:J,userSelectionActive:H,noPanClassName:G,noWheelClassName:W,lib:ue});g.filter(ae),ce?v.on("dblclick.zoom",k):v.on("dblclick.zoom",null)}function S(){g.on("zoom",null)}async function C(W,G,P){const H=N1(W),D=g==null?void 0:g.constrain()(H,G,P);return D&&await E(D),new Promise(U=>U(D))}async function M(W,G){const P=N1(W);return await E(P,G),new Promise(H=>H(P))}function A(W){if(v){const G=N1(W),P=v.property("__zoom");(P.k!==W.zoom||P.x!==W.x||P.y!==W.y)&&(g==null||g.transform(v,G,null,{sync:!0}))}}function $(){const W=v?OA(v.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function T(W,G){return v?new Promise(P=>{g==null||g.scaleTo(A1(v,G==null?void 0:G.duration,()=>P(!0)),W)}):Promise.resolve(!1)}function z(W,G){return v?new Promise(P=>{g==null||g.scaleBy(A1(v,G==null?void 0:G.duration,()=>P(!0)),W)}):Promise.resolve(!1)}function B(W){g==null||g.scaleExtent(W)}function F(W){g==null||g.translateExtent(W)}function Q(W){const G=!Pr(W)||W<0?0:W;g==null||g.clickDistance(G)}return{update:b,destroy:S,setViewport:M,setViewportConstrained:C,getViewport:$,scaleTo:T,scaleBy:z,setScaleExtent:B,setTranslateExtent:F,syncViewport:A,setClickDistance:Q}}var wc;(function(t){t.Line="line",t.Handle="handle"})(wc||(wc={}));function k6({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=t-e,u=n-r,c=[s>0?1:s<0?-1:0,u>0?1:u<0?-1:0];return s&&o&&(c[0]=c[0]*-1),u&&i&&(c[1]=c[1]*-1),c}function S6(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:o}}function vi(t,e){return Math.max(0,e-t)}function yi(t,e){return Math.max(0,t-e)}function yf(t,e,n){return Math.max(0,e-t,t-n)}function c2(t,e){return t?!e:e}function C6(t,e,n,r,o,i,s,u){let{affectsX:c,affectsY:d}=e;const{isHorizontal:f,isVertical:p}=e,g=f&&p,{xSnapped:v,ySnapped:x}=n,{minWidth:k,maxWidth:E,minHeight:b,maxHeight:S}=r,{x:C,y:M,width:A,height:$,aspectRatio:T}=t;let z=Math.floor(f?v-t.pointerX:0),B=Math.floor(p?x-t.pointerY:0);const F=A+(c?-z:z),Q=$+(d?-B:B),W=-i[0]*A,G=-i[1]*$;let P=yf(F,k,E),H=yf(Q,b,S);if(s){let O=0,L=0;c&&z<0?O=vi(C+z+W,s[0][0]):!c&&z>0&&(O=yi(C+F+W,s[1][0])),d&&B<0?L=vi(M+B+G,s[0][1]):!d&&B>0&&(L=yi(M+Q+G,s[1][1])),P=Math.max(P,O),H=Math.max(H,L)}if(u){let O=0,L=0;c&&z>0?O=yi(C+z,u[0][0]):!c&&z<0&&(O=vi(C+F,u[1][0])),d&&B>0?L=yi(M+B,u[0][1]):!d&&B<0&&(L=vi(M+Q,u[1][1])),P=Math.max(P,O),H=Math.max(H,L)}if(o){if(f){const O=yf(F/T,b,S)*T;if(P=Math.max(P,O),s){let L=0;!c&&!d||c&&!d&&g?L=yi(M+G+F/T,s[1][1])*T:L=vi(M+G+(c?z:-z)/T,s[0][1])*T,P=Math.max(P,L)}if(u){let L=0;!c&&!d||c&&!d&&g?L=vi(M+F/T,u[1][1])*T:L=yi(M+(c?z:-z)/T,u[0][1])*T,P=Math.max(P,L)}}if(p){const O=yf(Q*T,k,E)/T;if(H=Math.max(H,O),s){let L=0;!c&&!d||d&&!c&&g?L=yi(C+Q*T+W,s[1][0])/T:L=vi(C+(d?B:-B)*T+W,s[0][0])/T,H=Math.max(H,L)}if(u){let L=0;!c&&!d||d&&!c&&g?L=vi(C+Q*T,u[1][0])/T:L=yi(C+(d?B:-B)*T,u[0][0])/T,H=Math.max(H,L)}}}B=B+(B<0?H:-H),z=z+(z<0?P:-P),o&&(g?F>Q*T?B=(c2(c,d)?-z:z)/T:z=(c2(c,d)?-B:B)*T:f?(B=z/T,d=c):(z=B*T,c=d));const D=c?C+z:C,U=d?M+B:M;return{width:A+(c?-z:z),height:$+(d?-B:B),x:i[0]*z*(c?-1:1)+D,y:i[1]*B*(d?-1:1)+U}}const iO={width:0,height:0,x:0,y:0},E6={...iO,pointerX:0,pointerY:0,aspectRatio:1};function M6(t){return[[0,0],[t.measured.width,t.measured.height]]}function N6(t,e,n){const r=e.position.x+t.position.x,o=e.position.y+t.position.y,i=t.measured.width??0,s=t.measured.height??0,u=n[0]*i,c=n[1]*s;return[[r-u,o-c],[r+i-u,o+s-c]]}function A6({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:o}){const i=jn(t);function s({controlPosition:c,boundaries:d,keepAspectRatio:f,onResizeStart:p,onResize:g,onResizeEnd:v,shouldResize:x}){let k={...iO},E={...E6};const b=S6(c);let S,C=[],M,A,$;const T=pA().on("start",z=>{const{nodeLookup:B,transform:F,snapGrid:Q,snapToGrid:W,nodeOrigin:G}=n();if(S=B.get(e),!S)return;const{xSnapped:P,ySnapped:H}=yc(z.sourceEvent,{transform:F,snapGrid:Q,snapToGrid:W});k={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},E={...k,pointerX:P,pointerY:H,aspectRatio:k.width/k.height},M=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(M=B.get(S.parentId),A=M&&S.extent==="parent"?M6(M):void 0),C=[],$=void 0;for(const[D,U]of B)if(U.parentId===e&&(C.push({id:D,position:{...U.position},extent:U.extent}),U.extent==="parent"||U.expandParent)){const O=N6(U,S,U.origin??G);$?$=[[Math.min(O[0][0],$[0][0]),Math.min(O[0][1],$[0][1])],[Math.max(O[1][0],$[1][0]),Math.max(O[1][1],$[1][1])]]:$=O}p==null||p(z,{...k})}).on("drag",z=>{const{transform:B,snapGrid:F,snapToGrid:Q,nodeOrigin:W}=n(),G=yc(z.sourceEvent,{transform:B,snapGrid:F,snapToGrid:Q}),P=[];if(!S)return;const{x:H,y:D,width:U,height:O}=k,L={},_=S.origin??W,{width:J,height:X,x:ce,y:se}=C6(E,b,G,d,f,_,A,$),ue=J!==U,de=X!==O,we=ce!==H&&ue,ae=se!==D&&de;if(!we&&!ae&&!ue&&!de)return;if((we||ae||_[0]===1||_[1]===1)&&(L.x=we?ce:k.x,L.y=ae?se:k.y,k.x=L.x,k.y=L.y,C.length>0)){const Ne=ce-H,Ae=se-D;for(const Re of C)Re.position={x:Re.position.x-Ne+_[0]*(J-U),y:Re.position.y-Ae+_[1]*(X-O)},P.push(Re)}if((ue||de)&&(L.width=ue?J:k.width,L.height=de?X:k.height,k.width=L.width,k.height=L.height),M&&S.expandParent){const Ne=_[0]*(L.width??0);L.x&&L.x<Ne&&(k.x=Ne,E.x=E.x-(L.x-Ne));const Ae=_[1]*(L.height??0);L.y&&L.y<Ae&&(k.y=Ae,E.y=E.y-(L.y-Ae))}const Te=k6({width:k.width,prevWidth:U,height:k.height,prevHeight:O,affectsX:b.affectsX,affectsY:b.affectsY}),Pe={...k,direction:Te};(x==null?void 0:x(z,Pe))!==!1&&(g==null||g(z,Pe),r(L,P))}).on("end",z=>{v==null||v(z,{...k}),o==null||o()});i.call(T)}function u(){i.on(".drag",null)}return{update:s,destroy:u}}function O6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sO={exports:{}},O1={},h2={exports:{}},T1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function T6(){if(d2)return T1;d2=1;var t=js;function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function u(p,g){var v=g(),x=r({inst:{value:v,getSnapshot:g}}),k=x[0].inst,E=x[1];return i(function(){k.value=v,k.getSnapshot=g,c(k)&&E({inst:k})},[p,v,g]),o(function(){return c(k)&&E({inst:k}),p(function(){c(k)&&E({inst:k})})},[p]),s(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return T1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,T1}var f2;function P6(){return f2||(f2=1,h2.exports=T6()),h2.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function $6(){if(p2)return O1;p2=1;var t=js,e=P6();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return O1.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var x=i(null);if(x.current===null){var k={hasValue:!1,value:null};x.current=k}else k=x.current;x=u(function(){function b($){if(!S){if(S=!0,C=$,$=g($),v!==void 0&&k.hasValue){var T=k.value;if(v(T,$))return M=T}return M=$}if(T=M,r(C,$))return T;var z=g($);return v!==void 0&&v(T,z)?T:(C=$,M=z)}var S=!1,C,M,A=p===void 0?null:p;return[function(){return b(f())},A===null?void 0:function(){return b(A())}]},[f,p,g,v]);var E=o(d,x[0],x[1]);return s(function(){k.hasValue=!0,k.value=E},[E]),c(E),E},O1}sO.exports=$6();var L6=sO.exports;const R6=O6(L6),z6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},m2=t=>{let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,f))}},o=()=>e,i={setState:r,getState:o,getInitialState:()=>s,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(z6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=e=t(r,o,i);return i},_6=t=>t?m2(t):m2,{useDebugValue:D6}=js,{useSyncExternalStoreWithSelector:I6}=R6,B6=t=>t;function lO(t,e=B6,n){const r=I6(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return D6(r),r}const g2=(t,e)=>{const n=_6(t),r=(o,i=e)=>lO(n,o,i);return Object.assign(r,n),r},F6=(t,e)=>t?g2(t,e):g2;function gt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,o]of t)if(!Object.is(o,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var kn={},v2={exports:{}},y2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function V6(){return w2||(w2=1,function(t){function e(O,L){var _=O.length;O.push(L);e:for(;0<_;){var J=_-1>>>1,X=O[J];if(0<o(X,L))O[J]=L,O[_]=X,_=J;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],_=O.pop();if(_!==L){O[0]=_;e:for(var J=0,X=O.length,ce=X>>>1;J<ce;){var se=2*(J+1)-1,ue=O[se],de=se+1,we=O[de];if(0>o(ue,_))de<X&&0>o(we,ue)?(O[J]=we,O[de]=_,J=de):(O[J]=ue,O[se]=_,J=se);else if(de<X&&0>o(we,_))O[J]=we,O[de]=_,J=de;else break e}}return L}function o(O,L){var _=O.sortIndex-L.sortIndex;return _!==0?_:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],f=1,p=null,g=3,v=!1,x=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=O)r(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(d)}}function M(O){if(k=!1,C(O),!x)if(n(c)!==null)x=!0,D(A);else{var L=n(d);L!==null&&U(M,L.startTime-O)}}function A(O,L){x=!1,k&&(k=!1,b(z),z=-1),v=!0;var _=g;try{for(C(L),p=n(c);p!==null&&(!(p.expirationTime>L)||O&&!Q());){var J=p.callback;if(typeof J=="function"){p.callback=null,g=p.priorityLevel;var X=J(p.expirationTime<=L);L=t.unstable_now(),typeof X=="function"?p.callback=X:p===n(c)&&r(c),C(L)}else r(c);p=n(c)}if(p!==null)var ce=!0;else{var se=n(d);se!==null&&U(M,se.startTime-L),ce=!1}return ce}finally{p=null,g=_,v=!1}}var $=!1,T=null,z=-1,B=5,F=-1;function Q(){return!(t.unstable_now()-F<B)}function W(){if(T!==null){var O=t.unstable_now();F=O;var L=!0;try{L=T(!0,O)}finally{L?G():($=!1,T=null)}}else $=!1}var G;if(typeof S=="function")G=function(){S(W)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=W,G=function(){H.postMessage(null)}}else G=function(){E(W,0)};function D(O){T=O,$||($=!0,G())}function U(O,L){z=E(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,D(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var _=g;g=L;try{return O()}finally{g=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var _=g;g=O;try{return L()}finally{g=_}},t.unstable_scheduleCallback=function(O,L,_){var J=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?J+_:J):_=J,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=_+X,O={id:f++,callback:L,priorityLevel:O,startTime:_,expirationTime:X,sortIndex:-1},_>J?(O.sortIndex=_,e(d,O),n(c)===null&&O===n(d)&&(k?(b(z),z=-1):k=!0,U(M,_-J))):(O.sortIndex=X,e(c,O),x||v||(x=!0,D(A))),O},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(O){var L=g;return function(){var _=g;g=L;try{return O.apply(this,arguments)}finally{g=_}}}}(y2)),y2}var x2;function j6(){return x2||(x2=1,v2.exports=V6()),v2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function H6(){if(b2)return kn;b2=1;var t=js,e=j6();function n(l){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+l,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+l+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(l,a){s(l,a),s(l+"Capture",a)}function s(l,a){for(o[l]=a,l=0;l<a.length;l++)r.add(a[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return c.call(p,l)?!0:c.call(f,l)?!1:d.test(l)?p[l]=!0:(f[l]=!0,!1)}function v(l,a,h,m){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,a,h,m){if(a===null||typeof a>"u"||v(l,a,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(l,a,h,m,y,w,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=l,this.type=a,this.sanitizeURL=w,this.removeEmptyString=N}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){E[l]=new k(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var a=l[0];E[a]=new k(a,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){E[l]=new k(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){E[l]=new k(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){E[l]=new k(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){E[l]=new k(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){E[l]=new k(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){E[l]=new k(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){E[l]=new k(l,5,!1,l.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var a=l.replace(b,S);E[a]=new k(a,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var a=l.replace(b,S);E[a]=new k(a,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var a=l.replace(b,S);E[a]=new k(a,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){E[l]=new k(l,1,!1,l.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){E[l]=new k(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,a,h,m){var y=E.hasOwnProperty(a)?E[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,h,y,m)&&(h=null),m||y===null?g(a)&&(h===null?l.removeAttribute(a):l.setAttribute(a,""+h)):y.mustUseProperty?l[y.propertyName]=h===null?y.type===3?!1:"":h:(a=y.attributeName,m=y.attributeNamespace,h===null?l.removeAttribute(a):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,m?l.setAttributeNS(m,a,h):l.setAttribute(a,h))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),$=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),O=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:(l=O&&l[O]||l["@@iterator"],typeof l=="function"?l:null)}var _=Object.assign,J;function X(l){if(J===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);J=a&&a[1]||""}return`
`+J+l}var ce=!1;function se(l,a){if(!l||ce)return"";ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(l,[],a)}else{try{a.call()}catch(Z){m=Z}l.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}l()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=m.stack.split(`
`),N=y.length-1,R=w.length-1;1<=N&&0<=R&&y[N]!==w[R];)R--;for(;1<=N&&0<=R;N--,R--)if(y[N]!==w[R]){if(N!==1||R!==1)do if(N--,R--,0>R||y[N]!==w[R]){var I=`
`+y[N].replace(" at new "," at ");return l.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",l.displayName)),I}while(1<=N&&0<=R);break}}}finally{ce=!1,Error.prepareStackTrace=h}return(l=l?l.displayName||l.name:"")?X(l):""}function ue(l){switch(l.tag){case 5:return X(l.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return l=se(l.type,!1),l;case 11:return l=se(l.type.render,!1),l;case 1:return l=se(l.type,!0),l;default:return""}}function de(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case $:return"Portal";case B:return"Profiler";case z:return"StrictMode";case G:return"Suspense";case P:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case Q:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case W:var a=l.render;return l=l.displayName,l||(l=a.displayName||a.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case H:return a=l.displayName||null,a!==null?a:de(l.type)||"Memo";case D:a=l._payload,l=l._init;try{return de(l(a))}catch{}}return null}function we(l){var a=l.type;switch(l.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=a.render,l=l.displayName||l.name||"",a.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(a);case 8:return a===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ae(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Te(l){var a=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pe(l){var a=Te(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,a),m=""+l[a];if(!l.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(l,a,{configurable:!0,get:function(){return y.call(this)},set:function(N){m=""+N,w.call(this,N)}}),Object.defineProperty(l,a,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){l._valueTracker=null,delete l[a]}}}}function Ne(l){l._valueTracker||(l._valueTracker=Pe(l))}function Ae(l){if(!l)return!1;var a=l._valueTracker;if(!a)return!0;var h=a.getValue(),m="";return l&&(m=Te(l)?l.checked?"true":"false":l.value),l=m,l!==h?(a.setValue(l),!0):!1}function Re(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function ft(l,a){var h=a.checked;return _({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??l._wrapperState.initialChecked})}function gn(l,a){var h=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;h=ae(a.value!=null?a.value:h),l._wrapperState={initialChecked:m,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Wo(l,a){a=a.checked,a!=null&&C(l,"checked",a,!1)}function ss(l,a){Wo(l,a);var h=ae(a.value),m=a.type;if(h!=null)m==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+h):l.value!==""+h&&(l.value=""+h);else if(m==="submit"||m==="reset"){l.removeAttribute("value");return}a.hasOwnProperty("value")?ls(l,a.type,h):a.hasOwnProperty("defaultValue")&&ls(l,a.type,ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(l.defaultChecked=!!a.defaultChecked)}function il(l,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+l._wrapperState.initialValue,h||a===l.value||(l.value=a),l.defaultValue=a}h=l.name,h!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,h!==""&&(l.name=h)}function ls(l,a,h){(a!=="number"||Re(l.ownerDocument)!==l)&&(h==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+h&&(l.defaultValue=""+h))}var vr=Array.isArray;function Fr(l,a,h,m){if(l=l.options,a){a={};for(var y=0;y<h.length;y++)a["$"+h[y]]=!0;for(h=0;h<l.length;h++)y=a.hasOwnProperty("$"+l[h].value),l[h].selected!==y&&(l[h].selected=y),y&&m&&(l[h].defaultSelected=!0)}else{for(h=""+ae(h),a=null,y=0;y<l.length;y++){if(l[y].value===h){l[y].selected=!0,m&&(l[y].defaultSelected=!0);return}a!==null||l[y].disabled||(a=l[y])}a!==null&&(a.selected=!0)}}function fo(l,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return _({},a,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Uo(l,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(vr(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}l._wrapperState={initialValue:ae(h)}}function sl(l,a){var h=ae(a.value),m=ae(a.defaultValue);h!=null&&(h=""+h,h!==l.value&&(l.value=h),a.defaultValue==null&&l.defaultValue!==h&&(l.defaultValue=h)),m!=null&&(l.defaultValue=""+m)}function Ko(l){var a=l.textContent;a===l._wrapperState.initialValue&&a!==""&&a!==null&&(l.value=a)}function Yo(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qo(l,a){return l==null||l==="http://www.w3.org/1999/xhtml"?Yo(a):l==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ll,al=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,m,y){MSApp.execUnsafeLocalFunction(function(){return l(a,h,m,y)})}:l}(function(l,a){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=a;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ll.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;a.firstChild;)l.appendChild(a.firstChild)}});function as(l,a){if(a){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=a;return}}l.textContent=a}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ig=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(l){ig.forEach(function(a){a=a+l.charAt(0).toUpperCase()+l.substring(1),us[a]=us[l]})});function $h(l,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||us.hasOwnProperty(l)&&us[l]?(""+a).trim():a+"px"}function Lh(l,a){l=l.style;for(var h in a)if(a.hasOwnProperty(h)){var m=h.indexOf("--")===0,y=$h(h,a[h],m);h==="float"&&(h="cssFloat"),m?l.setProperty(h,y):l[h]=y}}var sg=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(l,a){if(a){if(sg[l]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Qa(l,a){if(l.indexOf("-")===-1)return typeof a.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Za=null;function Ga(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var qa=null,Zo=null,Go=null;function Rh(l){if(l=bu(l)){if(typeof qa!="function")throw Error(n(280));var a=l.stateNode;a&&(a=ud(a),qa(l.stateNode,l.type,a))}}function Ja(l){Zo?Go?Go.push(l):Go=[l]:Zo=l}function zh(){if(Zo){var l=Zo,a=Go;if(Go=Zo=null,Rh(l),a)for(l=0;l<a.length;l++)Rh(a[l])}}function _h(l,a){return l(a)}function Dh(){}var Xa=!1;function Ih(l,a,h){if(Xa)return l(a,h);Xa=!0;try{return _h(l,a,h)}finally{Xa=!1,(Zo!==null||Go!==null)&&(Dh(),zh())}}function cs(l,a){var h=l.stateNode;if(h===null)return null;var m=ud(h);if(m===null)return null;h=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(l=l.type,m=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!m;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var eu=!1;if(u)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){eu=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{eu=!1}function lg(l,a,h,m,y,w,N,R,I){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(h,Z)}catch(re){this.onError(re)}}var ds=!1,ul=null,cl=!1,tu=null,ag={onError:function(l){ds=!0,ul=l}};function ug(l,a,h,m,y,w,N,R,I){ds=!1,ul=null,lg.apply(ag,arguments)}function Bh(l,a,h,m,y,w,N,R,I){if(ug.apply(this,arguments),ds){if(ds){var Z=ul;ds=!1,ul=null}else throw Error(n(198));cl||(cl=!0,tu=Z)}}function Vr(l){var a=l,h=l;if(l.alternate)for(;a.return;)a=a.return;else{l=a;do a=l,a.flags&4098&&(h=a.return),l=a.return;while(l)}return a.tag===3?h:null}function Fh(l){if(l.tag===13){var a=l.memoizedState;if(a===null&&(l=l.alternate,l!==null&&(a=l.memoizedState)),a!==null)return a.dehydrated}return null}function Vh(l){if(Vr(l)!==l)throw Error(n(188))}function cg(l){var a=l.alternate;if(!a){if(a=Vr(l),a===null)throw Error(n(188));return a!==l?null:l}for(var h=l,m=a;;){var y=h.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){h=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===h)return Vh(y),l;if(w===m)return Vh(y),a;w=w.sibling}throw Error(n(188))}if(h.return!==m.return)h=y,m=w;else{for(var N=!1,R=y.child;R;){if(R===h){N=!0,h=y,m=w;break}if(R===m){N=!0,m=y,h=w;break}R=R.sibling}if(!N){for(R=w.child;R;){if(R===h){N=!0,h=w,m=y;break}if(R===m){N=!0,m=w,h=y;break}R=R.sibling}if(!N)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?l:a}function jh(l){return l=cg(l),l!==null?Hh(l):null}function Hh(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var a=Hh(l);if(a!==null)return a;l=l.sibling}return null}var Wh=e.unstable_scheduleCallback,Uh=e.unstable_cancelCallback,Kh=e.unstable_shouldYield,hg=e.unstable_requestPaint,st=e.unstable_now,dg=e.unstable_getCurrentPriorityLevel,nu=e.unstable_ImmediatePriority,Yh=e.unstable_UserBlockingPriority,hl=e.unstable_NormalPriority,fg=e.unstable_LowPriority,ru=e.unstable_IdlePriority,dl=null,qn=null;function pg(l){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(dl,l,void 0,(l.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:vg,mg=Math.log,gg=Math.LN2;function vg(l){return l>>>=0,l===0?32:31-(mg(l)/gg|0)|0}var fl=64,pl=4194304;function po(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ml(l,a){var h=l.pendingLanes;if(h===0)return 0;var m=0,y=l.suspendedLanes,w=l.pingedLanes,N=h&268435455;if(N!==0){var R=N&~y;R!==0?m=po(R):(w&=N,w!==0&&(m=po(w)))}else N=h&~y,N!==0?m=po(N):w!==0&&(m=po(w));if(m===0)return 0;if(a!==0&&a!==m&&!(a&y)&&(y=m&-m,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(m&4&&(m|=h&16),a=l.entangledLanes,a!==0)for(l=l.entanglements,a&=m;0<a;)h=31-Rn(a),y=1<<h,m|=l[h],a&=~y;return m}function JP(l,a){switch(l){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XP(l,a){for(var h=l.suspendedLanes,m=l.pingedLanes,y=l.expirationTimes,w=l.pendingLanes;0<w;){var N=31-Rn(w),R=1<<N,I=y[N];I===-1?(!(R&h)||R&m)&&(y[N]=JP(R,a)):I<=a&&(l.expiredLanes|=R),w&=~R}}function yg(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function tb(){var l=fl;return fl<<=1,!(fl&4194240)&&(fl=64),l}function wg(l){for(var a=[],h=0;31>h;h++)a.push(l);return a}function ou(l,a,h){l.pendingLanes|=a,a!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,a=31-Rn(a),l[a]=h}function e$(l,a){var h=l.pendingLanes&~a;l.pendingLanes=a,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=a,l.mutableReadLanes&=a,l.entangledLanes&=a,a=l.entanglements;var m=l.eventTimes;for(l=l.expirationTimes;0<h;){var y=31-Rn(h),w=1<<y;a[y]=0,m[y]=-1,l[y]=-1,h&=~w}}function xg(l,a){var h=l.entangledLanes|=a;for(l=l.entanglements;h;){var m=31-Rn(h),y=1<<m;y&a|l[m]&a&&(l[m]|=a),h&=~y}}var Ve=0;function nb(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var rb,bg,ob,ib,sb,kg=!1,Qh=[],qo=null,Jo=null,Xo=null,iu=new Map,su=new Map,ei=[],t$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lb(l,a){switch(l){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":iu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(a.pointerId)}}function lu(l,a,h,m,y,w){return l===null||l.nativeEvent!==w?(l={blockedOn:a,domEventName:h,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},a!==null&&(a=bu(a),a!==null&&bg(a)),l):(l.eventSystemFlags|=m,a=l.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),l)}function n$(l,a,h,m,y){switch(a){case"focusin":return qo=lu(qo,l,a,h,m,y),!0;case"dragenter":return Jo=lu(Jo,l,a,h,m,y),!0;case"mouseover":return Xo=lu(Xo,l,a,h,m,y),!0;case"pointerover":var w=y.pointerId;return iu.set(w,lu(iu.get(w)||null,l,a,h,m,y)),!0;case"gotpointercapture":return w=y.pointerId,su.set(w,lu(su.get(w)||null,l,a,h,m,y)),!0}return!1}function ab(l){var a=fs(l.target);if(a!==null){var h=Vr(a);if(h!==null){if(a=h.tag,a===13){if(a=Fh(h),a!==null){l.blockedOn=a,sb(l.priority,function(){ob(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Zh(l){if(l.blockedOn!==null)return!1;for(var a=l.targetContainers;0<a.length;){var h=Cg(l.domEventName,l.eventSystemFlags,a[0],l.nativeEvent);if(h===null){h=l.nativeEvent;var m=new h.constructor(h.type,h);Za=m,h.target.dispatchEvent(m),Za=null}else return a=bu(h),a!==null&&bg(a),l.blockedOn=h,!1;a.shift()}return!0}function ub(l,a,h){Zh(l)&&h.delete(a)}function r$(){kg=!1,qo!==null&&Zh(qo)&&(qo=null),Jo!==null&&Zh(Jo)&&(Jo=null),Xo!==null&&Zh(Xo)&&(Xo=null),iu.forEach(ub),su.forEach(ub)}function au(l,a){l.blockedOn===a&&(l.blockedOn=null,kg||(kg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,r$)))}function uu(l){function a(y){return au(y,l)}if(0<Qh.length){au(Qh[0],l);for(var h=1;h<Qh.length;h++){var m=Qh[h];m.blockedOn===l&&(m.blockedOn=null)}}for(qo!==null&&au(qo,l),Jo!==null&&au(Jo,l),Xo!==null&&au(Xo,l),iu.forEach(a),su.forEach(a),h=0;h<ei.length;h++)m=ei[h],m.blockedOn===l&&(m.blockedOn=null);for(;0<ei.length&&(h=ei[0],h.blockedOn===null);)ab(h),h.blockedOn===null&&ei.shift()}var gl=M.ReactCurrentBatchConfig,Gh=!0;function o$(l,a,h,m){var y=Ve,w=gl.transition;gl.transition=null;try{Ve=1,Sg(l,a,h,m)}finally{Ve=y,gl.transition=w}}function i$(l,a,h,m){var y=Ve,w=gl.transition;gl.transition=null;try{Ve=4,Sg(l,a,h,m)}finally{Ve=y,gl.transition=w}}function Sg(l,a,h,m){if(Gh){var y=Cg(l,a,h,m);if(y===null)Vg(l,a,m,qh,h),lb(l,m);else if(n$(y,l,a,h,m))m.stopPropagation();else if(lb(l,m),a&4&&-1<t$.indexOf(l)){for(;y!==null;){var w=bu(y);if(w!==null&&rb(w),w=Cg(l,a,h,m),w===null&&Vg(l,a,m,qh,h),w===y)break;y=w}y!==null&&m.stopPropagation()}else Vg(l,a,m,null,h)}}var qh=null;function Cg(l,a,h,m){if(qh=null,l=Ga(m),l=fs(l),l!==null)if(a=Vr(l),a===null)l=null;else if(h=a.tag,h===13){if(l=Fh(a),l!==null)return l;l=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;l=null}else a!==l&&(l=null);return qh=l,null}function cb(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case nu:return 1;case Yh:return 4;case hl:case fg:return 16;case ru:return 536870912;default:return 16}default:return 16}}var ti=null,Eg=null,Jh=null;function hb(){if(Jh)return Jh;var l,a=Eg,h=a.length,m,y="value"in ti?ti.value:ti.textContent,w=y.length;for(l=0;l<h&&a[l]===y[l];l++);var N=h-l;for(m=1;m<=N&&a[h-m]===y[w-m];m++);return Jh=y.slice(l,1<m?1-m:void 0)}function Xh(l){var a=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&a===13&&(l=13)):l=a,l===10&&(l=13),32<=l||l===13?l:0}function ed(){return!0}function db(){return!1}function zn(l){function a(h,m,y,w,N){this._reactName=h,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var R in l)l.hasOwnProperty(R)&&(h=l[R],this[R]=h?h(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ed:db,this.isPropagationStopped=db,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),a}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mg=zn(vl),cu=_({},vl,{view:0,detail:0}),s$=zn(cu),Ng,Ag,hu,td=_({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==hu&&(hu&&l.type==="mousemove"?(Ng=l.screenX-hu.screenX,Ag=l.screenY-hu.screenY):Ag=Ng=0,hu=l),Ng)},movementY:function(l){return"movementY"in l?l.movementY:Ag}}),fb=zn(td),l$=_({},td,{dataTransfer:0}),a$=zn(l$),u$=_({},cu,{relatedTarget:0}),Og=zn(u$),c$=_({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),h$=zn(c$),d$=_({},vl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),f$=zn(d$),p$=_({},vl,{data:0}),pb=zn(p$),m$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y$(l){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(l):(l=v$[l])?!!a[l]:!1}function Tg(){return y$}var w$=_({},cu,{key:function(l){if(l.key){var a=m$[l.key]||l.key;if(a!=="Unidentified")return a}return l.type==="keypress"?(l=Xh(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?g$[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(l){return l.type==="keypress"?Xh(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Xh(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),x$=zn(w$),b$=_({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mb=zn(b$),k$=_({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),S$=zn(k$),C$=_({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),E$=zn(C$),M$=_({},td,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),N$=zn(M$),A$=[9,13,27,32],Pg=u&&"CompositionEvent"in window,du=null;u&&"documentMode"in document&&(du=document.documentMode);var O$=u&&"TextEvent"in window&&!du,gb=u&&(!Pg||du&&8<du&&11>=du),vb=" ",yb=!1;function wb(l,a){switch(l){case"keyup":return A$.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xb(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var yl=!1;function T$(l,a){switch(l){case"compositionend":return xb(a);case"keypress":return a.which!==32?null:(yb=!0,vb);case"textInput":return l=a.data,l===vb&&yb?null:l;default:return null}}function P$(l,a){if(yl)return l==="compositionend"||!Pg&&wb(l,a)?(l=hb(),Jh=Eg=ti=null,yl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gb&&a.locale!=="ko"?null:a.data;default:return null}}var $$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(l){var a=l&&l.nodeName&&l.nodeName.toLowerCase();return a==="input"?!!$$[l.type]:a==="textarea"}function kb(l,a,h,m){Ja(m),a=sd(a,"onChange"),0<a.length&&(h=new Mg("onChange","change",null,h,m),l.push({event:h,listeners:a}))}var fu=null,pu=null;function L$(l){Fb(l,0)}function nd(l){var a=Sl(l);if(Ae(a))return l}function R$(l,a){if(l==="change")return a}var Sb=!1;if(u){var $g;if(u){var Lg="oninput"in document;if(!Lg){var Cb=document.createElement("div");Cb.setAttribute("oninput","return;"),Lg=typeof Cb.oninput=="function"}$g=Lg}else $g=!1;Sb=$g&&(!document.documentMode||9<document.documentMode)}function Eb(){fu&&(fu.detachEvent("onpropertychange",Mb),pu=fu=null)}function Mb(l){if(l.propertyName==="value"&&nd(pu)){var a=[];kb(a,pu,l,Ga(l)),Ih(L$,a)}}function z$(l,a,h){l==="focusin"?(Eb(),fu=a,pu=h,fu.attachEvent("onpropertychange",Mb)):l==="focusout"&&Eb()}function _$(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return nd(pu)}function D$(l,a){if(l==="click")return nd(a)}function I$(l,a){if(l==="input"||l==="change")return nd(a)}function B$(l,a){return l===a&&(l!==0||1/l===1/a)||l!==l&&a!==a}var yr=typeof Object.is=="function"?Object.is:B$;function mu(l,a){if(yr(l,a))return!0;if(typeof l!="object"||l===null||typeof a!="object"||a===null)return!1;var h=Object.keys(l),m=Object.keys(a);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var y=h[m];if(!c.call(a,y)||!yr(l[y],a[y]))return!1}return!0}function Nb(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ab(l,a){var h=Nb(l);l=0;for(var m;h;){if(h.nodeType===3){if(m=l+h.textContent.length,l<=a&&m>=a)return{node:h,offset:a-l};l=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Nb(h)}}function Ob(l,a){return l&&a?l===a?!0:l&&l.nodeType===3?!1:a&&a.nodeType===3?Ob(l,a.parentNode):"contains"in l?l.contains(a):l.compareDocumentPosition?!!(l.compareDocumentPosition(a)&16):!1:!1}function Tb(){for(var l=window,a=Re();a instanceof l.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)l=a.contentWindow;else break;a=Re(l.document)}return a}function Rg(l){var a=l&&l.nodeName&&l.nodeName.toLowerCase();return a&&(a==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||a==="textarea"||l.contentEditable==="true")}function F$(l){var a=Tb(),h=l.focusedElem,m=l.selectionRange;if(a!==h&&h&&h.ownerDocument&&Ob(h.ownerDocument.documentElement,h)){if(m!==null&&Rg(h)){if(a=m.start,l=m.end,l===void 0&&(l=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(l,h.value.length);else if(l=(a=h.ownerDocument||document)&&a.defaultView||window,l.getSelection){l=l.getSelection();var y=h.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!l.extend&&w>m&&(y=m,m=w,w=y),y=Ab(h,w);var N=Ab(h,m);y&&N&&(l.rangeCount!==1||l.anchorNode!==y.node||l.anchorOffset!==y.offset||l.focusNode!==N.node||l.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),l.removeAllRanges(),w>m?(l.addRange(a),l.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),l.addRange(a)))}}for(a=[],l=h;l=l.parentNode;)l.nodeType===1&&a.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)l=a[h],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var V$=u&&"documentMode"in document&&11>=document.documentMode,wl=null,zg=null,gu=null,_g=!1;function Pb(l,a,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;_g||wl==null||wl!==Re(m)||(m=wl,"selectionStart"in m&&Rg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),gu&&mu(gu,m)||(gu=m,m=sd(zg,"onSelect"),0<m.length&&(a=new Mg("onSelect","select",null,a,h),l.push({event:a,listeners:m}),a.target=wl)))}function rd(l,a){var h={};return h[l.toLowerCase()]=a.toLowerCase(),h["Webkit"+l]="webkit"+a,h["Moz"+l]="moz"+a,h}var xl={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},Dg={},$b={};u&&($b=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function od(l){if(Dg[l])return Dg[l];if(!xl[l])return l;var a=xl[l],h;for(h in a)if(a.hasOwnProperty(h)&&h in $b)return Dg[l]=a[h];return l}var Lb=od("animationend"),Rb=od("animationiteration"),zb=od("animationstart"),_b=od("transitionend"),Db=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(l,a){Db.set(l,a),i(a,[l])}for(var Ig=0;Ig<Ib.length;Ig++){var Bg=Ib[Ig],j$=Bg.toLowerCase(),H$=Bg[0].toUpperCase()+Bg.slice(1);ni(j$,"on"+H$)}ni(Lb,"onAnimationEnd"),ni(Rb,"onAnimationIteration"),ni(zb,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(_b,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W$=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function Bb(l,a,h){var m=l.type||"unknown-event";l.currentTarget=h,Bh(m,a,void 0,l),l.currentTarget=null}function Fb(l,a){a=(a&4)!==0;for(var h=0;h<l.length;h++){var m=l[h],y=m.event;m=m.listeners;e:{var w=void 0;if(a)for(var N=m.length-1;0<=N;N--){var R=m[N],I=R.instance,Z=R.currentTarget;if(R=R.listener,I!==w&&y.isPropagationStopped())break e;Bb(y,R,Z),w=I}else for(N=0;N<m.length;N++){if(R=m[N],I=R.instance,Z=R.currentTarget,R=R.listener,I!==w&&y.isPropagationStopped())break e;Bb(y,R,Z),w=I}}}if(cl)throw l=tu,cl=!1,tu=null,l}function Qe(l,a){var h=a[Yg];h===void 0&&(h=a[Yg]=new Set);var m=l+"__bubble";h.has(m)||(Vb(a,l,2,!1),h.add(m))}function Fg(l,a,h){var m=0;a&&(m|=4),Vb(h,l,m,a)}var id="_reactListening"+Math.random().toString(36).slice(2);function yu(l){if(!l[id]){l[id]=!0,r.forEach(function(h){h!=="selectionchange"&&(W$.has(h)||Fg(h,!1,l),Fg(h,!0,l))});var a=l.nodeType===9?l:l.ownerDocument;a===null||a[id]||(a[id]=!0,Fg("selectionchange",!1,a))}}function Vb(l,a,h,m){switch(cb(a)){case 1:var y=o$;break;case 4:y=i$;break;default:y=Sg}h=y.bind(null,a,h,l),y=void 0,!eu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?l.addEventListener(a,h,{capture:!0,passive:y}):l.addEventListener(a,h,!0):y!==void 0?l.addEventListener(a,h,{passive:y}):l.addEventListener(a,h,!1)}function Vg(l,a,h,m,y){var w=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var R=m.stateNode.containerInfo;if(R===y||R.nodeType===8&&R.parentNode===y)break;if(N===4)for(N=m.return;N!==null;){var I=N.tag;if((I===3||I===4)&&(I=N.stateNode.containerInfo,I===y||I.nodeType===8&&I.parentNode===y))return;N=N.return}for(;R!==null;){if(N=fs(R),N===null)return;if(I=N.tag,I===5||I===6){m=w=N;continue e}R=R.parentNode}}m=m.return}Ih(function(){var Z=w,re=Ga(h),oe=[];e:{var ne=Db.get(l);if(ne!==void 0){var fe=Mg,xe=l;switch(l){case"keypress":if(Xh(h)===0)break e;case"keydown":case"keyup":fe=x$;break;case"focusin":xe="focus",fe=Og;break;case"focusout":xe="blur",fe=Og;break;case"beforeblur":case"afterblur":fe=Og;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=a$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=S$;break;case Lb:case Rb:case zb:fe=h$;break;case _b:fe=E$;break;case"scroll":fe=s$;break;case"wheel":fe=N$;break;case"copy":case"cut":case"paste":fe=f$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=mb}var be=(a&4)!==0,vt=!be&&l==="scroll",K=be?ne!==null?ne+"Capture":null:ne;be=[];for(var V=Z,Y;V!==null;){Y=V;var le=Y.stateNode;if(Y.tag===5&&le!==null&&(Y=le,K!==null&&(le=cs(V,K),le!=null&&be.push(wu(V,le,Y)))),vt)break;V=V.return}0<be.length&&(ne=new fe(ne,xe,null,h,re),oe.push({event:ne,listeners:be}))}}if(!(a&7)){e:{if(ne=l==="mouseover"||l==="pointerover",fe=l==="mouseout"||l==="pointerout",ne&&h!==Za&&(xe=h.relatedTarget||h.fromElement)&&(fs(xe)||xe[mo]))break e;if((fe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(xe=h.relatedTarget||h.toElement,fe=Z,xe=xe?fs(xe):null,xe!==null&&(vt=Vr(xe),xe!==vt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=Z),fe!==xe)){if(be=fb,le="onMouseLeave",K="onMouseEnter",V="mouse",(l==="pointerout"||l==="pointerover")&&(be=mb,le="onPointerLeave",K="onPointerEnter",V="pointer"),vt=fe==null?ne:Sl(fe),Y=xe==null?ne:Sl(xe),ne=new be(le,V+"leave",fe,h,re),ne.target=vt,ne.relatedTarget=Y,le=null,fs(re)===Z&&(be=new be(K,V+"enter",xe,h,re),be.target=Y,be.relatedTarget=vt,le=be),vt=le,fe&&xe)t:{for(be=fe,K=xe,V=0,Y=be;Y;Y=bl(Y))V++;for(Y=0,le=K;le;le=bl(le))Y++;for(;0<V-Y;)be=bl(be),V--;for(;0<Y-V;)K=bl(K),Y--;for(;V--;){if(be===K||K!==null&&be===K.alternate)break t;be=bl(be),K=bl(K)}be=null}else be=null;fe!==null&&jb(oe,ne,fe,be,!1),xe!==null&&vt!==null&&jb(oe,vt,xe,be,!0)}}e:{if(ne=Z?Sl(Z):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var ke=R$;else if(bb(ne))if(Sb)ke=I$;else{ke=_$;var Ce=z$}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ke=D$);if(ke&&(ke=ke(l,Z))){kb(oe,ke,h,re);break e}Ce&&Ce(l,ne,Z),l==="focusout"&&(Ce=ne._wrapperState)&&Ce.controlled&&ne.type==="number"&&ls(ne,"number",ne.value)}switch(Ce=Z?Sl(Z):window,l){case"focusin":(bb(Ce)||Ce.contentEditable==="true")&&(wl=Ce,zg=Z,gu=null);break;case"focusout":gu=zg=wl=null;break;case"mousedown":_g=!0;break;case"contextmenu":case"mouseup":case"dragend":_g=!1,Pb(oe,h,re);break;case"selectionchange":if(V$)break;case"keydown":case"keyup":Pb(oe,h,re)}var Ee;if(Pg)e:{switch(l){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else yl?wb(l,h)&&(Oe="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Oe="onCompositionStart");Oe&&(gb&&h.locale!=="ko"&&(yl||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&yl&&(Ee=hb()):(ti=re,Eg="value"in ti?ti.value:ti.textContent,yl=!0)),Ce=sd(Z,Oe),0<Ce.length&&(Oe=new pb(Oe,l,null,h,re),oe.push({event:Oe,listeners:Ce}),Ee?Oe.data=Ee:(Ee=xb(h),Ee!==null&&(Oe.data=Ee)))),(Ee=O$?T$(l,h):P$(l,h))&&(Z=sd(Z,"onBeforeInput"),0<Z.length&&(re=new pb("onBeforeInput","beforeinput",null,h,re),oe.push({event:re,listeners:Z}),re.data=Ee))}Fb(oe,a)})}function wu(l,a,h){return{instance:l,listener:a,currentTarget:h}}function sd(l,a){for(var h=a+"Capture",m=[];l!==null;){var y=l,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=cs(l,h),w!=null&&m.unshift(wu(l,w,y)),w=cs(l,a),w!=null&&m.push(wu(l,w,y))),l=l.return}return m}function bl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function jb(l,a,h,m,y){for(var w=a._reactName,N=[];h!==null&&h!==m;){var R=h,I=R.alternate,Z=R.stateNode;if(I!==null&&I===m)break;R.tag===5&&Z!==null&&(R=Z,y?(I=cs(h,w),I!=null&&N.unshift(wu(h,I,R))):y||(I=cs(h,w),I!=null&&N.push(wu(h,I,R)))),h=h.return}N.length!==0&&l.push({event:a,listeners:N})}var U$=/\r\n?/g,K$=/\u0000|\uFFFD/g;function Hb(l){return(typeof l=="string"?l:""+l).replace(U$,`
`).replace(K$,"")}function ld(l,a,h){if(a=Hb(a),Hb(l)!==a&&h)throw Error(n(425))}function ad(){}var jg=null,Hg=null;function Wg(l,a){return l==="textarea"||l==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ug=typeof setTimeout=="function"?setTimeout:void 0,Y$=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,Q$=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb<"u"?function(l){return Wb.resolve(null).then(l).catch(Z$)}:Ug;function Z$(l){setTimeout(function(){throw l})}function Kg(l,a){var h=a,m=0;do{var y=h.nextSibling;if(l.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(m===0){l.removeChild(y),uu(a);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=y}while(h);uu(a)}function ri(l){for(;l!=null;l=l.nextSibling){var a=l.nodeType;if(a===1||a===3)break;if(a===8){if(a=l.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return l}function Ub(l){l=l.previousSibling;for(var a=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return l;a--}else h==="/$"&&a++}l=l.previousSibling}return null}var kl=Math.random().toString(36).slice(2),jr="__reactFiber$"+kl,xu="__reactProps$"+kl,mo="__reactContainer$"+kl,Yg="__reactEvents$"+kl,G$="__reactListeners$"+kl,q$="__reactHandles$"+kl;function fs(l){var a=l[jr];if(a)return a;for(var h=l.parentNode;h;){if(a=h[mo]||h[jr]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(l=Ub(l);l!==null;){if(h=l[jr])return h;l=Ub(l)}return a}l=h,h=l.parentNode}return null}function bu(l){return l=l[jr]||l[mo],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Sl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function ud(l){return l[xu]||null}var Qg=[],Cl=-1;function oi(l){return{current:l}}function Ze(l){0>Cl||(l.current=Qg[Cl],Qg[Cl]=null,Cl--)}function Ue(l,a){Cl++,Qg[Cl]=l.current,l.current=a}var ii={},Zt=oi(ii),vn=oi(!1),ps=ii;function El(l,a){var h=l.type.contextTypes;if(!h)return ii;var m=l.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in h)y[w]=a[w];return m&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=a,l.__reactInternalMemoizedMaskedChildContext=y),y}function yn(l){return l=l.childContextTypes,l!=null}function cd(){Ze(vn),Ze(Zt)}function Kb(l,a,h){if(Zt.current!==ii)throw Error(n(168));Ue(Zt,a),Ue(vn,h)}function Yb(l,a,h){var m=l.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,we(l)||"Unknown",y));return _({},h,m)}function hd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ii,ps=Zt.current,Ue(Zt,l),Ue(vn,vn.current),!0}function Qb(l,a,h){var m=l.stateNode;if(!m)throw Error(n(169));h?(l=Yb(l,a,ps),m.__reactInternalMemoizedMergedChildContext=l,Ze(vn),Ze(Zt),Ue(Zt,l)):Ze(vn),Ue(vn,h)}var go=null,dd=!1,Zg=!1;function Zb(l){go===null?go=[l]:go.push(l)}function J$(l){dd=!0,Zb(l)}function si(){if(!Zg&&go!==null){Zg=!0;var l=0,a=Ve;try{var h=go;for(Ve=1;l<h.length;l++){var m=h[l];do m=m(!0);while(m!==null)}go=null,dd=!1}catch(y){throw go!==null&&(go=go.slice(l+1)),Wh(nu,si),y}finally{Ve=a,Zg=!1}}return null}var Ml=[],Nl=0,fd=null,pd=0,Jn=[],Xn=0,ms=null,vo=1,yo="";function gs(l,a){Ml[Nl++]=pd,Ml[Nl++]=fd,fd=l,pd=a}function Gb(l,a,h){Jn[Xn++]=vo,Jn[Xn++]=yo,Jn[Xn++]=ms,ms=l;var m=vo;l=yo;var y=32-Rn(m)-1;m&=~(1<<y),h+=1;var w=32-Rn(a)+y;if(30<w){var N=y-y%5;w=(m&(1<<N)-1).toString(32),m>>=N,y-=N,vo=1<<32-Rn(a)+y|h<<y|m,yo=w+l}else vo=1<<w|h<<y|m,yo=l}function Gg(l){l.return!==null&&(gs(l,1),Gb(l,1,0))}function qg(l){for(;l===fd;)fd=Ml[--Nl],Ml[Nl]=null,pd=Ml[--Nl],Ml[Nl]=null;for(;l===ms;)ms=Jn[--Xn],Jn[Xn]=null,yo=Jn[--Xn],Jn[Xn]=null,vo=Jn[--Xn],Jn[Xn]=null}var _n=null,Dn=null,et=!1,wr=null;function qb(l,a){var h=rr(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=l,a=l.deletions,a===null?(l.deletions=[h],l.flags|=16):a.push(h)}function Jb(l,a){switch(l.tag){case 5:var h=l.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(l.stateNode=a,_n=l,Dn=ri(a.firstChild),!0):!1;case 6:return a=l.pendingProps===""||a.nodeType!==3?null:a,a!==null?(l.stateNode=a,_n=l,Dn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=ms!==null?{id:vo,overflow:yo}:null,l.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=rr(18,null,null,0),h.stateNode=a,h.return=l,l.child=h,_n=l,Dn=null,!0):!1;default:return!1}}function Jg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Xg(l){if(et){var a=Dn;if(a){var h=a;if(!Jb(l,a)){if(Jg(l))throw Error(n(418));a=ri(h.nextSibling);var m=_n;a&&Jb(l,a)?qb(m,h):(l.flags=l.flags&-4097|2,et=!1,_n=l)}}else{if(Jg(l))throw Error(n(418));l.flags=l.flags&-4097|2,et=!1,_n=l}}}function Xb(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;_n=l}function md(l){if(l!==_n)return!1;if(!et)return Xb(l),et=!0,!1;var a;if((a=l.tag!==3)&&!(a=l.tag!==5)&&(a=l.type,a=a!=="head"&&a!=="body"&&!Wg(l.type,l.memoizedProps)),a&&(a=Dn)){if(Jg(l))throw ek(),Error(n(418));for(;a;)qb(l,a),a=ri(a.nextSibling)}if(Xb(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,a=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"){if(a===0){Dn=ri(l.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}l=l.nextSibling}Dn=null}}else Dn=_n?ri(l.stateNode.nextSibling):null;return!0}function ek(){for(var l=Dn;l;)l=ri(l.nextSibling)}function Al(){Dn=_n=null,et=!1}function e0(l){wr===null?wr=[l]:wr.push(l)}var X$=M.ReactCurrentBatchConfig;function ku(l,a,h){if(l=h.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var m=h.stateNode}if(!m)throw Error(n(147,l));var y=m,w=""+l;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(N){var R=y.refs;N===null?delete R[w]:R[w]=N},a._stringRef=w,a)}if(typeof l!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,l))}return l}function gd(l,a){throw l=Object.prototype.toString.call(a),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":l))}function tk(l){var a=l._init;return a(l._payload)}function nk(l){function a(K,V){if(l){var Y=K.deletions;Y===null?(K.deletions=[V],K.flags|=16):Y.push(V)}}function h(K,V){if(!l)return null;for(;V!==null;)a(K,V),V=V.sibling;return null}function m(K,V){for(K=new Map;V!==null;)V.key!==null?K.set(V.key,V):K.set(V.index,V),V=V.sibling;return K}function y(K,V){return K=pi(K,V),K.index=0,K.sibling=null,K}function w(K,V,Y){return K.index=Y,l?(Y=K.alternate,Y!==null?(Y=Y.index,Y<V?(K.flags|=2,V):Y):(K.flags|=2,V)):(K.flags|=1048576,V)}function N(K){return l&&K.alternate===null&&(K.flags|=2),K}function R(K,V,Y,le){return V===null||V.tag!==6?(V=W0(Y,K.mode,le),V.return=K,V):(V=y(V,Y),V.return=K,V)}function I(K,V,Y,le){var ke=Y.type;return ke===T?re(K,V,Y.props.children,le,Y.key):V!==null&&(V.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===D&&tk(ke)===V.type)?(le=y(V,Y.props),le.ref=ku(K,V,Y),le.return=K,le):(le=Fd(Y.type,Y.key,Y.props,null,K.mode,le),le.ref=ku(K,V,Y),le.return=K,le)}function Z(K,V,Y,le){return V===null||V.tag!==4||V.stateNode.containerInfo!==Y.containerInfo||V.stateNode.implementation!==Y.implementation?(V=U0(Y,K.mode,le),V.return=K,V):(V=y(V,Y.children||[]),V.return=K,V)}function re(K,V,Y,le,ke){return V===null||V.tag!==7?(V=Cs(Y,K.mode,le,ke),V.return=K,V):(V=y(V,Y),V.return=K,V)}function oe(K,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number")return V=W0(""+V,K.mode,Y),V.return=K,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return Y=Fd(V.type,V.key,V.props,null,K.mode,Y),Y.ref=ku(K,null,V),Y.return=K,Y;case $:return V=U0(V,K.mode,Y),V.return=K,V;case D:var le=V._init;return oe(K,le(V._payload),Y)}if(vr(V)||L(V))return V=Cs(V,K.mode,Y,null),V.return=K,V;gd(K,V)}return null}function ne(K,V,Y,le){var ke=V!==null?V.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return ke!==null?null:R(K,V,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Y.key===ke?I(K,V,Y,le):null;case $:return Y.key===ke?Z(K,V,Y,le):null;case D:return ke=Y._init,ne(K,V,ke(Y._payload),le)}if(vr(Y)||L(Y))return ke!==null?null:re(K,V,Y,le,null);gd(K,Y)}return null}function fe(K,V,Y,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number")return K=K.get(Y)||null,R(V,K,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case A:return K=K.get(le.key===null?Y:le.key)||null,I(V,K,le,ke);case $:return K=K.get(le.key===null?Y:le.key)||null,Z(V,K,le,ke);case D:var Ce=le._init;return fe(K,V,Y,Ce(le._payload),ke)}if(vr(le)||L(le))return K=K.get(Y)||null,re(V,K,le,ke,null);gd(V,le)}return null}function xe(K,V,Y,le){for(var ke=null,Ce=null,Ee=V,Oe=V=0,Lt=null;Ee!==null&&Oe<Y.length;Oe++){Ee.index>Oe?(Lt=Ee,Ee=null):Lt=Ee.sibling;var Be=ne(K,Ee,Y[Oe],le);if(Be===null){Ee===null&&(Ee=Lt);break}l&&Ee&&Be.alternate===null&&a(K,Ee),V=w(Be,V,Oe),Ce===null?ke=Be:Ce.sibling=Be,Ce=Be,Ee=Lt}if(Oe===Y.length)return h(K,Ee),et&&gs(K,Oe),ke;if(Ee===null){for(;Oe<Y.length;Oe++)Ee=oe(K,Y[Oe],le),Ee!==null&&(V=w(Ee,V,Oe),Ce===null?ke=Ee:Ce.sibling=Ee,Ce=Ee);return et&&gs(K,Oe),ke}for(Ee=m(K,Ee);Oe<Y.length;Oe++)Lt=fe(Ee,K,Oe,Y[Oe],le),Lt!==null&&(l&&Lt.alternate!==null&&Ee.delete(Lt.key===null?Oe:Lt.key),V=w(Lt,V,Oe),Ce===null?ke=Lt:Ce.sibling=Lt,Ce=Lt);return l&&Ee.forEach(function(mi){return a(K,mi)}),et&&gs(K,Oe),ke}function be(K,V,Y,le){var ke=L(Y);if(typeof ke!="function")throw Error(n(150));if(Y=ke.call(Y),Y==null)throw Error(n(151));for(var Ce=ke=null,Ee=V,Oe=V=0,Lt=null,Be=Y.next();Ee!==null&&!Be.done;Oe++,Be=Y.next()){Ee.index>Oe?(Lt=Ee,Ee=null):Lt=Ee.sibling;var mi=ne(K,Ee,Be.value,le);if(mi===null){Ee===null&&(Ee=Lt);break}l&&Ee&&mi.alternate===null&&a(K,Ee),V=w(mi,V,Oe),Ce===null?ke=mi:Ce.sibling=mi,Ce=mi,Ee=Lt}if(Be.done)return h(K,Ee),et&&gs(K,Oe),ke;if(Ee===null){for(;!Be.done;Oe++,Be=Y.next())Be=oe(K,Be.value,le),Be!==null&&(V=w(Be,V,Oe),Ce===null?ke=Be:Ce.sibling=Be,Ce=Be);return et&&gs(K,Oe),ke}for(Ee=m(K,Ee);!Be.done;Oe++,Be=Y.next())Be=fe(Ee,K,Oe,Be.value,le),Be!==null&&(l&&Be.alternate!==null&&Ee.delete(Be.key===null?Oe:Be.key),V=w(Be,V,Oe),Ce===null?ke=Be:Ce.sibling=Be,Ce=Be);return l&&Ee.forEach(function($L){return a(K,$L)}),et&&gs(K,Oe),ke}function vt(K,V,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===T&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:e:{for(var ke=Y.key,Ce=V;Ce!==null;){if(Ce.key===ke){if(ke=Y.type,ke===T){if(Ce.tag===7){h(K,Ce.sibling),V=y(Ce,Y.props.children),V.return=K,K=V;break e}}else if(Ce.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===D&&tk(ke)===Ce.type){h(K,Ce.sibling),V=y(Ce,Y.props),V.ref=ku(K,Ce,Y),V.return=K,K=V;break e}h(K,Ce);break}else a(K,Ce);Ce=Ce.sibling}Y.type===T?(V=Cs(Y.props.children,K.mode,le,Y.key),V.return=K,K=V):(le=Fd(Y.type,Y.key,Y.props,null,K.mode,le),le.ref=ku(K,V,Y),le.return=K,K=le)}return N(K);case $:e:{for(Ce=Y.key;V!==null;){if(V.key===Ce)if(V.tag===4&&V.stateNode.containerInfo===Y.containerInfo&&V.stateNode.implementation===Y.implementation){h(K,V.sibling),V=y(V,Y.children||[]),V.return=K,K=V;break e}else{h(K,V);break}else a(K,V);V=V.sibling}V=U0(Y,K.mode,le),V.return=K,K=V}return N(K);case D:return Ce=Y._init,vt(K,V,Ce(Y._payload),le)}if(vr(Y))return xe(K,V,Y,le);if(L(Y))return be(K,V,Y,le);gd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,V!==null&&V.tag===6?(h(K,V.sibling),V=y(V,Y),V.return=K,K=V):(h(K,V),V=W0(Y,K.mode,le),V.return=K,K=V),N(K)):h(K,V)}return vt}var Ol=nk(!0),rk=nk(!1),vd=oi(null),yd=null,Tl=null,t0=null;function n0(){t0=Tl=yd=null}function r0(l){var a=vd.current;Ze(vd),l._currentValue=a}function o0(l,a,h){for(;l!==null;){var m=l.alternate;if((l.childLanes&a)!==a?(l.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),l===h)break;l=l.return}}function Pl(l,a){yd=l,t0=Tl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&a&&(wn=!0),l.firstContext=null)}function er(l){var a=l._currentValue;if(t0!==l)if(l={context:l,memoizedValue:a,next:null},Tl===null){if(yd===null)throw Error(n(308));Tl=l,yd.dependencies={lanes:0,firstContext:l}}else Tl=Tl.next=l;return a}var vs=null;function i0(l){vs===null?vs=[l]:vs.push(l)}function ok(l,a,h,m){var y=a.interleaved;return y===null?(h.next=h,i0(a)):(h.next=y.next,y.next=h),a.interleaved=h,wo(l,m)}function wo(l,a){l.lanes|=a;var h=l.alternate;for(h!==null&&(h.lanes|=a),h=l,l=l.return;l!==null;)l.childLanes|=a,h=l.alternate,h!==null&&(h.childLanes|=a),h=l,l=l.return;return h.tag===3?h.stateNode:null}var li=!1;function s0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ik(l,a){l=l.updateQueue,a.updateQueue===l&&(a.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function xo(l,a){return{eventTime:l,lane:a,tag:0,payload:null,callback:null,next:null}}function ai(l,a,h){var m=l.updateQueue;if(m===null)return null;if(m=m.shared,_e&2){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,wo(l,h)}return y=m.interleaved,y===null?(a.next=a,i0(m)):(a.next=y.next,y.next=a),m.interleaved=a,wo(l,h)}function wd(l,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var m=a.lanes;m&=l.pendingLanes,h|=m,a.lanes=h,xg(l,h)}}function sk(l,a){var h=l.updateQueue,m=l.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var y=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var N={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};w===null?y=w=N:w=w.next=N,h=h.next}while(h!==null);w===null?y=w=a:w=w.next=a}else y=w=a;h={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=a:l.next=a,h.lastBaseUpdate=a}function xd(l,a,h,m){var y=l.updateQueue;li=!1;var w=y.firstBaseUpdate,N=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var I=R,Z=I.next;I.next=null,N===null?w=Z:N.next=Z,N=I;var re=l.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==N&&(R===null?re.firstBaseUpdate=Z:R.next=Z,re.lastBaseUpdate=I))}if(w!==null){var oe=y.baseState;N=0,re=Z=I=null,R=w;do{var ne=R.lane,fe=R.eventTime;if((m&ne)===ne){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var xe=l,be=R;switch(ne=a,fe=h,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){oe=xe.call(fe,oe,ne);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,ne=typeof xe=="function"?xe.call(fe,oe,ne):xe,ne==null)break e;oe=_({},oe,ne);break e;case 2:li=!0}}R.callback!==null&&R.lane!==0&&(l.flags|=64,ne=y.effects,ne===null?y.effects=[R]:ne.push(R))}else fe={eventTime:fe,lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(Z=re=fe,I=oe):re=re.next=fe,N|=ne;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(I=oe),y.baseState=I,y.firstBaseUpdate=Z,y.lastBaseUpdate=re,a=y.shared.interleaved,a!==null){y=a;do N|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);xs|=N,l.lanes=N,l.memoizedState=oe}}function lk(l,a,h){if(l=a.effects,a.effects=null,l!==null)for(a=0;a<l.length;a++){var m=l[a],y=m.callback;if(y!==null){if(m.callback=null,m=h,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Su={},Hr=oi(Su),Cu=oi(Su),Eu=oi(Su);function ys(l){if(l===Su)throw Error(n(174));return l}function l0(l,a){switch(Ue(Eu,a),Ue(Cu,l),Ue(Hr,Su),l=a.nodeType,l){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Qo(null,"");break;default:l=l===8?a.parentNode:a,a=l.namespaceURI||null,l=l.tagName,a=Qo(a,l)}Ze(Hr),Ue(Hr,a)}function $l(){Ze(Hr),Ze(Cu),Ze(Eu)}function ak(l){ys(Eu.current);var a=ys(Hr.current),h=Qo(a,l.type);a!==h&&(Ue(Cu,l),Ue(Hr,h))}function a0(l){Cu.current===l&&(Ze(Hr),Ze(Cu))}var lt=oi(0);function bd(l){for(var a=l;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break;for(;a.sibling===null;){if(a.return===null||a.return===l)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var u0=[];function c0(){for(var l=0;l<u0.length;l++)u0[l]._workInProgressVersionPrimary=null;u0.length=0}var kd=M.ReactCurrentDispatcher,h0=M.ReactCurrentBatchConfig,ws=0,at=null,Et=null,Pt=null,Sd=!1,Mu=!1,Nu=0,eL=0;function Gt(){throw Error(n(321))}function d0(l,a){if(a===null)return!1;for(var h=0;h<a.length&&h<l.length;h++)if(!yr(l[h],a[h]))return!1;return!0}function f0(l,a,h,m,y,w){if(ws=w,at=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kd.current=l===null||l.memoizedState===null?oL:iL,l=h(m,y),Mu){w=0;do{if(Mu=!1,Nu=0,25<=w)throw Error(n(301));w+=1,Pt=Et=null,a.updateQueue=null,kd.current=sL,l=h(m,y)}while(Mu)}if(kd.current=Md,a=Et!==null&&Et.next!==null,ws=0,Pt=Et=at=null,Sd=!1,a)throw Error(n(300));return l}function p0(){var l=Nu!==0;return Nu=0,l}function Wr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?at.memoizedState=Pt=l:Pt=Pt.next=l,Pt}function tr(){if(Et===null){var l=at.alternate;l=l!==null?l.memoizedState:null}else l=Et.next;var a=Pt===null?at.memoizedState:Pt.next;if(a!==null)Pt=a,Et=l;else{if(l===null)throw Error(n(310));Et=l,l={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Pt===null?at.memoizedState=Pt=l:Pt=Pt.next=l}return Pt}function Au(l,a){return typeof a=="function"?a(l):a}function m0(l){var a=tr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var m=Et,y=m.baseQueue,w=h.pending;if(w!==null){if(y!==null){var N=y.next;y.next=w.next,w.next=N}m.baseQueue=y=w,h.pending=null}if(y!==null){w=y.next,m=m.baseState;var R=N=null,I=null,Z=w;do{var re=Z.lane;if((ws&re)===re)I!==null&&(I=I.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:l(m,Z.action);else{var oe={lane:re,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};I===null?(R=I=oe,N=m):I=I.next=oe,at.lanes|=re,xs|=re}Z=Z.next}while(Z!==null&&Z!==w);I===null?N=m:I.next=R,yr(m,a.memoizedState)||(wn=!0),a.memoizedState=m,a.baseState=N,a.baseQueue=I,h.lastRenderedState=m}if(l=h.interleaved,l!==null){y=l;do w=y.lane,at.lanes|=w,xs|=w,y=y.next;while(y!==l)}else y===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function g0(l){var a=tr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var m=h.dispatch,y=h.pending,w=a.memoizedState;if(y!==null){h.pending=null;var N=y=y.next;do w=l(w,N.action),N=N.next;while(N!==y);yr(w,a.memoizedState)||(wn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),h.lastRenderedState=w}return[w,m]}function uk(){}function ck(l,a){var h=at,m=tr(),y=a(),w=!yr(m.memoizedState,y);if(w&&(m.memoizedState=y,wn=!0),m=m.queue,v0(fk.bind(null,h,m,l),[l]),m.getSnapshot!==a||w||Pt!==null&&Pt.memoizedState.tag&1){if(h.flags|=2048,Ou(9,dk.bind(null,h,m,y,a),void 0,null),$t===null)throw Error(n(349));ws&30||hk(h,a,y)}return y}function hk(l,a,h){l.flags|=16384,l={getSnapshot:a,value:h},a=at.updateQueue,a===null?(a={lastEffect:null,stores:null},at.updateQueue=a,a.stores=[l]):(h=a.stores,h===null?a.stores=[l]:h.push(l))}function dk(l,a,h,m){a.value=h,a.getSnapshot=m,pk(a)&&mk(l)}function fk(l,a,h){return h(function(){pk(a)&&mk(l)})}function pk(l){var a=l.getSnapshot;l=l.value;try{var h=a();return!yr(l,h)}catch{return!0}}function mk(l){var a=wo(l,1);a!==null&&Sr(a,l,1,-1)}function gk(l){var a=Wr();return typeof l=="function"&&(l=l()),a.memoizedState=a.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:l},a.queue=l,l=l.dispatch=rL.bind(null,at,l),[a.memoizedState,l]}function Ou(l,a,h,m){return l={tag:l,create:a,destroy:h,deps:m,next:null},a=at.updateQueue,a===null?(a={lastEffect:null,stores:null},at.updateQueue=a,a.lastEffect=l.next=l):(h=a.lastEffect,h===null?a.lastEffect=l.next=l:(m=h.next,h.next=l,l.next=m,a.lastEffect=l)),l}function vk(){return tr().memoizedState}function Cd(l,a,h,m){var y=Wr();at.flags|=l,y.memoizedState=Ou(1|a,h,void 0,m===void 0?null:m)}function Ed(l,a,h,m){var y=tr();m=m===void 0?null:m;var w=void 0;if(Et!==null){var N=Et.memoizedState;if(w=N.destroy,m!==null&&d0(m,N.deps)){y.memoizedState=Ou(a,h,w,m);return}}at.flags|=l,y.memoizedState=Ou(1|a,h,w,m)}function yk(l,a){return Cd(8390656,8,l,a)}function v0(l,a){return Ed(2048,8,l,a)}function wk(l,a){return Ed(4,2,l,a)}function xk(l,a){return Ed(4,4,l,a)}function bk(l,a){if(typeof a=="function")return l=l(),a(l),function(){a(null)};if(a!=null)return l=l(),a.current=l,function(){a.current=null}}function kk(l,a,h){return h=h!=null?h.concat([l]):null,Ed(4,4,bk.bind(null,a,l),h)}function y0(){}function Sk(l,a){var h=tr();a=a===void 0?null:a;var m=h.memoizedState;return m!==null&&a!==null&&d0(a,m[1])?m[0]:(h.memoizedState=[l,a],l)}function Ck(l,a){var h=tr();a=a===void 0?null:a;var m=h.memoizedState;return m!==null&&a!==null&&d0(a,m[1])?m[0]:(l=l(),h.memoizedState=[l,a],l)}function Ek(l,a,h){return ws&21?(yr(h,a)||(h=tb(),at.lanes|=h,xs|=h,l.baseState=!0),a):(l.baseState&&(l.baseState=!1,wn=!0),l.memoizedState=h)}function tL(l,a){var h=Ve;Ve=h!==0&&4>h?h:4,l(!0);var m=h0.transition;h0.transition={};try{l(!1),a()}finally{Ve=h,h0.transition=m}}function Mk(){return tr().memoizedState}function nL(l,a,h){var m=di(l);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},Nk(l))Ak(a,h);else if(h=ok(l,a,h,m),h!==null){var y=an();Sr(h,l,m,y),Ok(h,a,m)}}function rL(l,a,h){var m=di(l),y={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(Nk(l))Ak(a,y);else{var w=l.alternate;if(l.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var N=a.lastRenderedState,R=w(N,h);if(y.hasEagerState=!0,y.eagerState=R,yr(R,N)){var I=a.interleaved;I===null?(y.next=y,i0(a)):(y.next=I.next,I.next=y),a.interleaved=y;return}}catch{}finally{}h=ok(l,a,y,m),h!==null&&(y=an(),Sr(h,l,m,y),Ok(h,a,m))}}function Nk(l){var a=l.alternate;return l===at||a!==null&&a===at}function Ak(l,a){Mu=Sd=!0;var h=l.pending;h===null?a.next=a:(a.next=h.next,h.next=a),l.pending=a}function Ok(l,a,h){if(h&4194240){var m=a.lanes;m&=l.pendingLanes,h|=m,a.lanes=h,xg(l,h)}}var Md={readContext:er,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},oL={readContext:er,useCallback:function(l,a){return Wr().memoizedState=[l,a===void 0?null:a],l},useContext:er,useEffect:yk,useImperativeHandle:function(l,a,h){return h=h!=null?h.concat([l]):null,Cd(4194308,4,bk.bind(null,a,l),h)},useLayoutEffect:function(l,a){return Cd(4194308,4,l,a)},useInsertionEffect:function(l,a){return Cd(4,2,l,a)},useMemo:function(l,a){var h=Wr();return a=a===void 0?null:a,l=l(),h.memoizedState=[l,a],l},useReducer:function(l,a,h){var m=Wr();return a=h!==void 0?h(a):a,m.memoizedState=m.baseState=a,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:a},m.queue=l,l=l.dispatch=nL.bind(null,at,l),[m.memoizedState,l]},useRef:function(l){var a=Wr();return l={current:l},a.memoizedState=l},useState:gk,useDebugValue:y0,useDeferredValue:function(l){return Wr().memoizedState=l},useTransition:function(){var l=gk(!1),a=l[0];return l=tL.bind(null,l[1]),Wr().memoizedState=l,[a,l]},useMutableSource:function(){},useSyncExternalStore:function(l,a,h){var m=at,y=Wr();if(et){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),$t===null)throw Error(n(349));ws&30||hk(m,a,h)}y.memoizedState=h;var w={value:h,getSnapshot:a};return y.queue=w,yk(fk.bind(null,m,w,l),[l]),m.flags|=2048,Ou(9,dk.bind(null,m,w,h,a),void 0,null),h},useId:function(){var l=Wr(),a=$t.identifierPrefix;if(et){var h=yo,m=vo;h=(m&~(1<<32-Rn(m)-1)).toString(32)+h,a=":"+a+"R"+h,h=Nu++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=eL++,a=":"+a+"r"+h.toString(32)+":";return l.memoizedState=a},unstable_isNewReconciler:!1},iL={readContext:er,useCallback:Sk,useContext:er,useEffect:v0,useImperativeHandle:kk,useInsertionEffect:wk,useLayoutEffect:xk,useMemo:Ck,useReducer:m0,useRef:vk,useState:function(){return m0(Au)},useDebugValue:y0,useDeferredValue:function(l){var a=tr();return Ek(a,Et.memoizedState,l)},useTransition:function(){var l=m0(Au)[0],a=tr().memoizedState;return[l,a]},useMutableSource:uk,useSyncExternalStore:ck,useId:Mk,unstable_isNewReconciler:!1},sL={readContext:er,useCallback:Sk,useContext:er,useEffect:v0,useImperativeHandle:kk,useInsertionEffect:wk,useLayoutEffect:xk,useMemo:Ck,useReducer:g0,useRef:vk,useState:function(){return g0(Au)},useDebugValue:y0,useDeferredValue:function(l){var a=tr();return Et===null?a.memoizedState=l:Ek(a,Et.memoizedState,l)},useTransition:function(){var l=g0(Au)[0],a=tr().memoizedState;return[l,a]},useMutableSource:uk,useSyncExternalStore:ck,useId:Mk,unstable_isNewReconciler:!1};function xr(l,a){if(l&&l.defaultProps){a=_({},a),l=l.defaultProps;for(var h in l)a[h]===void 0&&(a[h]=l[h]);return a}return a}function w0(l,a,h,m){a=l.memoizedState,h=h(m,a),h=h==null?a:_({},a,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Nd={isMounted:function(l){return(l=l._reactInternals)?Vr(l)===l:!1},enqueueSetState:function(l,a,h){l=l._reactInternals;var m=an(),y=di(l),w=xo(m,y);w.payload=a,h!=null&&(w.callback=h),a=ai(l,w,y),a!==null&&(Sr(a,l,y,m),wd(a,l,y))},enqueueReplaceState:function(l,a,h){l=l._reactInternals;var m=an(),y=di(l),w=xo(m,y);w.tag=1,w.payload=a,h!=null&&(w.callback=h),a=ai(l,w,y),a!==null&&(Sr(a,l,y,m),wd(a,l,y))},enqueueForceUpdate:function(l,a){l=l._reactInternals;var h=an(),m=di(l),y=xo(h,m);y.tag=2,a!=null&&(y.callback=a),a=ai(l,y,m),a!==null&&(Sr(a,l,m,h),wd(a,l,m))}};function Tk(l,a,h,m,y,w,N){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(m,w,N):a.prototype&&a.prototype.isPureReactComponent?!mu(h,m)||!mu(y,w):!0}function Pk(l,a,h){var m=!1,y=ii,w=a.contextType;return typeof w=="object"&&w!==null?w=er(w):(y=yn(a)?ps:Zt.current,m=a.contextTypes,w=(m=m!=null)?El(l,y):ii),a=new a(h,w),l.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nd,l.stateNode=a,a._reactInternals=l,m&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=y,l.__reactInternalMemoizedMaskedChildContext=w),a}function $k(l,a,h,m){l=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,m),a.state!==l&&Nd.enqueueReplaceState(a,a.state,null)}function x0(l,a,h,m){var y=l.stateNode;y.props=h,y.state=l.memoizedState,y.refs={},s0(l);var w=a.contextType;typeof w=="object"&&w!==null?y.context=er(w):(w=yn(a)?ps:Zt.current,y.context=El(l,w)),y.state=l.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(w0(l,a,w,h),y.state=l.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Nd.enqueueReplaceState(y,y.state,null),xd(l,h,y,m),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308)}function Ll(l,a){try{var h="",m=a;do h+=ue(m),m=m.return;while(m);var y=h}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:l,source:a,stack:y,digest:null}}function b0(l,a,h){return{value:l,source:null,stack:h??null,digest:a??null}}function k0(l,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var lL=typeof WeakMap=="function"?WeakMap:Map;function Lk(l,a,h){h=xo(-1,h),h.tag=3,h.payload={element:null};var m=a.value;return h.callback=function(){Rd||(Rd=!0,_0=m),k0(l,a)},h}function Rk(l,a,h){h=xo(-1,h),h.tag=3;var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;h.payload=function(){return m(y)},h.callback=function(){k0(l,a)}}var w=l.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(h.callback=function(){k0(l,a),typeof m!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),h}function zk(l,a,h){var m=l.pingCache;if(m===null){m=l.pingCache=new lL;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(h)||(y.add(h),l=bL.bind(null,l,a,h),a.then(l,l))}function _k(l){do{var a;if((a=l.tag===13)&&(a=l.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return l;l=l.return}while(l!==null);return null}function Dk(l,a,h,m,y){return l.mode&1?(l.flags|=65536,l.lanes=y,l):(l===a?l.flags|=65536:(l.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=xo(-1,1),a.tag=2,ai(h,a,1))),h.lanes|=1),l)}var aL=M.ReactCurrentOwner,wn=!1;function ln(l,a,h,m){a.child=l===null?rk(a,null,h,m):Ol(a,l.child,h,m)}function Ik(l,a,h,m,y){h=h.render;var w=a.ref;return Pl(a,y),m=f0(l,a,h,m,w,y),h=p0(),l!==null&&!wn?(a.updateQueue=l.updateQueue,a.flags&=-2053,l.lanes&=~y,bo(l,a,y)):(et&&h&&Gg(a),a.flags|=1,ln(l,a,m,y),a.child)}function Bk(l,a,h,m,y){if(l===null){var w=h.type;return typeof w=="function"&&!H0(w)&&w.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=w,Fk(l,a,w,m,y)):(l=Fd(h.type,null,m,a,a.mode,y),l.ref=a.ref,l.return=a,a.child=l)}if(w=l.child,!(l.lanes&y)){var N=w.memoizedProps;if(h=h.compare,h=h!==null?h:mu,h(N,m)&&l.ref===a.ref)return bo(l,a,y)}return a.flags|=1,l=pi(w,m),l.ref=a.ref,l.return=a,a.child=l}function Fk(l,a,h,m,y){if(l!==null){var w=l.memoizedProps;if(mu(w,m)&&l.ref===a.ref)if(wn=!1,a.pendingProps=m=w,(l.lanes&y)!==0)l.flags&131072&&(wn=!0);else return a.lanes=l.lanes,bo(l,a,y)}return S0(l,a,h,m,y)}function Vk(l,a,h){var m=a.pendingProps,y=m.children,w=l!==null?l.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(zl,In),In|=h;else{if(!(h&1073741824))return l=w!==null?w.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:l,cachePool:null,transitions:null},a.updateQueue=null,Ue(zl,In),In|=l,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:h,Ue(zl,In),In|=m}else w!==null?(m=w.baseLanes|h,a.memoizedState=null):m=h,Ue(zl,In),In|=m;return ln(l,a,y,h),a.child}function jk(l,a){var h=a.ref;(l===null&&h!==null||l!==null&&l.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function S0(l,a,h,m,y){var w=yn(h)?ps:Zt.current;return w=El(a,w),Pl(a,y),h=f0(l,a,h,m,w,y),m=p0(),l!==null&&!wn?(a.updateQueue=l.updateQueue,a.flags&=-2053,l.lanes&=~y,bo(l,a,y)):(et&&m&&Gg(a),a.flags|=1,ln(l,a,h,y),a.child)}function Hk(l,a,h,m,y){if(yn(h)){var w=!0;hd(a)}else w=!1;if(Pl(a,y),a.stateNode===null)Od(l,a),Pk(a,h,m),x0(a,h,m,y),m=!0;else if(l===null){var N=a.stateNode,R=a.memoizedProps;N.props=R;var I=N.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=er(Z):(Z=yn(h)?ps:Zt.current,Z=El(a,Z));var re=h.getDerivedStateFromProps,oe=typeof re=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==m||I!==Z)&&$k(a,N,m,Z),li=!1;var ne=a.memoizedState;N.state=ne,xd(a,m,N,y),I=a.memoizedState,R!==m||ne!==I||vn.current||li?(typeof re=="function"&&(w0(a,h,re,m),I=a.memoizedState),(R=li||Tk(a,h,R,m,ne,I,Z))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=I),N.props=m,N.state=I,N.context=Z,m=R):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{N=a.stateNode,ik(l,a),R=a.memoizedProps,Z=a.type===a.elementType?R:xr(a.type,R),N.props=Z,oe=a.pendingProps,ne=N.context,I=h.contextType,typeof I=="object"&&I!==null?I=er(I):(I=yn(h)?ps:Zt.current,I=El(a,I));var fe=h.getDerivedStateFromProps;(re=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==oe||ne!==I)&&$k(a,N,m,I),li=!1,ne=a.memoizedState,N.state=ne,xd(a,m,N,y);var xe=a.memoizedState;R!==oe||ne!==xe||vn.current||li?(typeof fe=="function"&&(w0(a,h,fe,m),xe=a.memoizedState),(Z=li||Tk(a,h,Z,m,ne,xe,I)||!1)?(re||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,xe,I),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,xe,I)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||R===l.memoizedProps&&ne===l.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&ne===l.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=xe),N.props=m,N.state=xe,N.context=I,m=Z):(typeof N.componentDidUpdate!="function"||R===l.memoizedProps&&ne===l.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&ne===l.memoizedState||(a.flags|=1024),m=!1)}return C0(l,a,h,m,w,y)}function C0(l,a,h,m,y,w){jk(l,a);var N=(a.flags&128)!==0;if(!m&&!N)return y&&Qb(a,h,!1),bo(l,a,w);m=a.stateNode,aL.current=a;var R=N&&typeof h.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,l!==null&&N?(a.child=Ol(a,l.child,null,w),a.child=Ol(a,null,R,w)):ln(l,a,R,w),a.memoizedState=m.state,y&&Qb(a,h,!0),a.child}function Wk(l){var a=l.stateNode;a.pendingContext?Kb(l,a.pendingContext,a.pendingContext!==a.context):a.context&&Kb(l,a.context,!1),l0(l,a.containerInfo)}function Uk(l,a,h,m,y){return Al(),e0(y),a.flags|=256,ln(l,a,h,m),a.child}var E0={dehydrated:null,treeContext:null,retryLane:0};function M0(l){return{baseLanes:l,cachePool:null,transitions:null}}function Kk(l,a,h){var m=a.pendingProps,y=lt.current,w=!1,N=(a.flags&128)!==0,R;if((R=N)||(R=l!==null&&l.memoizedState===null?!1:(y&2)!==0),R?(w=!0,a.flags&=-129):(l===null||l.memoizedState!==null)&&(y|=1),Ue(lt,y&1),l===null)return Xg(a),l=a.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(a.mode&1?l.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(N=m.children,l=m.fallback,w?(m=a.mode,w=a.child,N={mode:"hidden",children:N},!(m&1)&&w!==null?(w.childLanes=0,w.pendingProps=N):w=Vd(N,m,0,null),l=Cs(l,m,h,null),w.return=a,l.return=a,w.sibling=l,a.child=w,a.child.memoizedState=M0(h),a.memoizedState=E0,l):N0(a,N));if(y=l.memoizedState,y!==null&&(R=y.dehydrated,R!==null))return uL(l,a,N,m,R,y,h);if(w){w=m.fallback,N=a.mode,y=l.child,R=y.sibling;var I={mode:"hidden",children:m.children};return!(N&1)&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=I,a.deletions=null):(m=pi(y,I),m.subtreeFlags=y.subtreeFlags&14680064),R!==null?w=pi(R,w):(w=Cs(w,N,h,null),w.flags|=2),w.return=a,m.return=a,m.sibling=w,a.child=m,m=w,w=a.child,N=l.child.memoizedState,N=N===null?M0(h):{baseLanes:N.baseLanes|h,cachePool:null,transitions:N.transitions},w.memoizedState=N,w.childLanes=l.childLanes&~h,a.memoizedState=E0,m}return w=l.child,l=w.sibling,m=pi(w,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=h),m.return=a,m.sibling=null,l!==null&&(h=a.deletions,h===null?(a.deletions=[l],a.flags|=16):h.push(l)),a.child=m,a.memoizedState=null,m}function N0(l,a){return a=Vd({mode:"visible",children:a},l.mode,0,null),a.return=l,l.child=a}function Ad(l,a,h,m){return m!==null&&e0(m),Ol(a,l.child,null,h),l=N0(a,a.pendingProps.children),l.flags|=2,a.memoizedState=null,l}function uL(l,a,h,m,y,w,N){if(h)return a.flags&256?(a.flags&=-257,m=b0(Error(n(422))),Ad(l,a,N,m)):a.memoizedState!==null?(a.child=l.child,a.flags|=128,null):(w=m.fallback,y=a.mode,m=Vd({mode:"visible",children:m.children},y,0,null),w=Cs(w,y,N,null),w.flags|=2,m.return=a,w.return=a,m.sibling=w,a.child=m,a.mode&1&&Ol(a,l.child,null,N),a.child.memoizedState=M0(N),a.memoizedState=E0,w);if(!(a.mode&1))return Ad(l,a,N,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var R=m.dgst;return m=R,w=Error(n(419)),m=b0(w,m,void 0),Ad(l,a,N,m)}if(R=(N&l.childLanes)!==0,wn||R){if(m=$t,m!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(m.suspendedLanes|N)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,wo(l,y),Sr(m,l,y,-1))}return j0(),m=b0(Error(n(421))),Ad(l,a,N,m)}return y.data==="$?"?(a.flags|=128,a.child=l.child,a=kL.bind(null,l),y._reactRetry=a,null):(l=w.treeContext,Dn=ri(y.nextSibling),_n=a,et=!0,wr=null,l!==null&&(Jn[Xn++]=vo,Jn[Xn++]=yo,Jn[Xn++]=ms,vo=l.id,yo=l.overflow,ms=a),a=N0(a,m.children),a.flags|=4096,a)}function Yk(l,a,h){l.lanes|=a;var m=l.alternate;m!==null&&(m.lanes|=a),o0(l.return,a,h)}function A0(l,a,h,m,y){var w=l.memoizedState;w===null?l.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=h,w.tailMode=y)}function Qk(l,a,h){var m=a.pendingProps,y=m.revealOrder,w=m.tail;if(ln(l,a,m.children,h),m=lt.current,m&2)m=m&1|2,a.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=a.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Yk(l,h,a);else if(l.tag===19)Yk(l,h,a);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}m&=1}if(Ue(lt,m),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(h=a.child,y=null;h!==null;)l=h.alternate,l!==null&&bd(l)===null&&(y=h),h=h.sibling;h=y,h===null?(y=a.child,a.child=null):(y=h.sibling,h.sibling=null),A0(a,!1,y,h,w);break;case"backwards":for(h=null,y=a.child,a.child=null;y!==null;){if(l=y.alternate,l!==null&&bd(l)===null){a.child=y;break}l=y.sibling,y.sibling=h,h=y,y=l}A0(a,!0,h,null,w);break;case"together":A0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Od(l,a){!(a.mode&1)&&l!==null&&(l.alternate=null,a.alternate=null,a.flags|=2)}function bo(l,a,h){if(l!==null&&(a.dependencies=l.dependencies),xs|=a.lanes,!(h&a.childLanes))return null;if(l!==null&&a.child!==l.child)throw Error(n(153));if(a.child!==null){for(l=a.child,h=pi(l,l.pendingProps),a.child=h,h.return=a;l.sibling!==null;)l=l.sibling,h=h.sibling=pi(l,l.pendingProps),h.return=a;h.sibling=null}return a.child}function cL(l,a,h){switch(a.tag){case 3:Wk(a),Al();break;case 5:ak(a);break;case 1:yn(a.type)&&hd(a);break;case 4:l0(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;Ue(vd,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Ue(lt,lt.current&1),a.flags|=128,null):h&a.child.childLanes?Kk(l,a,h):(Ue(lt,lt.current&1),l=bo(l,a,h),l!==null?l.sibling:null);Ue(lt,lt.current&1);break;case 19:if(m=(h&a.childLanes)!==0,l.flags&128){if(m)return Qk(l,a,h);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ue(lt,lt.current),m)break;return null;case 22:case 23:return a.lanes=0,Vk(l,a,h)}return bo(l,a,h)}var Zk,O0,Gk,qk;Zk=function(l,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)l.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},O0=function(){},Gk=function(l,a,h,m){var y=l.memoizedProps;if(y!==m){l=a.stateNode,ys(Hr.current);var w=null;switch(h){case"input":y=ft(l,y),m=ft(l,m),w=[];break;case"select":y=_({},y,{value:void 0}),m=_({},m,{value:void 0}),w=[];break;case"textarea":y=fo(l,y),m=fo(l,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(l.onclick=ad)}Ya(h,m);var N;h=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var R=y[Z];for(N in R)R.hasOwnProperty(N)&&(h||(h={}),h[N]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var I=m[Z];if(R=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&I!==R&&(I!=null||R!=null))if(Z==="style")if(R){for(N in R)!R.hasOwnProperty(N)||I&&I.hasOwnProperty(N)||(h||(h={}),h[N]="");for(N in I)I.hasOwnProperty(N)&&R[N]!==I[N]&&(h||(h={}),h[N]=I[N])}else h||(w||(w=[]),w.push(Z,h)),h=I;else Z==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,R=R?R.__html:void 0,I!=null&&R!==I&&(w=w||[]).push(Z,I)):Z==="children"?typeof I!="string"&&typeof I!="number"||(w=w||[]).push(Z,""+I):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(I!=null&&Z==="onScroll"&&Qe("scroll",l),w||R===I||(w=[])):(w=w||[]).push(Z,I))}h&&(w=w||[]).push("style",h);var Z=w;(a.updateQueue=Z)&&(a.flags|=4)}},qk=function(l,a,h,m){h!==m&&(a.flags|=4)};function Tu(l,a){if(!et)switch(l.tailMode){case"hidden":a=l.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?a||l.tail===null?l.tail=null:l.tail.sibling=null:m.sibling=null}}function qt(l){var a=l.alternate!==null&&l.alternate.child===l.child,h=0,m=0;if(a)for(var y=l.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=l,y=y.sibling;else for(y=l.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=l,y=y.sibling;return l.subtreeFlags|=m,l.childLanes=h,a}function hL(l,a,h){var m=a.pendingProps;switch(qg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(a),null;case 1:return yn(a.type)&&cd(),qt(a),null;case 3:return m=a.stateNode,$l(),Ze(vn),Ze(Zt),c0(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(md(a)?a.flags|=4:l===null||l.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,wr!==null&&(B0(wr),wr=null))),O0(l,a),qt(a),null;case 5:a0(a);var y=ys(Eu.current);if(h=a.type,l!==null&&a.stateNode!=null)Gk(l,a,h,m,y),l.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return qt(a),null}if(l=ys(Hr.current),md(a)){m=a.stateNode,h=a.type;var w=a.memoizedProps;switch(m[jr]=a,m[xu]=w,l=(a.mode&1)!==0,h){case"dialog":Qe("cancel",m),Qe("close",m);break;case"iframe":case"object":case"embed":Qe("load",m);break;case"video":case"audio":for(y=0;y<vu.length;y++)Qe(vu[y],m);break;case"source":Qe("error",m);break;case"img":case"image":case"link":Qe("error",m),Qe("load",m);break;case"details":Qe("toggle",m);break;case"input":gn(m,w),Qe("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},Qe("invalid",m);break;case"textarea":Uo(m,w),Qe("invalid",m)}Ya(h,w),y=null;for(var N in w)if(w.hasOwnProperty(N)){var R=w[N];N==="children"?typeof R=="string"?m.textContent!==R&&(w.suppressHydrationWarning!==!0&&ld(m.textContent,R,l),y=["children",R]):typeof R=="number"&&m.textContent!==""+R&&(w.suppressHydrationWarning!==!0&&ld(m.textContent,R,l),y=["children",""+R]):o.hasOwnProperty(N)&&R!=null&&N==="onScroll"&&Qe("scroll",m)}switch(h){case"input":Ne(m),il(m,w,!0);break;case"textarea":Ne(m),Ko(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=ad)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Yo(h)),l==="http://www.w3.org/1999/xhtml"?h==="script"?(l=N.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof m.is=="string"?l=N.createElement(h,{is:m.is}):(l=N.createElement(h),h==="select"&&(N=l,m.multiple?N.multiple=!0:m.size&&(N.size=m.size))):l=N.createElementNS(l,h),l[jr]=a,l[xu]=m,Zk(l,a,!1,!1),a.stateNode=l;e:{switch(N=Qa(h,m),h){case"dialog":Qe("cancel",l),Qe("close",l),y=m;break;case"iframe":case"object":case"embed":Qe("load",l),y=m;break;case"video":case"audio":for(y=0;y<vu.length;y++)Qe(vu[y],l);y=m;break;case"source":Qe("error",l),y=m;break;case"img":case"image":case"link":Qe("error",l),Qe("load",l),y=m;break;case"details":Qe("toggle",l),y=m;break;case"input":gn(l,m),y=ft(l,m),Qe("invalid",l);break;case"option":y=m;break;case"select":l._wrapperState={wasMultiple:!!m.multiple},y=_({},m,{value:void 0}),Qe("invalid",l);break;case"textarea":Uo(l,m),y=fo(l,m),Qe("invalid",l);break;default:y=m}Ya(h,y),R=y;for(w in R)if(R.hasOwnProperty(w)){var I=R[w];w==="style"?Lh(l,I):w==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&al(l,I)):w==="children"?typeof I=="string"?(h!=="textarea"||I!=="")&&as(l,I):typeof I=="number"&&as(l,""+I):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?I!=null&&w==="onScroll"&&Qe("scroll",l):I!=null&&C(l,w,I,N))}switch(h){case"input":Ne(l),il(l,m,!1);break;case"textarea":Ne(l),Ko(l);break;case"option":m.value!=null&&l.setAttribute("value",""+ae(m.value));break;case"select":l.multiple=!!m.multiple,w=m.value,w!=null?Fr(l,!!m.multiple,w,!1):m.defaultValue!=null&&Fr(l,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(l.onclick=ad)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return qt(a),null;case 6:if(l&&a.stateNode!=null)qk(l,a,l.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(h=ys(Eu.current),ys(Hr.current),md(a)){if(m=a.stateNode,h=a.memoizedProps,m[jr]=a,(w=m.nodeValue!==h)&&(l=_n,l!==null))switch(l.tag){case 3:ld(m.nodeValue,h,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&ld(m.nodeValue,h,(l.mode&1)!==0)}w&&(a.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[jr]=a,a.stateNode=m}return qt(a),null;case 13:if(Ze(lt),m=a.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(et&&Dn!==null&&a.mode&1&&!(a.flags&128))ek(),Al(),a.flags|=98560,w=!1;else if(w=md(a),m!==null&&m.dehydrated!==null){if(l===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[jr]=a}else Al(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;qt(a),w=!1}else wr!==null&&(B0(wr),wr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=h,a):(m=m!==null,m!==(l!==null&&l.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(l===null||lt.current&1?Mt===0&&(Mt=3):j0())),a.updateQueue!==null&&(a.flags|=4),qt(a),null);case 4:return $l(),O0(l,a),l===null&&yu(a.stateNode.containerInfo),qt(a),null;case 10:return r0(a.type._context),qt(a),null;case 17:return yn(a.type)&&cd(),qt(a),null;case 19:if(Ze(lt),w=a.memoizedState,w===null)return qt(a),null;if(m=(a.flags&128)!==0,N=w.rendering,N===null)if(m)Tu(w,!1);else{if(Mt!==0||l!==null&&l.flags&128)for(l=a.child;l!==null;){if(N=bd(l),N!==null){for(a.flags|=128,Tu(w,!1),m=N.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=h,h=a.child;h!==null;)w=h,l=m,w.flags&=14680066,N=w.alternate,N===null?(w.childLanes=0,w.lanes=l,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=N.childLanes,w.lanes=N.lanes,w.child=N.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=N.memoizedProps,w.memoizedState=N.memoizedState,w.updateQueue=N.updateQueue,w.type=N.type,l=N.dependencies,w.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),h=h.sibling;return Ue(lt,lt.current&1|2),a.child}l=l.sibling}w.tail!==null&&st()>_l&&(a.flags|=128,m=!0,Tu(w,!1),a.lanes=4194304)}else{if(!m)if(l=bd(N),l!==null){if(a.flags|=128,m=!0,h=l.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Tu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!et)return qt(a),null}else 2*st()-w.renderingStartTime>_l&&h!==1073741824&&(a.flags|=128,m=!0,Tu(w,!1),a.lanes=4194304);w.isBackwards?(N.sibling=a.child,a.child=N):(h=w.last,h!==null?h.sibling=N:a.child=N,w.last=N)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=st(),a.sibling=null,h=lt.current,Ue(lt,m?h&1|2:h&1),a):(qt(a),null);case 22:case 23:return V0(),m=a.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?In&1073741824&&(qt(a),a.subtreeFlags&6&&(a.flags|=8192)):qt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function dL(l,a){switch(qg(a),a.tag){case 1:return yn(a.type)&&cd(),l=a.flags,l&65536?(a.flags=l&-65537|128,a):null;case 3:return $l(),Ze(vn),Ze(Zt),c0(),l=a.flags,l&65536&&!(l&128)?(a.flags=l&-65537|128,a):null;case 5:return a0(a),null;case 13:if(Ze(lt),l=a.memoizedState,l!==null&&l.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Al()}return l=a.flags,l&65536?(a.flags=l&-65537|128,a):null;case 19:return Ze(lt),null;case 4:return $l(),null;case 10:return r0(a.type._context),null;case 22:case 23:return V0(),null;case 24:return null;default:return null}}var Td=!1,Jt=!1,fL=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Rl(l,a){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){pt(l,a,m)}else h.current=null}function Jk(l,a,h){try{h()}catch(m){pt(l,a,m)}}var Xk=!1;function pL(l,a){if(jg=Gh,l=Tb(),Rg(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var N=0,R=-1,I=-1,Z=0,re=0,oe=l,ne=null;t:for(;;){for(var fe;oe!==h||y!==0&&oe.nodeType!==3||(R=N+y),oe!==w||m!==0&&oe.nodeType!==3||(I=N+m),oe.nodeType===3&&(N+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)ne=oe,oe=fe;for(;;){if(oe===l)break t;if(ne===h&&++Z===y&&(R=N),ne===w&&++re===m&&(I=N),(fe=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=fe}h=R===-1||I===-1?null:{start:R,end:I}}else h=null}h=h||{start:0,end:0}}else h=null;for(Hg={focusedElem:l,selectionRange:h},Gh=!1,ve=a;ve!==null;)if(a=ve,l=a.child,(a.subtreeFlags&1028)!==0&&l!==null)l.return=a,ve=l;else for(;ve!==null;){a=ve;try{var xe=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,vt=xe.memoizedState,K=a.stateNode,V=K.getSnapshotBeforeUpdate(a.elementType===a.type?be:xr(a.type,be),vt);K.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){pt(a,a.return,le)}if(l=a.sibling,l!==null){l.return=a.return,ve=l;break}ve=a.return}return xe=Xk,Xk=!1,xe}function Pu(l,a,h){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&l)===l){var w=y.destroy;y.destroy=void 0,w!==void 0&&Jk(a,h,w)}y=y.next}while(y!==m)}}function Pd(l,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&l)===l){var m=h.create;h.destroy=m()}h=h.next}while(h!==a)}}function T0(l){var a=l.ref;if(a!==null){var h=l.stateNode;switch(l.tag){case 5:l=h;break;default:l=h}typeof a=="function"?a(l):a.current=l}}function eS(l){var a=l.alternate;a!==null&&(l.alternate=null,eS(a)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(a=l.stateNode,a!==null&&(delete a[jr],delete a[xu],delete a[Yg],delete a[G$],delete a[q$])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function tS(l){return l.tag===5||l.tag===3||l.tag===4}function nS(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||tS(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function P0(l,a,h){var m=l.tag;if(m===5||m===6)l=l.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(l,a):h.insertBefore(l,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(l,h)):(a=h,a.appendChild(l)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=ad));else if(m!==4&&(l=l.child,l!==null))for(P0(l,a,h),l=l.sibling;l!==null;)P0(l,a,h),l=l.sibling}function $0(l,a,h){var m=l.tag;if(m===5||m===6)l=l.stateNode,a?h.insertBefore(l,a):h.appendChild(l);else if(m!==4&&(l=l.child,l!==null))for($0(l,a,h),l=l.sibling;l!==null;)$0(l,a,h),l=l.sibling}var _t=null,br=!1;function ui(l,a,h){for(h=h.child;h!==null;)rS(l,a,h),h=h.sibling}function rS(l,a,h){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(dl,h)}catch{}switch(h.tag){case 5:Jt||Rl(h,a);case 6:var m=_t,y=br;_t=null,ui(l,a,h),_t=m,br=y,_t!==null&&(br?(l=_t,h=h.stateNode,l.nodeType===8?l.parentNode.removeChild(h):l.removeChild(h)):_t.removeChild(h.stateNode));break;case 18:_t!==null&&(br?(l=_t,h=h.stateNode,l.nodeType===8?Kg(l.parentNode,h):l.nodeType===1&&Kg(l,h),uu(l)):Kg(_t,h.stateNode));break;case 4:m=_t,y=br,_t=h.stateNode.containerInfo,br=!0,ui(l,a,h),_t=m,br=y;break;case 0:case 11:case 14:case 15:if(!Jt&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,N=w.destroy;w=w.tag,N!==void 0&&(w&2||w&4)&&Jk(h,a,N),y=y.next}while(y!==m)}ui(l,a,h);break;case 1:if(!Jt&&(Rl(h,a),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(R){pt(h,a,R)}ui(l,a,h);break;case 21:ui(l,a,h);break;case 22:h.mode&1?(Jt=(m=Jt)||h.memoizedState!==null,ui(l,a,h),Jt=m):ui(l,a,h);break;default:ui(l,a,h)}}function oS(l){var a=l.updateQueue;if(a!==null){l.updateQueue=null;var h=l.stateNode;h===null&&(h=l.stateNode=new fL),a.forEach(function(m){var y=SL.bind(null,l,m);h.has(m)||(h.add(m),m.then(y,y))})}}function kr(l,a){var h=a.deletions;if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];try{var w=l,N=a,R=N;e:for(;R!==null;){switch(R.tag){case 5:_t=R.stateNode,br=!1;break e;case 3:_t=R.stateNode.containerInfo,br=!0;break e;case 4:_t=R.stateNode.containerInfo,br=!0;break e}R=R.return}if(_t===null)throw Error(n(160));rS(w,N,y),_t=null,br=!1;var I=y.alternate;I!==null&&(I.return=null),y.return=null}catch(Z){pt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)iS(a,l),a=a.sibling}function iS(l,a){var h=l.alternate,m=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(kr(a,l),Ur(l),m&4){try{Pu(3,l,l.return),Pd(3,l)}catch(be){pt(l,l.return,be)}try{Pu(5,l,l.return)}catch(be){pt(l,l.return,be)}}break;case 1:kr(a,l),Ur(l),m&512&&h!==null&&Rl(h,h.return);break;case 5:if(kr(a,l),Ur(l),m&512&&h!==null&&Rl(h,h.return),l.flags&32){var y=l.stateNode;try{as(y,"")}catch(be){pt(l,l.return,be)}}if(m&4&&(y=l.stateNode,y!=null)){var w=l.memoizedProps,N=h!==null?h.memoizedProps:w,R=l.type,I=l.updateQueue;if(l.updateQueue=null,I!==null)try{R==="input"&&w.type==="radio"&&w.name!=null&&Wo(y,w),Qa(R,N);var Z=Qa(R,w);for(N=0;N<I.length;N+=2){var re=I[N],oe=I[N+1];re==="style"?Lh(y,oe):re==="dangerouslySetInnerHTML"?al(y,oe):re==="children"?as(y,oe):C(y,re,oe,Z)}switch(R){case"input":ss(y,w);break;case"textarea":sl(y,w);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Fr(y,!!w.multiple,fe,!1):ne!==!!w.multiple&&(w.defaultValue!=null?Fr(y,!!w.multiple,w.defaultValue,!0):Fr(y,!!w.multiple,w.multiple?[]:"",!1))}y[xu]=w}catch(be){pt(l,l.return,be)}}break;case 6:if(kr(a,l),Ur(l),m&4){if(l.stateNode===null)throw Error(n(162));y=l.stateNode,w=l.memoizedProps;try{y.nodeValue=w}catch(be){pt(l,l.return,be)}}break;case 3:if(kr(a,l),Ur(l),m&4&&h!==null&&h.memoizedState.isDehydrated)try{uu(a.containerInfo)}catch(be){pt(l,l.return,be)}break;case 4:kr(a,l),Ur(l);break;case 13:kr(a,l),Ur(l),y=l.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(z0=st())),m&4&&oS(l);break;case 22:if(re=h!==null&&h.memoizedState!==null,l.mode&1?(Jt=(Z=Jt)||re,kr(a,l),Jt=Z):kr(a,l),Ur(l),m&8192){if(Z=l.memoizedState!==null,(l.stateNode.isHidden=Z)&&!re&&l.mode&1)for(ve=l,re=l.child;re!==null;){for(oe=ve=re;ve!==null;){switch(ne=ve,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Pu(4,ne,ne.return);break;case 1:Rl(ne,ne.return);var xe=ne.stateNode;if(typeof xe.componentWillUnmount=="function"){m=ne,h=ne.return;try{a=m,xe.props=a.memoizedProps,xe.state=a.memoizedState,xe.componentWillUnmount()}catch(be){pt(m,h,be)}}break;case 5:Rl(ne,ne.return);break;case 22:if(ne.memoizedState!==null){aS(oe);continue}}fe!==null?(fe.return=ne,ve=fe):aS(oe)}re=re.sibling}e:for(re=null,oe=l;;){if(oe.tag===5){if(re===null){re=oe;try{y=oe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(R=oe.stateNode,I=oe.memoizedProps.style,N=I!=null&&I.hasOwnProperty("display")?I.display:null,R.style.display=$h("display",N))}catch(be){pt(l,l.return,be)}}}else if(oe.tag===6){if(re===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(be){pt(l,l.return,be)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===l)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===l)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===l)break e;re===oe&&(re=null),oe=oe.return}re===oe&&(re=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:kr(a,l),Ur(l),m&4&&oS(l);break;case 21:break;default:kr(a,l),Ur(l)}}function Ur(l){var a=l.flags;if(a&2){try{e:{for(var h=l.return;h!==null;){if(tS(h)){var m=h;break e}h=h.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(as(y,""),m.flags&=-33);var w=nS(l);$0(l,w,y);break;case 3:case 4:var N=m.stateNode.containerInfo,R=nS(l);P0(l,R,N);break;default:throw Error(n(161))}}catch(I){pt(l,l.return,I)}l.flags&=-3}a&4096&&(l.flags&=-4097)}function mL(l,a,h){ve=l,sS(l)}function sS(l,a,h){for(var m=(l.mode&1)!==0;ve!==null;){var y=ve,w=y.child;if(y.tag===22&&m){var N=y.memoizedState!==null||Td;if(!N){var R=y.alternate,I=R!==null&&R.memoizedState!==null||Jt;R=Td;var Z=Jt;if(Td=N,(Jt=I)&&!Z)for(ve=y;ve!==null;)N=ve,I=N.child,N.tag===22&&N.memoizedState!==null?uS(y):I!==null?(I.return=N,ve=I):uS(y);for(;w!==null;)ve=w,sS(w),w=w.sibling;ve=y,Td=R,Jt=Z}lS(l)}else y.subtreeFlags&8772&&w!==null?(w.return=y,ve=w):lS(l)}}function lS(l){for(;ve!==null;){var a=ve;if(a.flags&8772){var h=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Jt||Pd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Jt)if(h===null)m.componentDidMount();else{var y=a.elementType===a.type?h.memoizedProps:xr(a.type,h.memoizedProps);m.componentDidUpdate(y,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&lk(a,w,m);break;case 3:var N=a.updateQueue;if(N!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}lk(a,N,h)}break;case 5:var R=a.stateNode;if(h===null&&a.flags&4){h=R;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&h.focus();break;case"img":I.src&&(h.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var re=Z.memoizedState;if(re!==null){var oe=re.dehydrated;oe!==null&&uu(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jt||a.flags&512&&T0(a)}catch(ne){pt(a,a.return,ne)}}if(a===l){ve=null;break}if(h=a.sibling,h!==null){h.return=a.return,ve=h;break}ve=a.return}}function aS(l){for(;ve!==null;){var a=ve;if(a===l){ve=null;break}var h=a.sibling;if(h!==null){h.return=a.return,ve=h;break}ve=a.return}}function uS(l){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Pd(4,a)}catch(I){pt(a,h,I)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(I){pt(a,y,I)}}var w=a.return;try{T0(a)}catch(I){pt(a,w,I)}break;case 5:var N=a.return;try{T0(a)}catch(I){pt(a,N,I)}}}catch(I){pt(a,a.return,I)}if(a===l){ve=null;break}var R=a.sibling;if(R!==null){R.return=a.return,ve=R;break}ve=a.return}}var gL=Math.ceil,$d=M.ReactCurrentDispatcher,L0=M.ReactCurrentOwner,nr=M.ReactCurrentBatchConfig,_e=0,$t=null,bt=null,Dt=0,In=0,zl=oi(0),Mt=0,$u=null,xs=0,Ld=0,R0=0,Lu=null,xn=null,z0=0,_l=1/0,ko=null,Rd=!1,_0=null,ci=null,zd=!1,hi=null,_d=0,Ru=0,D0=null,Dd=-1,Id=0;function an(){return _e&6?st():Dd!==-1?Dd:Dd=st()}function di(l){return l.mode&1?_e&2&&Dt!==0?Dt&-Dt:X$.transition!==null?(Id===0&&(Id=tb()),Id):(l=Ve,l!==0||(l=window.event,l=l===void 0?16:cb(l.type)),l):1}function Sr(l,a,h,m){if(50<Ru)throw Ru=0,D0=null,Error(n(185));ou(l,h,m),(!(_e&2)||l!==$t)&&(l===$t&&(!(_e&2)&&(Ld|=h),Mt===4&&fi(l,Dt)),bn(l,m),h===1&&_e===0&&!(a.mode&1)&&(_l=st()+500,dd&&si()))}function bn(l,a){var h=l.callbackNode;XP(l,a);var m=ml(l,l===$t?Dt:0);if(m===0)h!==null&&Uh(h),l.callbackNode=null,l.callbackPriority=0;else if(a=m&-m,l.callbackPriority!==a){if(h!=null&&Uh(h),a===1)l.tag===0?J$(hS.bind(null,l)):Zb(hS.bind(null,l)),Q$(function(){!(_e&6)&&si()}),h=null;else{switch(nb(m)){case 1:h=nu;break;case 4:h=Yh;break;case 16:h=hl;break;case 536870912:h=ru;break;default:h=hl}h=wS(h,cS.bind(null,l))}l.callbackPriority=a,l.callbackNode=h}}function cS(l,a){if(Dd=-1,Id=0,_e&6)throw Error(n(327));var h=l.callbackNode;if(Dl()&&l.callbackNode!==h)return null;var m=ml(l,l===$t?Dt:0);if(m===0)return null;if(m&30||m&l.expiredLanes||a)a=Bd(l,m);else{a=m;var y=_e;_e|=2;var w=fS();($t!==l||Dt!==a)&&(ko=null,_l=st()+500,ks(l,a));do try{wL();break}catch(R){dS(l,R)}while(!0);n0(),$d.current=w,_e=y,bt!==null?a=0:($t=null,Dt=0,a=Mt)}if(a!==0){if(a===2&&(y=yg(l),y!==0&&(m=y,a=I0(l,y))),a===1)throw h=$u,ks(l,0),fi(l,m),bn(l,st()),h;if(a===6)fi(l,m);else{if(y=l.current.alternate,!(m&30)&&!vL(y)&&(a=Bd(l,m),a===2&&(w=yg(l),w!==0&&(m=w,a=I0(l,w))),a===1))throw h=$u,ks(l,0),fi(l,m),bn(l,st()),h;switch(l.finishedWork=y,l.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Ss(l,xn,ko);break;case 3:if(fi(l,m),(m&130023424)===m&&(a=z0+500-st(),10<a)){if(ml(l,0)!==0)break;if(y=l.suspendedLanes,(y&m)!==m){an(),l.pingedLanes|=l.suspendedLanes&y;break}l.timeoutHandle=Ug(Ss.bind(null,l,xn,ko),a);break}Ss(l,xn,ko);break;case 4:if(fi(l,m),(m&4194240)===m)break;for(a=l.eventTimes,y=-1;0<m;){var N=31-Rn(m);w=1<<N,N=a[N],N>y&&(y=N),m&=~w}if(m=y,m=st()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*gL(m/1960))-m,10<m){l.timeoutHandle=Ug(Ss.bind(null,l,xn,ko),m);break}Ss(l,xn,ko);break;case 5:Ss(l,xn,ko);break;default:throw Error(n(329))}}}return bn(l,st()),l.callbackNode===h?cS.bind(null,l):null}function I0(l,a){var h=Lu;return l.current.memoizedState.isDehydrated&&(ks(l,a).flags|=256),l=Bd(l,a),l!==2&&(a=xn,xn=h,a!==null&&B0(a)),l}function B0(l){xn===null?xn=l:xn.push.apply(xn,l)}function vL(l){for(var a=l;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var y=h[m],w=y.getSnapshot;y=y.value;try{if(!yr(w(),y))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===l)break;for(;a.sibling===null;){if(a.return===null||a.return===l)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fi(l,a){for(a&=~R0,a&=~Ld,l.suspendedLanes|=a,l.pingedLanes&=~a,l=l.expirationTimes;0<a;){var h=31-Rn(a),m=1<<h;l[h]=-1,a&=~m}}function hS(l){if(_e&6)throw Error(n(327));Dl();var a=ml(l,0);if(!(a&1))return bn(l,st()),null;var h=Bd(l,a);if(l.tag!==0&&h===2){var m=yg(l);m!==0&&(a=m,h=I0(l,m))}if(h===1)throw h=$u,ks(l,0),fi(l,a),bn(l,st()),h;if(h===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=a,Ss(l,xn,ko),bn(l,st()),null}function F0(l,a){var h=_e;_e|=1;try{return l(a)}finally{_e=h,_e===0&&(_l=st()+500,dd&&si())}}function bs(l){hi!==null&&hi.tag===0&&!(_e&6)&&Dl();var a=_e;_e|=1;var h=nr.transition,m=Ve;try{if(nr.transition=null,Ve=1,l)return l()}finally{Ve=m,nr.transition=h,_e=a,!(_e&6)&&si()}}function V0(){In=zl.current,Ze(zl)}function ks(l,a){l.finishedWork=null,l.finishedLanes=0;var h=l.timeoutHandle;if(h!==-1&&(l.timeoutHandle=-1,Y$(h)),bt!==null)for(h=bt.return;h!==null;){var m=h;switch(qg(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&cd();break;case 3:$l(),Ze(vn),Ze(Zt),c0();break;case 5:a0(m);break;case 4:$l();break;case 13:Ze(lt);break;case 19:Ze(lt);break;case 10:r0(m.type._context);break;case 22:case 23:V0()}h=h.return}if($t=l,bt=l=pi(l.current,null),Dt=In=a,Mt=0,$u=null,R0=Ld=xs=0,xn=Lu=null,vs!==null){for(a=0;a<vs.length;a++)if(h=vs[a],m=h.interleaved,m!==null){h.interleaved=null;var y=m.next,w=h.pending;if(w!==null){var N=w.next;w.next=y,m.next=N}h.pending=m}vs=null}return l}function dS(l,a){do{var h=bt;try{if(n0(),kd.current=Md,Sd){for(var m=at.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Sd=!1}if(ws=0,Pt=Et=at=null,Mu=!1,Nu=0,L0.current=null,h===null||h.return===null){Mt=1,$u=a,bt=null;break}e:{var w=l,N=h.return,R=h,I=a;if(a=Dt,R.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=I,re=R,oe=re.tag;if(!(re.mode&1)&&(oe===0||oe===11||oe===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=_k(N);if(fe!==null){fe.flags&=-257,Dk(fe,N,R,w,a),fe.mode&1&&zk(w,Z,a),a=fe,I=Z;var xe=a.updateQueue;if(xe===null){var be=new Set;be.add(I),a.updateQueue=be}else xe.add(I);break e}else{if(!(a&1)){zk(w,Z,a),j0();break e}I=Error(n(426))}}else if(et&&R.mode&1){var vt=_k(N);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Dk(vt,N,R,w,a),e0(Ll(I,R));break e}}w=I=Ll(I,R),Mt!==4&&(Mt=2),Lu===null?Lu=[w]:Lu.push(w),w=N;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var K=Lk(w,I,a);sk(w,K);break e;case 1:R=I;var V=w.type,Y=w.stateNode;if(!(w.flags&128)&&(typeof V.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ci===null||!ci.has(Y)))){w.flags|=65536,a&=-a,w.lanes|=a;var le=Rk(w,R,a);sk(w,le);break e}}w=w.return}while(w!==null)}mS(h)}catch(ke){a=ke,bt===h&&h!==null&&(bt=h=h.return);continue}break}while(!0)}function fS(){var l=$d.current;return $d.current=Md,l===null?Md:l}function j0(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),$t===null||!(xs&268435455)&&!(Ld&268435455)||fi($t,Dt)}function Bd(l,a){var h=_e;_e|=2;var m=fS();($t!==l||Dt!==a)&&(ko=null,ks(l,a));do try{yL();break}catch(y){dS(l,y)}while(!0);if(n0(),_e=h,$d.current=m,bt!==null)throw Error(n(261));return $t=null,Dt=0,Mt}function yL(){for(;bt!==null;)pS(bt)}function wL(){for(;bt!==null&&!Kh();)pS(bt)}function pS(l){var a=yS(l.alternate,l,In);l.memoizedProps=l.pendingProps,a===null?mS(l):bt=a,L0.current=null}function mS(l){var a=l;do{var h=a.alternate;if(l=a.return,a.flags&32768){if(h=dL(h,a),h!==null){h.flags&=32767,bt=h;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Mt=6,bt=null;return}}else if(h=hL(h,a,In),h!==null){bt=h;return}if(a=a.sibling,a!==null){bt=a;return}bt=a=l}while(a!==null);Mt===0&&(Mt=5)}function Ss(l,a,h){var m=Ve,y=nr.transition;try{nr.transition=null,Ve=1,xL(l,a,h,m)}finally{nr.transition=y,Ve=m}return null}function xL(l,a,h,m){do Dl();while(hi!==null);if(_e&6)throw Error(n(327));h=l.finishedWork;var y=l.finishedLanes;if(h===null)return null;if(l.finishedWork=null,l.finishedLanes=0,h===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var w=h.lanes|h.childLanes;if(e$(l,w),l===$t&&(bt=$t=null,Dt=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||zd||(zd=!0,wS(hl,function(){return Dl(),null})),w=(h.flags&15990)!==0,h.subtreeFlags&15990||w){w=nr.transition,nr.transition=null;var N=Ve;Ve=1;var R=_e;_e|=4,L0.current=null,pL(l,h),iS(h,l),F$(Hg),Gh=!!jg,Hg=jg=null,l.current=h,mL(h),hg(),_e=R,Ve=N,nr.transition=w}else l.current=h;if(zd&&(zd=!1,hi=l,_d=y),w=l.pendingLanes,w===0&&(ci=null),pg(h.stateNode),bn(l,st()),a!==null)for(m=l.onRecoverableError,h=0;h<a.length;h++)y=a[h],m(y.value,{componentStack:y.stack,digest:y.digest});if(Rd)throw Rd=!1,l=_0,_0=null,l;return _d&1&&l.tag!==0&&Dl(),w=l.pendingLanes,w&1?l===D0?Ru++:(Ru=0,D0=l):Ru=0,si(),null}function Dl(){if(hi!==null){var l=nb(_d),a=nr.transition,h=Ve;try{if(nr.transition=null,Ve=16>l?16:l,hi===null)var m=!1;else{if(l=hi,hi=null,_d=0,_e&6)throw Error(n(331));var y=_e;for(_e|=4,ve=l.current;ve!==null;){var w=ve,N=w.child;if(ve.flags&16){var R=w.deletions;if(R!==null){for(var I=0;I<R.length;I++){var Z=R[I];for(ve=Z;ve!==null;){var re=ve;switch(re.tag){case 0:case 11:case 15:Pu(8,re,w)}var oe=re.child;if(oe!==null)oe.return=re,ve=oe;else for(;ve!==null;){re=ve;var ne=re.sibling,fe=re.return;if(eS(re),re===Z){ve=null;break}if(ne!==null){ne.return=fe,ve=ne;break}ve=fe}}}var xe=w.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var vt=be.sibling;be.sibling=null,be=vt}while(be!==null)}}ve=w}}if(w.subtreeFlags&2064&&N!==null)N.return=w,ve=N;else e:for(;ve!==null;){if(w=ve,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Pu(9,w,w.return)}var K=w.sibling;if(K!==null){K.return=w.return,ve=K;break e}ve=w.return}}var V=l.current;for(ve=V;ve!==null;){N=ve;var Y=N.child;if(N.subtreeFlags&2064&&Y!==null)Y.return=N,ve=Y;else e:for(N=V;ve!==null;){if(R=ve,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Pd(9,R)}}catch(ke){pt(R,R.return,ke)}if(R===N){ve=null;break e}var le=R.sibling;if(le!==null){le.return=R.return,ve=le;break e}ve=R.return}}if(_e=y,si(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(dl,l)}catch{}m=!0}return m}finally{Ve=h,nr.transition=a}}return!1}function gS(l,a,h){a=Ll(h,a),a=Lk(l,a,1),l=ai(l,a,1),a=an(),l!==null&&(ou(l,1,a),bn(l,a))}function pt(l,a,h){if(l.tag===3)gS(l,l,h);else for(;a!==null;){if(a.tag===3){gS(a,l,h);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ci===null||!ci.has(m))){l=Ll(h,l),l=Rk(a,l,1),a=ai(a,l,1),l=an(),a!==null&&(ou(a,1,l),bn(a,l));break}}a=a.return}}function bL(l,a,h){var m=l.pingCache;m!==null&&m.delete(a),a=an(),l.pingedLanes|=l.suspendedLanes&h,$t===l&&(Dt&h)===h&&(Mt===4||Mt===3&&(Dt&130023424)===Dt&&500>st()-z0?ks(l,0):R0|=h),bn(l,a)}function vS(l,a){a===0&&(l.mode&1?(a=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):a=1);var h=an();l=wo(l,a),l!==null&&(ou(l,a,h),bn(l,h))}function kL(l){var a=l.memoizedState,h=0;a!==null&&(h=a.retryLane),vS(l,h)}function SL(l,a){var h=0;switch(l.tag){case 13:var m=l.stateNode,y=l.memoizedState;y!==null&&(h=y.retryLane);break;case 19:m=l.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),vS(l,h)}var yS;yS=function(l,a,h){if(l!==null)if(l.memoizedProps!==a.pendingProps||vn.current)wn=!0;else{if(!(l.lanes&h)&&!(a.flags&128))return wn=!1,cL(l,a,h);wn=!!(l.flags&131072)}else wn=!1,et&&a.flags&1048576&&Gb(a,pd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Od(l,a),l=a.pendingProps;var y=El(a,Zt.current);Pl(a,h),y=f0(null,a,m,l,y,h);var w=p0();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,yn(m)?(w=!0,hd(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,s0(a),y.updater=Nd,a.stateNode=y,y._reactInternals=a,x0(a,m,l,h),a=C0(null,a,m,!0,w,h)):(a.tag=0,et&&w&&Gg(a),ln(null,a,y,h),a=a.child),a;case 16:m=a.elementType;e:{switch(Od(l,a),l=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=EL(m),l=xr(m,l),y){case 0:a=S0(null,a,m,l,h);break e;case 1:a=Hk(null,a,m,l,h);break e;case 11:a=Ik(null,a,m,l,h);break e;case 14:a=Bk(null,a,m,xr(m.type,l),h);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:xr(m,y),S0(l,a,m,y,h);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:xr(m,y),Hk(l,a,m,y,h);case 3:e:{if(Wk(a),l===null)throw Error(n(387));m=a.pendingProps,w=a.memoizedState,y=w.element,ik(l,a),xd(a,m,null,h);var N=a.memoizedState;if(m=N.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Ll(Error(n(423)),a),a=Uk(l,a,m,h,y);break e}else if(m!==y){y=Ll(Error(n(424)),a),a=Uk(l,a,m,h,y);break e}else for(Dn=ri(a.stateNode.containerInfo.firstChild),_n=a,et=!0,wr=null,h=rk(a,null,m,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Al(),m===y){a=bo(l,a,h);break e}ln(l,a,m,h)}a=a.child}return a;case 5:return ak(a),l===null&&Xg(a),m=a.type,y=a.pendingProps,w=l!==null?l.memoizedProps:null,N=y.children,Wg(m,y)?N=null:w!==null&&Wg(m,w)&&(a.flags|=32),jk(l,a),ln(l,a,N,h),a.child;case 6:return l===null&&Xg(a),null;case 13:return Kk(l,a,h);case 4:return l0(a,a.stateNode.containerInfo),m=a.pendingProps,l===null?a.child=Ol(a,null,m,h):ln(l,a,m,h),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:xr(m,y),Ik(l,a,m,y,h);case 7:return ln(l,a,a.pendingProps,h),a.child;case 8:return ln(l,a,a.pendingProps.children,h),a.child;case 12:return ln(l,a,a.pendingProps.children,h),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,w=a.memoizedProps,N=y.value,Ue(vd,m._currentValue),m._currentValue=N,w!==null)if(yr(w.value,N)){if(w.children===y.children&&!vn.current){a=bo(l,a,h);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var R=w.dependencies;if(R!==null){N=w.child;for(var I=R.firstContext;I!==null;){if(I.context===m){if(w.tag===1){I=xo(-1,h&-h),I.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var re=Z.pending;re===null?I.next=I:(I.next=re.next,re.next=I),Z.pending=I}}w.lanes|=h,I=w.alternate,I!==null&&(I.lanes|=h),o0(w.return,h,a),R.lanes|=h;break}I=I.next}}else if(w.tag===10)N=w.type===a.type?null:w.child;else if(w.tag===18){if(N=w.return,N===null)throw Error(n(341));N.lanes|=h,R=N.alternate,R!==null&&(R.lanes|=h),o0(N,h,a),N=w.sibling}else N=w.child;if(N!==null)N.return=w;else for(N=w;N!==null;){if(N===a){N=null;break}if(w=N.sibling,w!==null){w.return=N.return,N=w;break}N=N.return}w=N}ln(l,a,y.children,h),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Pl(a,h),y=er(y),m=m(y),a.flags|=1,ln(l,a,m,h),a.child;case 14:return m=a.type,y=xr(m,a.pendingProps),y=xr(m.type,y),Bk(l,a,m,y,h);case 15:return Fk(l,a,a.type,a.pendingProps,h);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:xr(m,y),Od(l,a),a.tag=1,yn(m)?(l=!0,hd(a)):l=!1,Pl(a,h),Pk(a,m,y),x0(a,m,y,h),C0(null,a,m,!0,l,h);case 19:return Qk(l,a,h);case 22:return Vk(l,a,h)}throw Error(n(156,a.tag))};function wS(l,a){return Wh(l,a)}function CL(l,a,h,m){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(l,a,h,m){return new CL(l,a,h,m)}function H0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function EL(l){if(typeof l=="function")return H0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===W)return 11;if(l===H)return 14}return 2}function pi(l,a){var h=l.alternate;return h===null?(h=rr(l.tag,a,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=a,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&14680064,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,a=l.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h}function Fd(l,a,h,m,y,w){var N=2;if(m=l,typeof l=="function")H0(l)&&(N=1);else if(typeof l=="string")N=5;else e:switch(l){case T:return Cs(h.children,y,w,a);case z:N=8,y|=8;break;case B:return l=rr(12,h,a,y|2),l.elementType=B,l.lanes=w,l;case G:return l=rr(13,h,a,y),l.elementType=G,l.lanes=w,l;case P:return l=rr(19,h,a,y),l.elementType=P,l.lanes=w,l;case U:return Vd(h,y,w,a);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:N=10;break e;case Q:N=9;break e;case W:N=11;break e;case H:N=14;break e;case D:N=16,m=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return a=rr(N,h,a,y),a.elementType=l,a.type=m,a.lanes=w,a}function Cs(l,a,h,m){return l=rr(7,l,m,a),l.lanes=h,l}function Vd(l,a,h,m){return l=rr(22,l,m,a),l.elementType=U,l.lanes=h,l.stateNode={isHidden:!1},l}function W0(l,a,h){return l=rr(6,l,null,a),l.lanes=h,l}function U0(l,a,h){return a=rr(4,l.children!==null?l.children:[],l.key,a),a.lanes=h,a.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},a}function ML(l,a,h,m,y){this.tag=a,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wg(0),this.expirationTimes=wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function K0(l,a,h,m,y,w,N,R,I){return l=new ML(l,a,h,R,I),a===1?(a=1,w===!0&&(a|=8)):a=0,w=rr(3,null,null,a),l.current=w,w.stateNode=l,w.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},s0(w),l}function NL(l,a,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:m==null?null:""+m,children:l,containerInfo:a,implementation:h}}function xS(l){if(!l)return ii;l=l._reactInternals;e:{if(Vr(l)!==l||l.tag!==1)throw Error(n(170));var a=l;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(l.tag===1){var h=l.type;if(yn(h))return Yb(l,h,a)}return a}function bS(l,a,h,m,y,w,N,R,I){return l=K0(h,m,!0,l,y,w,N,R,I),l.context=xS(null),h=l.current,m=an(),y=di(h),w=xo(m,y),w.callback=a??null,ai(h,w,y),l.current.lanes=y,ou(l,y,m),bn(l,m),l}function jd(l,a,h,m){var y=a.current,w=an(),N=di(y);return h=xS(h),a.context===null?a.context=h:a.pendingContext=h,a=xo(w,N),a.payload={element:l},m=m===void 0?null:m,m!==null&&(a.callback=m),l=ai(y,a,N),l!==null&&(Sr(l,y,N,w),wd(l,y,N)),N}function Hd(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function kS(l,a){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<a?h:a}}function Y0(l,a){kS(l,a),(l=l.alternate)&&kS(l,a)}function AL(){return null}var SS=typeof reportError=="function"?reportError:function(l){console.error(l)};function Q0(l){this._internalRoot=l}Wd.prototype.render=Q0.prototype.render=function(l){var a=this._internalRoot;if(a===null)throw Error(n(409));jd(l,a,null,null)},Wd.prototype.unmount=Q0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var a=l.containerInfo;bs(function(){jd(null,l,null,null)}),a[mo]=null}};function Wd(l){this._internalRoot=l}Wd.prototype.unstable_scheduleHydration=function(l){if(l){var a=ib();l={blockedOn:null,target:l,priority:a};for(var h=0;h<ei.length&&a!==0&&a<ei[h].priority;h++);ei.splice(h,0,l),h===0&&ab(l)}};function Z0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Ud(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function CS(){}function OL(l,a,h,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var Z=Hd(N);w.call(Z)}}var N=bS(a,m,l,0,null,!1,!1,"",CS);return l._reactRootContainer=N,l[mo]=N.current,yu(l.nodeType===8?l.parentNode:l),bs(),N}for(;y=l.lastChild;)l.removeChild(y);if(typeof m=="function"){var R=m;m=function(){var Z=Hd(I);R.call(Z)}}var I=K0(l,0,!1,null,null,!1,!1,"",CS);return l._reactRootContainer=I,l[mo]=I.current,yu(l.nodeType===8?l.parentNode:l),bs(function(){jd(a,I,h,m)}),I}function Kd(l,a,h,m,y){var w=h._reactRootContainer;if(w){var N=w;if(typeof y=="function"){var R=y;y=function(){var I=Hd(N);R.call(I)}}jd(a,N,l,y)}else N=OL(h,a,l,y,m);return Hd(N)}rb=function(l){switch(l.tag){case 3:var a=l.stateNode;if(a.current.memoizedState.isDehydrated){var h=po(a.pendingLanes);h!==0&&(xg(a,h|1),bn(a,st()),!(_e&6)&&(_l=st()+500,si()))}break;case 13:bs(function(){var m=wo(l,1);if(m!==null){var y=an();Sr(m,l,1,y)}}),Y0(l,1)}},bg=function(l){if(l.tag===13){var a=wo(l,134217728);if(a!==null){var h=an();Sr(a,l,134217728,h)}Y0(l,134217728)}},ob=function(l){if(l.tag===13){var a=di(l),h=wo(l,a);if(h!==null){var m=an();Sr(h,l,a,m)}Y0(l,a)}},ib=function(){return Ve},sb=function(l,a){var h=Ve;try{return Ve=l,a()}finally{Ve=h}},qa=function(l,a,h){switch(a){case"input":if(ss(l,h),a=h.name,h.type==="radio"&&a!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var m=h[a];if(m!==l&&m.form===l.form){var y=ud(m);if(!y)throw Error(n(90));Ae(m),ss(m,y)}}}break;case"textarea":sl(l,h);break;case"select":a=h.value,a!=null&&Fr(l,!!h.multiple,a,!1)}},_h=F0,Dh=bs;var TL={usingClientEntryPoint:!1,Events:[bu,Sl,ud,Ja,zh,F0]},zu={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PL={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=jh(l),l===null?null:l.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||AL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{dl=Yd.inject(PL),qn=Yd}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TL,kn.createPortal=function(l,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z0(a))throw Error(n(200));return NL(l,a,null,h)},kn.createRoot=function(l,a){if(!Z0(l))throw Error(n(299));var h=!1,m="",y=SS;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=K0(l,1,!1,null,null,h,!1,m,y),l[mo]=a.current,yu(l.nodeType===8?l.parentNode:l),new Q0(a)},kn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var a=l._reactInternals;if(a===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=jh(a),l=l===null?null:l.stateNode,l},kn.flushSync=function(l){return bs(l)},kn.hydrate=function(l,a,h){if(!Ud(a))throw Error(n(200));return Kd(null,l,a,!0,h)},kn.hydrateRoot=function(l,a,h){if(!Z0(l))throw Error(n(405));var m=h!=null&&h.hydratedSources||null,y=!1,w="",N=SS;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),a=bS(a,null,l,1,h??null,y,!1,w,N),l[mo]=a.current,yu(l),m)for(l=0;l<m.length;l++)h=m[l],y=h._getVersion,y=y(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,y]:a.mutableSourceEagerHydrationData.push(h,y);return new Wd(a)},kn.render=function(l,a,h){if(!Ud(a))throw Error(n(200));return Kd(null,l,a,!1,h)},kn.unmountComponentAtNode=function(l){if(!Ud(l))throw Error(n(40));return l._reactRootContainer?(bs(function(){Kd(null,null,l,!1,function(){l._reactRootContainer=null,l[mo]=null})}),!0):!1},kn.unstable_batchedUpdates=F0,kn.unstable_renderSubtreeIntoContainer=function(l,a,h,m){if(!Ud(h))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Kd(l,a,h,!1,m)},kn.version="18.3.1-next-f1338f8080-20240426",kn}function aO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aO)}catch(t){console.error(t)}}aO(),H6();const Hm=q.createContext(null),W6=Hm.Provider,uO=Vo.error001();function Ie(t,e){const n=q.useContext(Hm);if(n===null)throw new Error(uO);return lO(n,t,e)}function it(){const t=q.useContext(Hm);if(t===null)throw new Error(uO);return q.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const k2={display:"none"},U6={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},cO="react-flow__node-desc",hO="react-flow__edge-desc",K6="react-flow__aria-live",Y6=t=>t.ariaLiveMessage;function Q6({rfId:t}){const e=Ie(Y6);return j.jsx("div",{id:`${K6}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:U6,children:e})}function Z6({rfId:t,disableKeyboardA11y:e}){return j.jsxs(j.Fragment,{children:[j.jsxs("div",{id:`${cO}-${t}`,style:k2,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),j.jsx("div",{id:`${hO}-${t}`,style:k2,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&j.jsx(Q6,{rfId:t})]})}const G6=t=>t.userSelectionActive?"none":"all";function vx({position:t="top-left",children:e,className:n,style:r,...o}){const i=Ie(G6),s=`${t}`.split("-");return j.jsx("div",{className:Ct(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o,children:e})}function q6({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:j.jsx(vx,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:j.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const J6=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},wf=t=>t.id;function X6(t,e){return gt(t.selectedNodes.map(wf),e.selectedNodes.map(wf))&&gt(t.selectedEdges.map(wf),e.selectedEdges.map(wf))}function eB({onSelectionChange:t}){const e=it(),{selectedNodes:n,selectedEdges:r}=Ie(J6,X6);return q.useEffect(()=>{const o={nodes:n,edges:r};t==null||t(o),e.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,t]),null}const tB=t=>!!t.onSelectionChangeHandlers;function nB({onSelectionChange:t}){const e=Ie(tB);return t||e?j.jsx(eB,{onSelectionChange:t}):null}const dO=[0,0],rB={x:0,y:0,zoom:1},oB=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],S2=[...oB,"rfId"],iB=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),C2={translateExtent:Yc,nodeOrigin:dO,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function sB(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:u,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=Ie(iB,gt),f=it();q.useEffect(()=>(c(t.defaultNodes,t.defaultEdges),()=>{p.current=C2,u()}),[]);const p=q.useRef(C2);return q.useEffect(()=>{for(const g of S2){const v=t[g],x=p.current[g];v!==x&&(typeof t[g]>"u"||(g==="nodes"?e(v):g==="edges"?n(v):g==="minZoom"?r(v):g==="maxZoom"?o(v):g==="translateExtent"?i(v):g==="nodeExtent"?s(v):g==="paneClickDistance"?d(v):g==="fitView"?f.setState({fitViewOnInit:v}):g==="fitViewOptions"?f.setState({fitViewOnInitOptions:v}):f.setState({[g]:v})))}p.current=t},S2.map(g=>t[g])),null}function E2(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function lB(t){var e;const[n,r]=q.useState(t==="system"?null:t);return q.useEffect(()=>{if(t!=="system"){r(t);return}const o=E2(),i=()=>r(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[t]),n!==null?n:(e=E2())!=null&&e.matches?"dark":"light"}const M2=typeof document<"u"?document:null;function qc(t=null,e={target:M2,actInsideInputWithModifier:!0}){const[n,r]=q.useState(!1),o=q.useRef(!1),i=q.useRef(new Set([])),[s,u]=q.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=c.reduce((f,p)=>f.concat(...p),[]);return[c,d]}return[[],[]]},[t]);return q.useEffect(()=>{const c=(e==null?void 0:e.target)||M2;if(t!==null){const d=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!e.actInsideInputWithModifier)&&sy(g))return!1;const v=A2(g.code,u);i.current.add(g[v]),N2(s,i.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!o.current||o.current&&!e.actInsideInputWithModifier)&&sy(g))return!1;const v=A2(g.code,u);N2(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[v]),g.key==="Meta"&&i.current.clear(),o.current=!1},p=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[t,r]),n}function N2(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(o=>e.has(o)))}function A2(t,e){return e.includes(t)?"code":"key"}const aB=()=>{const t=it();return q.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,o,i],panZoom:s}=t.getState();return s?(await s.setViewport({x:e.x??r,y:e.y??o,zoom:e.zoom??i},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:o,panZoom:i,domNode:s}=t.getState();if(!i||!s)return Promise.resolve(!1);const u=ry(n,e),{width:c,height:d}=Vm(s);return oy({nodes:u,width:c,height:d,minZoom:r,maxZoom:o,panZoom:i},e)},setCenter:async(e,n,r)=>{const{width:o,height:i,maxZoom:s,panZoom:u}=t.getState(),c=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,d=o/2-e*c,f=i/2-n*c;return u?(await u.setViewport({x:d,y:f,zoom:c},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:u}=t.getState(),c=dx(e,r,o,i,s,(n==null?void 0:n.padding)??.1);return u?(await u.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:o,domNode:i}=t.getState();if(!i)return e;const{x:s,y:u}=i.getBoundingClientRect(),c={x:e.x-s,y:e.y-u};return Sh(c,r,n.snapToGrid,o)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:o,y:i}=r.getBoundingClientRect(),s=FA(e,n);return{x:s.x+o,y:s.y+i}}}),[])};function fO(t,e){const n=[],r=new Map,o=[];for(const i of t)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of e){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const u={...i};for(const c of s)uB(c,u);n.push(u)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function uB(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function pO(t,e){return fO(t,e)}function mO(t,e){return fO(t,e)}function As(t,e){return{id:t,type:"select",selected:e}}function ta(t,e=new Set,n=!1){const r=[];for(const[o,i]of t){const s=e.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(As(i.id,s)))}return r}function O2({items:t=[],lookup:e}){var n;const r=[],o=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const u=e.get(s.id),c=((n=u==null?void 0:u.internals)==null?void 0:n.userNode)??u;c!==void 0&&c!==s&&r.push({id:s.id,item:s,type:"replace"}),c===void 0&&r.push({item:s,type:"add",index:i})}for(const[i]of e)o.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function T2(t){return{id:t.id,type:"remove"}}const P2=t=>B8(t),cB=t=>RA(t);function gO(t){return q.forwardRef(t)}const hB=typeof window<"u"?q.useLayoutEffect:q.useEffect;function $2(t){const[e,n]=q.useState(!1),[r]=q.useState(()=>dB(()=>n(!0)));return hB(()=>{if(!e){r.reset();return}const o=r.get();o.length&&(t(o),r.reset()),n(!1)},[e]),r}function dB(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const vO=q.createContext(null);function fB({children:t}){const e=it(),n=q.useCallback(u=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:f,onNodesChange:p,nodeLookup:g}=e.getState();let v=c;for(const x of u)v=typeof x=="function"?x(v):x;f?d(v):p&&p(O2({items:v,lookup:g}))},[]),r=$2(n),o=q.useCallback(u=>{const{edges:c=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:p,edgeLookup:g}=e.getState();let v=c;for(const x of u)v=typeof x=="function"?x(v):x;f?d(v):p&&p(O2({items:v,lookup:g}))},[]),i=$2(o),s=q.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return j.jsx(vO.Provider,{value:s,children:t})}function pB(){const t=q.useContext(vO);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const mB=t=>!!t.panZoom;function os(){const t=aB(),e=it(),n=pB(),r=Ie(mB),o=q.useMemo(()=>{const i=p=>e.getState().nodeLookup.get(p),s=p=>{n.nodeQueue.push(p)},u=p=>{n.edgeQueue.push(p)},c=p=>{var g,v;const{nodeLookup:x,nodeOrigin:k}=e.getState(),E=P2(p)?p:x.get(p.id),b=E.parentId?jA(E.position,E.measured,E.parentId,x,k):E.position,S={id:E.id,position:b,width:((g=E.measured)==null?void 0:g.width)??E.width,height:((v=E.measured)==null?void 0:v.height)??E.height,data:E.data};return Ta(S)},d=(p,g,v={replace:!1})=>{s(x=>x.map(k=>{if(k.id===p){const E=typeof g=="function"?g(k):g;return v.replace&&P2(E)?E:{...k,...E}}return k}))},f=(p,g,v={replace:!1})=>{u(x=>x.map(k=>{if(k.id===p){const E=typeof g=="function"?g(k):g;return v.replace&&cB(E)?E:{...k,...E}}return k}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>{var g;return(g=i(p))==null?void 0:g.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(g=>({...g}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:s,setEdges:u,addNodes:p=>{const g=Array.isArray(p)?p:[p];n.nodeQueue.push(v=>[...v,...g])},addEdges:p=>{const g=Array.isArray(p)?p:[p];n.edgeQueue.push(v=>[...v,...g])},toObject:()=>{const{nodes:p=[],edges:g=[],transform:v}=e.getState(),[x,k,E]=v;return{nodes:p.map(b=>({...b})),edges:g.map(b=>({...b})),viewport:{x,y:k,zoom:E}}},deleteElements:async({nodes:p=[],edges:g=[]})=>{const{nodes:v,edges:x,onNodesDelete:k,onEdgesDelete:E,triggerNodeChanges:b,triggerEdgeChanges:S,onDelete:C,onBeforeDelete:M}=e.getState(),{nodes:A,edges:$}=await j8({nodesToRemove:p,edgesToRemove:g,nodes:v,edges:x,onBeforeDelete:M}),T=$.length>0,z=A.length>0;if(T){const B=$.map(T2);E==null||E($),S(B)}if(z){const B=A.map(T2);k==null||k(A),b(B)}return(z||T)&&(C==null||C({nodes:A,edges:$})),{deletedNodes:A,deletedEdges:$}},getIntersectingNodes:(p,g=!0,v)=>{const x=t2(p),k=x?p:c(p),E=v!==void 0;return k?(v||e.getState().nodes).filter(b=>{const S=e.getState().nodeLookup.get(b.id);if(S&&!x&&(b.id===p.id||!S.internals.positionAbsolute))return!1;const C=Ta(E?b:S),M=Zc(C,k);return g&&M>0||M>=k.width*k.height}):[]},isNodeIntersecting:(p,g,v=!0)=>{const x=t2(p)?p:c(p);if(!x)return!1;const k=Zc(x,g);return v&&k>0||k>=x.width*x.height},updateNode:d,updateNodeData:(p,g,v={replace:!1})=>{d(p,x=>{const k=typeof g=="function"?g(x):g;return v.replace?{...x,data:k}:{...x,data:{...x.data,...k}}},v)},updateEdge:f,updateEdgeData:(p,g,v={replace:!1})=>{f(p,x=>{const k=typeof g=="function"?g(x):g;return v.replace?{...x,data:k}:{...x,data:{...x.data,...k}}},v)},getNodesBounds:p=>{const{nodeLookup:g,nodeOrigin:v}=e.getState();return F8(p,{nodeLookup:g,nodeOrigin:v})},getHandleConnections:({type:p,id:g,nodeId:v})=>{var x;return Array.from(((x=e.getState().connectionLookup.get(`${v}-${p}-${g??null}`))==null?void 0:x.values())??[])}}},[]);return q.useMemo(()=>({...o,...t,viewportInitialized:r}),[r])}const L2=t=>t.selected,gB={actInsideInputWithModifier:!1},vB=typeof window<"u"?window:void 0;function yB({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=it(),{deleteElements:r}=os(),o=qc(t,gB),i=qc(e,{target:vB});q.useEffect(()=>{if(o){const{edges:s,nodes:u}=n.getState();r({nodes:u.filter(L2),edges:s.filter(L2)}),n.setState({nodesSelectionActive:!1})}},[o]),q.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function wB(t){const e=it();q.useEffect(()=>{const n=()=>{var r,o;if(!t.current)return!1;const i=Vm(t.current);(i.height===0||i.width===0)&&((o=(r=e.getState()).onError)==null||o.call(r,"004",Vo.error004())),e.setState({width:i.width||500,height:i.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Wm={position:"absolute",width:"100%",height:"100%",top:0,left:0},xB=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function bB({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Fs.Free,zoomOnDoubleClick:s=!0,panOnDrag:u=!0,defaultViewport:c,translateExtent:d,minZoom:f,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:v=!0,children:x,noWheelClassName:k,noPanClassName:E,onViewportChange:b,isControlledViewport:S,paneClickDistance:C}){const M=it(),A=q.useRef(null),{userSelectionActive:$,lib:T}=Ie(xB,gt),z=qc(g),B=q.useRef();wB(A);const F=q.useCallback(Q=>{b==null||b({x:Q[0],y:Q[1],zoom:Q[2]}),S||M.setState({transform:Q})},[b,S]);return q.useEffect(()=>{if(A.current){B.current=b6({domNode:A.current,minZoom:f,maxZoom:p,translateExtent:d,viewport:c,paneClickDistance:C,onDraggingChange:P=>M.setState({paneDragging:P}),onPanZoomStart:(P,H)=>{const{onViewportChangeStart:D,onMoveStart:U}=M.getState();U==null||U(P,H),D==null||D(H)},onPanZoom:(P,H)=>{const{onViewportChange:D,onMove:U}=M.getState();U==null||U(P,H),D==null||D(H)},onPanZoomEnd:(P,H)=>{const{onViewportChangeEnd:D,onMoveEnd:U}=M.getState();U==null||U(P,H),D==null||D(H)}});const{x:Q,y:W,zoom:G}=B.current.getViewport();return M.setState({panZoom:B.current,transform:[Q,W,G],domNode:A.current.closest(".react-flow")}),()=>{var P;(P=B.current)==null||P.destroy()}}},[]),q.useEffect(()=>{var Q;(Q=B.current)==null||Q.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:u,zoomActivationKeyPressed:z,preventScrolling:v,noPanClassName:E,userSelectionActive:$,noWheelClassName:k,lib:T,onTransformChange:F})},[t,e,n,r,o,i,s,u,z,v,E,$,k,T,F]),j.jsx("div",{className:"react-flow__renderer",ref:A,style:Wm,children:x})}const kB=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function SB(){const{userSelectionActive:t,userSelectionRect:e}=Ie(kB,gt);return t&&e?j.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const P1=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},CB=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function EB({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Qc.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:p,onPaneMouseLeave:g,children:v}){const x=q.useRef(null),k=it(),E=q.useRef(0),b=q.useRef(0),S=q.useRef(),C=q.useRef(new Map),{userSelectionActive:M,elementsSelectable:A,dragging:$}=Ie(CB,gt),T=A&&(t||M),z=q.useRef(!1),B=q.useRef(!1),F=()=>{k.setState({userSelectionActive:!1,userSelectionRect:null}),E.current=0,b.current=0},Q=O=>{if(z.current){z.current=!1;return}u==null||u(O),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1})},W=O=>{if(Array.isArray(r)&&r!=null&&r.includes(2)){O.preventDefault();return}c==null||c(O)},G=d?O=>d(O):void 0,P=O=>{var L,_,J,X;const{resetSelectedElements:ce,domNode:se,edgeLookup:ue}=k.getState();if(S.current=se==null?void 0:se.getBoundingClientRect(),!A||!t||O.button!==0||O.target!==x.current||!S.current)return;(_=(L=O.target)==null?void 0:L.setPointerCapture)==null||_.call(L,O.pointerId),B.current=!0,z.current=!1,C.current=new Map;for(const[ae,Te]of ue)C.current.set(Te.source,((J=C.current.get(Te.source))==null?void 0:J.add(ae))||new Set([ae])),C.current.set(Te.target,((X=C.current.get(Te.target))==null?void 0:X.add(ae))||new Set([ae]));const{x:de,y:we}=Po(O.nativeEvent,S.current);ce(),k.setState({userSelectionRect:{width:0,height:0,startX:de,startY:we,x:de,y:we}}),i==null||i(O)},H=O=>{const{userSelectionRect:L,edgeLookup:_,transform:J,nodeLookup:X,triggerNodeChanges:ce,triggerEdgeChanges:se}=k.getState();if(!S.current||!L)return;z.current=!0;const{x:ue,y:de}=Po(O.nativeEvent,S.current),{startX:we,startY:ae}=L,Te={startX:we,startY:ae,x:ue<we?ue:we,y:de<ae?de:ae,width:Math.abs(ue-we),height:Math.abs(de-ae)},Pe=zA(X,Te,J,n===Qc.Partial,!0),Ne=new Set,Ae=new Set;for(const Re of Pe){Ae.add(Re.id);const ft=C.current.get(Re.id);if(ft)for(const gn of ft)Ne.add(gn)}if(E.current!==Ae.size){E.current=Ae.size;const Re=ta(X,Ae,!0);ce(Re)}if(b.current!==Ne.size){b.current=Ne.size;const Re=ta(_,Ne);se(Re)}k.setState({userSelectionRect:Te,userSelectionActive:!0,nodesSelectionActive:!1})},D=O=>{var L,_;if(O.button!==0||!B.current)return;(_=(L=O.target)==null?void 0:L.releasePointerCapture)==null||_.call(L,O.pointerId);const{userSelectionRect:J}=k.getState();!M&&J&&O.target===x.current&&(Q==null||Q(O)),E.current>0&&k.setState({nodesSelectionActive:!0}),F(),s==null||s(O),(e||o)&&(z.current=!1),B.current=!1},U=r===!0||Array.isArray(r)&&r.includes(0);return j.jsxs("div",{className:Ct(["react-flow__pane",{draggable:U,dragging:$,selection:t}]),onClick:T?void 0:P1(Q,x),onContextMenu:P1(W,x),onWheel:P1(G,x),onPointerEnter:T?void 0:f,onPointerDown:T?P:p,onPointerMove:T?H:p,onPointerUp:T?D:void 0,onPointerLeave:g,ref:x,style:Wm,children:[v,j.jsx(SB,{})]})}function hy({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:u,onError:c}=e.getState(),d=u.get(t);if(!d){c==null||c("012",Vo.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&s)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([t])}function yO({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const u=it(),[c,d]=q.useState(!1),f=q.useRef();return q.useEffect(()=>{f.current=l6({getStoreItems:()=>u.getState(),onNodeMouseDown:p=>{hy({id:p,store:u,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),q.useEffect(()=>{var p,g;if(e)(p=f.current)==null||p.destroy();else if(t.current)return(g=f.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var v;(v=f.current)==null||v.destroy()}},[n,r,e,i,t,o]),c}const MB=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function wO(){const t=it();return q.useCallback(e=>{const{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:s,updateNodePositions:u,nodeLookup:c,nodeOrigin:d}=t.getState(),f=new Map,p=MB(i),g=r?o[0]:5,v=r?o[1]:5,x=e.direction.x*g*e.factor,k=e.direction.y*v*e.factor;for(const[,E]of c){if(!p(E))continue;let b={x:E.internals.positionAbsolute.x+x,y:E.internals.positionAbsolute.y+k};r&&(b=Fm(b,o));const{position:S,positionAbsolute:C}=_A({nodeId:E.id,nextPosition:b,nodeLookup:c,nodeExtent:n,nodeOrigin:d,onError:s});E.position=S,E.internals.positionAbsolute=C,f.set(E.id,E)}u(f)},[])}const yx=q.createContext(null),NB=yx.Provider;yx.Consumer;const xO=()=>q.useContext(yx),AB=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),OB=(t,e,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:u,toHandle:c,isValid:d}=s,f=(c==null?void 0:c.nodeId)===t&&(c==null?void 0:c.id)===e&&(c==null?void 0:c.type)===n;return{connectingFrom:(u==null?void 0:u.nodeId)===t&&(u==null?void 0:u.id)===e&&(u==null?void 0:u.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.id)===e&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Aa.Strict?(u==null?void 0:u.type)!==n:t!==(u==null?void 0:u.nodeId)||e!==(u==null?void 0:u.id),connectionInProcess:!!u,valid:f&&d}};function TB({type:t="source",position:e=Se.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:u,children:c,className:d,onMouseDown:f,onTouchStart:p,...g},v){var x,k;const E=s||null,b=t==="target",S=it(),C=xO(),{connectOnClick:M,noPanClassName:A,rfId:$}=Ie(AB,gt),{connectingFrom:T,connectingTo:z,clickConnecting:B,isPossibleEndHandle:F,connectionInProcess:Q,valid:W}=Ie(OB(C,E,t),gt);C||(k=(x=S.getState()).onError)==null||k.call(x,"010",Vo.error010());const G=D=>{const{defaultEdgeOptions:U,onConnect:O,hasDefaultEdges:L}=S.getState(),_={...U,...D};if(L){const{edges:J,setEdges:X}=S.getState();X(QA(_,J))}O==null||O(_),u==null||u(_)},P=D=>{if(!C)return;const U=WA(D.nativeEvent);if(o&&(U&&D.button===0||!U)){const O=S.getState();cy.onPointerDown(D.nativeEvent,{autoPanOnConnect:O.autoPanOnConnect,connectionMode:O.connectionMode,connectionRadius:O.connectionRadius,domNode:O.domNode,nodeLookup:O.nodeLookup,lib:O.lib,isTarget:b,handleId:E,nodeId:C,flowId:O.rfId,panBy:O.panBy,cancelConnection:O.cancelConnection,onConnectStart:O.onConnectStart,onConnectEnd:O.onConnectEnd,updateConnection:O.updateConnection,onConnect:G,isValidConnection:n||O.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:O.autoPanSpeed})}U?f==null||f(D):p==null||p(D)},H=D=>{const{onClickConnectStart:U,onClickConnectEnd:O,connectionClickStartHandle:L,connectionMode:_,isValidConnection:J,lib:X,rfId:ce,nodeLookup:se,connection:ue}=S.getState();if(!C||!L&&!o)return;if(!L){U==null||U(D.nativeEvent,{nodeId:C,handleId:E,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:C,type:t,id:E}});return}const de=HA(D.target),we=n||J,{connection:ae,isValid:Te}=cy.isValid(D.nativeEvent,{handle:{nodeId:C,id:E,type:t},connectionMode:_,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:we,flowId:ce,doc:de,lib:X,nodeLookup:se});Te&&ae&&G(ae);const Pe=structuredClone(ue);delete Pe.inProgress,Pe.toPosition=Pe.toHandle?Pe.toHandle.position:null,O==null||O(D,Pe),S.setState({connectionClickStartHandle:null})};return j.jsx("div",{"data-handleid":E,"data-nodeid":C,"data-handlepos":e,"data-id":`${$}-${C}-${E}-${t}`,className:Ct(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",A,d,{source:!b,target:b,connectable:r,connectablestart:o,connectableend:i,clickconnecting:B,connectingfrom:T,connectingto:z,valid:W,connectionindicator:r&&(!Q||F)&&(Q?i:o)}]),onMouseDown:P,onTouchStart:P,onClick:M?H:void 0,ref:v,...g,children:c})}const Qi=q.memo(gO(TB));function PB({data:t,isConnectable:e,sourcePosition:n=Se.Bottom}){return j.jsxs(j.Fragment,{children:[t==null?void 0:t.label,j.jsx(Qi,{type:"source",position:n,isConnectable:e})]})}function $B({data:t,isConnectable:e,targetPosition:n=Se.Top,sourcePosition:r=Se.Bottom}){return j.jsxs(j.Fragment,{children:[j.jsx(Qi,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,j.jsx(Qi,{type:"source",position:r,isConnectable:e})]})}function LB(){return null}function RB({data:t,isConnectable:e,targetPosition:n=Se.Top}){return j.jsxs(j.Fragment,{children:[j.jsx(Qi,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const Qp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},R2={input:PB,default:$B,output:RB,group:LB};function zB(t){var e,n,r,o;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((o=t.style)==null?void 0:o.height)}}const _B=t=>{const{width:e,height:n,x:r,y:o}=kh(t.nodeLookup,{filter:i=>!!i.selected});return{width:Pr(e)?e:null,height:Pr(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${o}px)`}};function DB({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=it(),{width:o,height:i,transformString:s,userSelectionActive:u}=Ie(_B,gt),c=wO(),d=q.useRef(null);if(q.useEffect(()=>{var g;n||(g=d.current)==null||g.focus({preventScroll:!0})},[n]),yO({nodeRef:d}),u||!o||!i)return null;const f=t?g=>{const v=r.getState().nodes.filter(x=>x.selected);t(g,v)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(Qp,g.key)&&c({direction:Qp[g.key],factor:g.shiftKey?4:1})};return j.jsx("div",{className:Ct(["react-flow__nodesselection","react-flow__container",e]),style:{transform:s},children:j.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:i}})})}const z2=typeof window<"u"?window:void 0,IB=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function bO({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:u,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:x,panActivationKeyCode:k,zoomActivationKeyCode:E,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:C,panOnScroll:M,panOnScrollSpeed:A,panOnScrollMode:$,zoomOnDoubleClick:T,panOnDrag:z,defaultViewport:B,translateExtent:F,minZoom:Q,maxZoom:W,preventScrolling:G,onSelectionContextMenu:P,noWheelClassName:H,noPanClassName:D,disableKeyboardA11y:U,onViewportChange:O,isControlledViewport:L}){const{nodesSelectionActive:_,userSelectionActive:J}=Ie(IB),X=qc(d,{target:z2}),ce=qc(k,{target:z2}),se=ce||z,ue=ce||M,de=f&&se!==!0,we=X||J||de;return yB({deleteKeyCode:c,multiSelectionKeyCode:x}),j.jsx(bB,{onPaneContextMenu:i,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:C,panOnScroll:ue,panOnScrollSpeed:A,panOnScrollMode:$,zoomOnDoubleClick:T,panOnDrag:!X&&se,defaultViewport:B,translateExtent:F,minZoom:Q,maxZoom:W,zoomActivationKeyCode:E,preventScrolling:G,noWheelClassName:H,noPanClassName:D,onViewportChange:O,isControlledViewport:L,paneClickDistance:u,children:j.jsxs(EB,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:se,isSelecting:!!we,selectionMode:p,selectionKeyPressed:X,selectionOnDrag:de,children:[t,_&&j.jsx(DB,{onSelectionContextMenu:P,noPanClassName:D,disableKeyboardA11y:U})]})})}bO.displayName="FlowRenderer";const BB=q.memo(bO),FB=t=>e=>t?zA(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function VB(t){return Ie(q.useCallback(FB(t),[t]),gt)}const jB=t=>t.updateNodeInternals;function HB(){const t=Ie(jB),[e]=q.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),t(r)}));return q.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function WB({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const o=it(),i=q.useRef(null),s=q.useRef(null),u=q.useRef(t.sourcePosition),c=q.useRef(t.targetPosition),d=q.useRef(e),f=n&&!!t.internals.handleBounds;return q.useEffect(()=>{i.current&&!t.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,t.hidden]),q.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),q.useEffect(()=>{if(i.current){const p=d.current!==e,g=u.current!==t.sourcePosition,v=c.current!==t.targetPosition;(p||g||v)&&(d.current=e,u.current=t.sourcePosition,c.current=t.targetPosition,o.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:i.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),i}function UB({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:u,elementsSelectable:c,nodesConnectable:d,nodesFocusable:f,resizeObserver:p,noDragClassName:g,noPanClassName:v,disableKeyboardA11y:x,rfId:k,nodeTypes:E,nodeExtent:b,nodeClickDistance:S,onError:C}){const{node:M,internals:A,isParent:$}=Ie(ae=>{const Te=ae.nodeLookup.get(t),Pe=ae.parentLookup.has(t);return{node:Te,internals:Te.internals,isParent:Pe}},gt);let T=M.type||"default",z=(E==null?void 0:E[T])||R2[T];z===void 0&&(C==null||C("003",Vo.error003(T)),T="default",z=R2.default);const B=!!(M.draggable||u&&typeof M.draggable>"u"),F=!!(M.selectable||c&&typeof M.selectable>"u"),Q=!!(M.connectable||d&&typeof M.connectable>"u"),W=!!(M.focusable||f&&typeof M.focusable>"u"),G=it(),P=VA(M),H=WB({node:M,nodeType:T,hasDimensions:P,resizeObserver:p}),D=yO({nodeRef:H,disabled:M.hidden||!B,noDragClassName:g,handleSelector:M.dragHandle,nodeId:t,isSelectable:F,nodeClickDistance:S}),U=wO();if(M.hidden)return null;const O=jo(M),L=zB(M),_=F||B||e||n||r||o,J=n?ae=>n(ae,{...A.userNode}):void 0,X=r?ae=>r(ae,{...A.userNode}):void 0,ce=o?ae=>o(ae,{...A.userNode}):void 0,se=i?ae=>i(ae,{...A.userNode}):void 0,ue=s?ae=>s(ae,{...A.userNode}):void 0,de=ae=>{const{selectNodesOnDrag:Te,nodeDragThreshold:Pe}=G.getState();F&&(!Te||!B||Pe>0)&&hy({id:t,store:G,nodeRef:H}),e&&e(ae,{...A.userNode})},we=ae=>{if(!(sy(ae.nativeEvent)||x))if(PA.includes(ae.key)&&F){const Te=ae.key==="Escape";hy({id:t,store:G,unselect:Te,nodeRef:H})}else B&&M.selected&&Object.prototype.hasOwnProperty.call(Qp,ae.key)&&(G.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~A.positionAbsolute.x}, y: ${~~A.positionAbsolute.y}`}),U({direction:Qp[ae.key],factor:ae.shiftKey?4:1}))};return j.jsx("div",{className:Ct(["react-flow__node",`react-flow__node-${T}`,{[v]:B},M.className,{selected:M.selected,selectable:F,parent:$,draggable:B,dragging:D}]),ref:H,style:{zIndex:A.z,transform:`translate(${A.positionAbsolute.x}px,${A.positionAbsolute.y}px)`,pointerEvents:_?"all":"none",visibility:P?"visible":"hidden",...M.style,...L},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:J,onMouseMove:X,onMouseLeave:ce,onContextMenu:se,onClick:de,onDoubleClick:ue,onKeyDown:W?we:void 0,tabIndex:W?0:void 0,role:W?"button":void 0,"aria-describedby":x?void 0:`${cO}-${k}`,"aria-label":M.ariaLabel,children:j.jsx(NB,{value:t,children:j.jsx(z,{id:t,data:M.data,type:T,positionAbsoluteX:A.positionAbsolute.x,positionAbsoluteY:A.positionAbsolute.y,selected:M.selected,selectable:F,draggable:B,deletable:M.deletable??!0,isConnectable:Q,sourcePosition:M.sourcePosition,targetPosition:M.targetPosition,dragging:D,dragHandle:M.dragHandle,zIndex:A.z,parentId:M.parentId,...O})})})}const KB=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function kO(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=Ie(KB,gt),s=VB(t.onlyRenderVisibleElements),u=HB();return j.jsx("div",{className:"react-flow__nodes",style:Wm,children:s.map(c=>j.jsx(UB,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:u,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:t.nodeClickDistance,onError:i},c))})}kO.displayName="NodeRenderer";const YB=q.memo(kO);function QB(t){return Ie(q.useCallback(e=>{if(!t)return e.edges.map(r=>r.id);const n=[];if(e.width&&e.height)for(const r of e.edges){const o=e.nodeLookup.get(r.source),i=e.nodeLookup.get(r.target);o&&i&&K8({sourceNode:o,targetNode:i,width:e.width,height:e.height,transform:e.transform})&&n.push(r.id)}return n},[t]),gt)}const ZB=({color:t="none",strokeWidth:e=1})=>j.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),GB=({color:t="none",strokeWidth:e=1})=>j.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),_2={[Up.Arrow]:ZB,[Up.ArrowClosed]:GB};function qB(t){const e=it();return q.useMemo(()=>{var n,r;return Object.prototype.hasOwnProperty.call(_2,t)?_2[t]:((r=(n=e.getState()).onError)==null||r.call(n,"009",Vo.error009(t)),null)},[t])}const JB=({id:t,type:e,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:u="auto-start-reverse"})=>{const c=qB(e);return c?j.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:u,refX:"0",refY:"0",children:j.jsx(c,{color:n,strokeWidth:s})}):null},SO=({defaultColor:t,rfId:e})=>{const n=Ie(i=>i.edges),r=Ie(i=>i.defaultEdgeOptions),o=q.useMemo(()=>X8(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return o.length?j.jsx("svg",{className:"react-flow__marker",children:j.jsx("defs",{children:o.map(i=>j.jsx(JB,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};SO.displayName="MarkerDefinitions";var XB=q.memo(SO);function CO({x:t,y:e,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:u=2,children:c,className:d,...f}){const[p,g]=q.useState({x:1,y:0,width:0,height:0}),v=Ct(["react-flow__edge-textwrapper",d]),x=q.useRef(null);return q.useEffect(()=>{if(x.current){const k=x.current.getBBox();g({x:k.x,y:k.y,width:k.width,height:k.height})}},[n]),typeof n>"u"||!n?null:j.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:v,visibility:p.width?"visible":"hidden",...f,children:[o&&j.jsx("rect",{width:p.width+2*s[0],x:-s[0],y:-s[1],height:p.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:u,ry:u}),j.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:r,children:n}),c]})}CO.displayName="EdgeText";const eF=q.memo(CO);function Um({id:t,path:e,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,className:v,interactionWidth:x=20}){return j.jsxs(j.Fragment,{children:[j.jsx("path",{id:t,style:f,d:e,fill:"none",className:Ct(["react-flow__edge-path",v]),markerEnd:p,markerStart:g}),x&&j.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:x,className:"react-flow__edge-interaction"}),o&&Pr(n)&&Pr(r)?j.jsx(eF,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function D2({pos:t,x1:e,y1:n,x2:r,y2:o}){return t===Se.Left||t===Se.Right?[.5*(e+r),n]:[e,.5*(n+o)]}function EO({sourceX:t,sourceY:e,sourcePosition:n=Se.Bottom,targetX:r,targetY:o,targetPosition:i=Se.Top}){const[s,u]=D2({pos:n,x1:t,y1:e,x2:r,y2:o}),[c,d]=D2({pos:i,x1:r,y1:o,x2:t,y2:e}),[f,p,g,v]=UA({sourceX:t,sourceY:e,targetX:r,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${t},${e} C${s},${u} ${c},${d} ${r},${o}`,f,p,g,v]}function MO(t){return q.memo(({id:e,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=Se.Bottom,targetPosition:u=Se.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:k,markerStart:E,interactionWidth:b})=>{const[S,C,M]=EO({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:u}),A=t.isInternal?void 0:e;return j.jsx(Um,{id:A,path:S,labelX:C,labelY:M,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:k,markerStart:E,interactionWidth:b})})}const tF=MO({isInternal:!1}),NO=MO({isInternal:!0});tF.displayName="SimpleBezierEdge";NO.displayName="SimpleBezierEdgeInternal";function AO(t){return q.memo(({id:e,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,sourcePosition:v=Se.Bottom,targetPosition:x=Se.Top,markerEnd:k,markerStart:E,pathOptions:b,interactionWidth:S})=>{const[C,M,A]=ly({sourceX:n,sourceY:r,sourcePosition:v,targetX:o,targetY:i,targetPosition:x,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset}),$=t.isInternal?void 0:e;return j.jsx(Um,{id:$,path:C,labelX:M,labelY:A,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:k,markerStart:E,interactionWidth:S})})}const OO=AO({isInternal:!1}),TO=AO({isInternal:!0});OO.displayName="SmoothStepEdge";TO.displayName="SmoothStepEdgeInternal";function PO(t){return q.memo(({id:e,...n})=>{var r;const o=t.isInternal?void 0:e;return j.jsx(OO,{...n,id:o,pathOptions:q.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(r=n.pathOptions)==null?void 0:r.offset])})})}const nF=PO({isInternal:!1}),$O=PO({isInternal:!0});nF.displayName="StepEdge";$O.displayName="StepEdgeInternal";function LO(t){return q.memo(({id:e,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:x,interactionWidth:k})=>{const[E,b,S]=ZA({sourceX:n,sourceY:r,targetX:o,targetY:i}),C=t.isInternal?void 0:e;return j.jsx(Um,{id:C,path:E,labelX:b,labelY:S,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:x,interactionWidth:k})})}const rF=LO({isInternal:!1}),RO=LO({isInternal:!0});rF.displayName="StraightEdge";RO.displayName="StraightEdgeInternal";function zO(t){return q.memo(({id:e,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=Se.Bottom,targetPosition:u=Se.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:k,markerStart:E,pathOptions:b,interactionWidth:S})=>{const[C,M,A]=KA({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:u,curvature:b==null?void 0:b.curvature}),$=t.isInternal?void 0:e;return j.jsx(Um,{id:$,path:C,labelX:M,labelY:A,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:k,markerStart:E,interactionWidth:S})})}const oF=zO({isInternal:!1}),_O=zO({isInternal:!0});oF.displayName="BezierEdge";_O.displayName="BezierEdgeInternal";const I2={default:_O,straight:RO,step:$O,smoothstep:TO,simplebezier:NO},B2={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},iF=(t,e,n)=>n===Se.Left?t-e:n===Se.Right?t+e:t,sF=(t,e,n)=>n===Se.Top?t-e:n===Se.Bottom?t+e:t,F2="react-flow__edgeupdater";function V2({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:u}){return j.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ct([F2,`${F2}-${u}`]),cx:iF(e,r,t),cy:sF(n,r,t),r,stroke:"transparent",fill:"transparent"})}function lF({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:u,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,setReconnecting:g,setUpdateHover:v}){const x=it(),k=(M,A)=>{if(M.button!==0)return;const{autoPanOnConnect:$,domNode:T,isValidConnection:z,connectionMode:B,connectionRadius:F,lib:Q,onConnectStart:W,onConnectEnd:G,cancelConnection:P,nodeLookup:H,rfId:D,panBy:U,updateConnection:O}=x.getState(),L=A.type==="target";g(!0),f==null||f(M,n,A.type);const _=(X,ce)=>{g(!1),p==null||p(X,n,A.type,ce)},J=X=>d==null?void 0:d(n,X);cy.onPointerDown(M.nativeEvent,{autoPanOnConnect:$,connectionMode:B,connectionRadius:F,domNode:T,handleId:A.id,nodeId:A.nodeId,nodeLookup:H,isTarget:L,edgeUpdaterType:A.type,lib:Q,flowId:D,cancelConnection:P,panBy:U,isValidConnection:z,onConnect:J,onConnectStart:W,onConnectEnd:G,onReconnectEnd:_,updateConnection:O,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle})},E=M=>k(M,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),b=M=>k(M,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),S=()=>v(!0),C=()=>v(!1);return j.jsxs(j.Fragment,{children:[(t===!0||t==="source")&&j.jsx(V2,{position:u,centerX:r,centerY:o,radius:e,onMouseDown:E,onMouseEnter:S,onMouseOut:C,type:"source"}),(t===!0||t==="target")&&j.jsx(V2,{position:c,centerX:i,centerY:s,radius:e,onMouseDown:b,onMouseEnter:S,onMouseOut:C,type:"target"})]})}function aF({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:u,onMouseMove:c,onMouseLeave:d,reconnectRadius:f,onReconnect:p,onReconnectStart:g,onReconnectEnd:v,rfId:x,edgeTypes:k,noPanClassName:E,onError:b,disableKeyboardA11y:S}){let C=Ie(Ae=>Ae.edgeLookup.get(t));const M=Ie(Ae=>Ae.defaultEdgeOptions);C=M?{...M,...C}:C;let A=C.type||"default",$=(k==null?void 0:k[A])||I2[A];$===void 0&&(b==null||b("011",Vo.error011(A)),A="default",$=I2.default);const T=!!(C.focusable||e&&typeof C.focusable>"u"),z=typeof p<"u"&&(C.reconnectable||n&&typeof C.reconnectable>"u"),B=!!(C.selectable||r&&typeof C.selectable>"u"),F=q.useRef(null),[Q,W]=q.useState(!1),[G,P]=q.useState(!1),H=it(),{zIndex:D,sourceX:U,sourceY:O,targetX:L,targetY:_,sourcePosition:J,targetPosition:X}=Ie(q.useCallback(Ae=>{const Re=Ae.nodeLookup.get(C.source),ft=Ae.nodeLookup.get(C.target);if(!Re||!ft)return{zIndex:C.zIndex,...B2};const gn=J8({id:t,sourceNode:Re,targetNode:ft,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:Ae.connectionMode,onError:b});return{zIndex:U8({selected:C.selected,zIndex:C.zIndex,sourceNode:Re,targetNode:ft,elevateOnSelect:Ae.elevateEdgesOnSelect}),...gn||B2}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),gt),ce=q.useMemo(()=>C.markerStart?`url('#${ay(C.markerStart,x)}')`:void 0,[C.markerStart,x]),se=q.useMemo(()=>C.markerEnd?`url('#${ay(C.markerEnd,x)}')`:void 0,[C.markerEnd,x]);if(C.hidden||U===null||O===null||L===null||_===null)return null;const ue=Ae=>{var Re;const{addSelectedEdges:ft,unselectNodesAndEdges:gn,multiSelectionActive:Wo}=H.getState();B&&(H.setState({nodesSelectionActive:!1}),C.selected&&Wo?(gn({nodes:[],edges:[C]}),(Re=F.current)==null||Re.blur()):ft([t])),o&&o(Ae,C)},de=i?Ae=>{i(Ae,{...C})}:void 0,we=s?Ae=>{s(Ae,{...C})}:void 0,ae=u?Ae=>{u(Ae,{...C})}:void 0,Te=c?Ae=>{c(Ae,{...C})}:void 0,Pe=d?Ae=>{d(Ae,{...C})}:void 0,Ne=Ae=>{var Re;if(!S&&PA.includes(Ae.key)&&B){const{unselectNodesAndEdges:ft,addSelectedEdges:gn}=H.getState();Ae.key==="Escape"?((Re=F.current)==null||Re.blur(),ft({edges:[C]})):gn([t])}};return j.jsx("svg",{style:{zIndex:D},children:j.jsxs("g",{className:Ct(["react-flow__edge",`react-flow__edge-${A}`,C.className,E,{selected:C.selected,animated:C.animated,inactive:!B&&!o,updating:Q,selectable:B}]),onClick:ue,onDoubleClick:de,onContextMenu:we,onMouseEnter:ae,onMouseMove:Te,onMouseLeave:Pe,onKeyDown:T?Ne:void 0,tabIndex:T?0:void 0,role:T?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":T?`${hO}-${x}`:void 0,ref:F,children:[!G&&j.jsx($,{id:t,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:B,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:U,sourceY:O,targetX:L,targetY:_,sourcePosition:J,targetPosition:X,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:ce,markerEnd:se,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),z&&j.jsx(lF,{edge:C,isReconnectable:z,reconnectRadius:f,onReconnect:p,onReconnectStart:g,onReconnectEnd:v,sourceX:U,sourceY:O,targetX:L,targetY:_,sourcePosition:J,targetPosition:X,setUpdateHover:W,setReconnecting:P})]})})}const uF=t=>({width:t.width,height:t.height,edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function DO({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:u,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:v,onReconnectEnd:x,disableKeyboardA11y:k}){const{edgesFocusable:E,edgesReconnectable:b,elementsSelectable:S,onError:C}=Ie(uF,gt),M=QB(e);return j.jsxs("div",{className:"react-flow__edges",children:[j.jsx(XB,{defaultColor:t,rfId:n}),M.map(A=>j.jsx(aF,{id:A,edgesFocusable:E,edgesReconnectable:b,elementsSelectable:S,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:u,onMouseMove:c,onMouseLeave:d,onClick:f,reconnectRadius:p,onDoubleClick:g,onReconnectStart:v,onReconnectEnd:x,rfId:n,onError:C,edgeTypes:r,disableKeyboardA11y:k},A))]})}DO.displayName="EdgeRenderer";const cF=q.memo(DO),hF=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function dF({children:t}){const e=Ie(hF);return j.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function fF(t){const e=os(),n=q.useRef(!1);q.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const pF=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function mF(t){const e=Ie(pF),n=it();return q.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function gF(t){return t.connection.inProgress?{...t.connection,to:Sh(t.connection.to,t.transform)}:{...t.connection}}function vF(t){return gF}function yF(t){const e=vF();return Ie(e,gt)}const wF=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function xF({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:u,inProgress:c}=Ie(wF,gt);return i&&o&&c?j.jsx("svg",{style:t,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:j.jsx("g",{className:Ct(["react-flow__connection",LA(u)]),children:j.jsx(IO,{style:e,type:n,CustomComponent:r,isValid:u})})}):null}const IO=({style:t,type:e=Mi.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:u,fromPosition:c,to:d,toNode:f,toHandle:p,toPosition:g}=yF();if(!o)return;if(n)return j.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:s,fromHandle:u,fromX:i.x,fromY:i.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:g,connectionStatus:LA(r),toNode:f,toHandle:p});let v="";const x={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:g};switch(e){case Mi.Bezier:[v]=KA(x);break;case Mi.SimpleBezier:[v]=EO(x);break;case Mi.Step:[v]=ly({...x,borderRadius:0});break;case Mi.SmoothStep:[v]=ly(x);break;default:[v]=ZA(x)}return j.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:t})};IO.displayName="ConnectionLine";const bF={};function j2(t=bF){q.useRef(t),it(),q.useEffect(()=>{},[t])}function kF(){it(),q.useRef(!1),q.useEffect(()=>{},[])}function BO({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:u,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:k,connectionLineComponent:E,connectionLineContainerStyle:b,selectionKeyCode:S,selectionOnDrag:C,selectionMode:M,multiSelectionKeyCode:A,panActivationKeyCode:$,zoomActivationKeyCode:T,deleteKeyCode:z,onlyRenderVisibleElements:B,elementsSelectable:F,defaultViewport:Q,translateExtent:W,minZoom:G,maxZoom:P,preventScrolling:H,defaultMarkerColor:D,zoomOnScroll:U,zoomOnPinch:O,panOnScroll:L,panOnScrollSpeed:_,panOnScrollMode:J,zoomOnDoubleClick:X,panOnDrag:ce,onPaneClick:se,onPaneMouseEnter:ue,onPaneMouseMove:de,onPaneMouseLeave:we,onPaneScroll:ae,onPaneContextMenu:Te,paneClickDistance:Pe,nodeClickDistance:Ne,onEdgeContextMenu:Ae,onEdgeMouseEnter:Re,onEdgeMouseMove:ft,onEdgeMouseLeave:gn,reconnectRadius:Wo,onReconnect:ss,onReconnectStart:il,onReconnectEnd:ls,noDragClassName:vr,noWheelClassName:Fr,noPanClassName:fo,disableKeyboardA11y:Uo,nodeExtent:sl,rfId:Ko,viewport:Yo,onViewportChange:Qo}){return j2(t),j2(e),kF(),fF(n),mF(Yo),j.jsx(BB,{onPaneClick:se,onPaneMouseEnter:ue,onPaneMouseMove:de,onPaneMouseLeave:we,onPaneContextMenu:Te,onPaneScroll:ae,paneClickDistance:Pe,deleteKeyCode:z,selectionKeyCode:S,selectionOnDrag:C,selectionMode:M,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:A,panActivationKeyCode:$,zoomActivationKeyCode:T,elementsSelectable:F,zoomOnScroll:U,zoomOnPinch:O,zoomOnDoubleClick:X,panOnScroll:L,panOnScrollSpeed:_,panOnScrollMode:J,panOnDrag:ce,defaultViewport:Q,translateExtent:W,minZoom:G,maxZoom:P,onSelectionContextMenu:p,preventScrolling:H,noDragClassName:vr,noWheelClassName:Fr,noPanClassName:fo,disableKeyboardA11y:Uo,onViewportChange:Qo,isControlledViewport:!!Yo,children:j.jsxs(dF,{children:[j.jsx(cF,{edgeTypes:e,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:ss,onReconnectStart:il,onReconnectEnd:ls,onlyRenderVisibleElements:B,onEdgeContextMenu:Ae,onEdgeMouseEnter:Re,onEdgeMouseMove:ft,onEdgeMouseLeave:gn,reconnectRadius:Wo,defaultMarkerColor:D,noPanClassName:fo,disableKeyboardA11y:Uo,rfId:Ko}),j.jsx(xF,{style:k,type:x,component:E,containerStyle:b}),j.jsx("div",{className:"react-flow__edgelabel-renderer"}),j.jsx(YB,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:u,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:Ne,onlyRenderVisibleElements:B,noPanClassName:fo,noDragClassName:vr,disableKeyboardA11y:Uo,nodeExtent:sl,rfId:Ko}),j.jsx("div",{className:"react-flow__viewport-portal"})]})})}BO.displayName="GraphView";const SF=q.memo(BO),H2=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,nodeOrigin:u,nodeExtent:c}={})=>{const d=new Map,f=new Map,p=new Map,g=new Map,v=r??e??[],x=n??t??[],k=u??[0,0],E=c??Yc;qA(p,g,v),uy(x,d,f,{nodeOrigin:k,nodeExtent:E,elevateNodesOnSelect:!1});let b=[0,0,1];if(s&&o&&i){const S=kh(d,{filter:$=>!!(($.width||$.initialWidth)&&($.height||$.initialHeight))}),{x:C,y:M,zoom:A}=dx(S,o,i,.5,2,.1);b=[C,M,A]}return{rfId:"1",width:0,height:0,transform:b,nodes:x,nodeLookup:d,parentLookup:f,edges:v,edgeLookup:g,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Yc,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Aa.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:k,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...$A},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:H8,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},CF=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,nodeOrigin:u,nodeExtent:c})=>F6((d,f)=>({...H2({nodes:t,edges:e,width:o,height:i,fitView:s,nodeOrigin:u,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:g,parentLookup:v,nodeOrigin:x,elevateNodesOnSelect:k}=f();uy(p,g,v,{nodeOrigin:x,nodeExtent:c,elevateNodesOnSelect:k,checkEquality:!0}),d({nodes:p})},setEdges:p=>{const{connectionLookup:g,edgeLookup:v}=f();qA(g,v,p),d({edges:p})},setDefaultNodesAndEdges:(p,g)=>{if(p){const{setNodes:v}=f();v(p),d({hasDefaultNodes:!0})}if(g){const{setEdges:v}=f();v(g),d({hasDefaultEdges:!0})}},updateNodeInternals:(p,g={triggerFitView:!0})=>{const{triggerNodeChanges:v,nodeLookup:x,parentLookup:k,fitViewOnInit:E,fitViewDone:b,fitViewOnInitOptions:S,domNode:C,nodeOrigin:M,nodeExtent:A,debug:$,fitViewSync:T}=f(),{changes:z,updatedInternals:B}=o6(p,x,k,C,M,A);if(B){if(t6(x,k,{nodeOrigin:M,nodeExtent:A}),g.triggerFitView){let F=b;!b&&E&&(F=T({...S,nodes:S==null?void 0:S.nodes})),d({fitViewDone:F})}else d({});(z==null?void 0:z.length)>0&&($&&console.log("React Flow: trigger node changes",z),v==null||v(z))}},updateNodePositions:(p,g=!1)=>{const v=[],x=[];for(const[k,E]of p){const b={id:k,type:"position",position:E.position,dragging:g};E!=null&&E.expandParent&&E!=null&&E.parentId&&b.position&&(v.push({id:k,parentId:E.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width,height:E.measured.height}}),b.position.x=Math.max(0,b.position.x),b.position.y=Math.max(0,b.position.y)),x.push(b)}if(v.length>0){const{nodeLookup:k,parentLookup:E,nodeOrigin:b}=f(),S=gx(v,k,E,b);x.push(...S)}f().triggerNodeChanges(x)},triggerNodeChanges:p=>{const{onNodesChange:g,setNodes:v,nodes:x,hasDefaultNodes:k,debug:E}=f();if(p!=null&&p.length){if(k){const b=pO(p,x);v(b)}E&&console.log("React Flow: trigger node changes",p),g==null||g(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:g,setEdges:v,edges:x,hasDefaultEdges:k,debug:E}=f();if(p!=null&&p.length){if(k){const b=mO(p,x);v(b)}E&&console.log("React Flow: trigger edge changes",p),g==null||g(p)}},addSelectedNodes:p=>{const{multiSelectionActive:g,edgeLookup:v,nodeLookup:x,triggerNodeChanges:k,triggerEdgeChanges:E}=f();if(g){const b=p.map(S=>As(S,!0));k(b);return}k(ta(x,new Set([...p]),!0)),E(ta(v))},addSelectedEdges:p=>{const{multiSelectionActive:g,edgeLookup:v,nodeLookup:x,triggerNodeChanges:k,triggerEdgeChanges:E}=f();if(g){const b=p.map(S=>As(S,!0));E(b);return}E(ta(v,new Set([...p]))),k(ta(x,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:g}={})=>{const{edges:v,nodes:x,triggerNodeChanges:k,triggerEdgeChanges:E}=f(),b=p||x,S=g||v,C=b.map(A=>(A.selected=!1,As(A.id,!1))),M=S.map(A=>As(A.id,!1));k(C),E(M)},setMinZoom:p=>{const{panZoom:g,maxZoom:v}=f();g==null||g.setScaleExtent([p,v]),d({minZoom:p})},setMaxZoom:p=>{const{panZoom:g,minZoom:v}=f();g==null||g.setScaleExtent([v,p]),d({maxZoom:p})},setTranslateExtent:p=>{var g;(g=f().panZoom)==null||g.setTranslateExtent(p),d({translateExtent:p})},setPaneClickDistance:p=>{var g;(g=f().panZoom)==null||g.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:g,triggerNodeChanges:v,triggerEdgeChanges:x}=f(),k=g.reduce((b,S)=>S.selected?[...b,As(S.id,!1)]:b,[]),E=p.reduce((b,S)=>S.selected?[...b,As(S.id,!1)]:b,[]);v(k),x(E)},setNodeExtent:p=>{const{nodes:g,nodeLookup:v,parentLookup:x,nodeOrigin:k,elevateNodesOnSelect:E,nodeExtent:b}=f();p[0][0]===b[0][0]&&p[0][1]===b[0][1]&&p[1][0]===b[1][0]&&p[1][1]===b[1][1]||(uy(g,v,x,{nodeOrigin:k,nodeExtent:p,elevateNodesOnSelect:E,checkEquality:!1}),d({nodeExtent:p}))},panBy:p=>{const{transform:g,width:v,height:x,panZoom:k,translateExtent:E}=f();return i6({delta:p,panZoom:k,transform:g,translateExtent:E,width:v,height:x})},fitView:p=>{const{panZoom:g,width:v,height:x,minZoom:k,maxZoom:E,nodeLookup:b}=f();if(!g)return Promise.resolve(!1);const S=ry(b,p);return oy({nodes:S,width:v,height:x,panZoom:g,minZoom:k,maxZoom:E},p)},fitViewSync:p=>{const{panZoom:g,width:v,height:x,minZoom:k,maxZoom:E,nodeLookup:b}=f();if(!g)return!1;const S=ry(b,p);return oy({nodes:S,width:v,height:x,panZoom:g,minZoom:k,maxZoom:E},p),S.size>0},cancelConnection:()=>{d({connection:{...$A}})},updateConnection:p=>{d({connection:p})},reset:()=>d({...H2()})}),Object.is);function FO({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,fitView:s,nodeOrigin:u,nodeExtent:c,children:d}){const[f]=q.useState(()=>CF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,nodeOrigin:u,nodeExtent:c}));return j.jsx(W6,{value:f,children:j.jsx(fB,{children:d})})}function EF({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:u,nodeOrigin:c,nodeExtent:d}){return q.useContext(Hm)?j.jsx(j.Fragment,{children:t}):j.jsx(FO,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:u,nodeOrigin:c,nodeExtent:d,children:t})}const MF={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function NF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:u,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:p,onMoveEnd:g,onConnect:v,onConnectStart:x,onConnectEnd:k,onClickConnectStart:E,onClickConnectEnd:b,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:M,onNodeContextMenu:A,onNodeDoubleClick:$,onNodeDragStart:T,onNodeDrag:z,onNodeDragStop:B,onNodesDelete:F,onEdgesDelete:Q,onDelete:W,onSelectionChange:G,onSelectionDragStart:P,onSelectionDrag:H,onSelectionDragStop:D,onSelectionContextMenu:U,onSelectionStart:O,onSelectionEnd:L,onBeforeDelete:_,connectionMode:J,connectionLineType:X=Mi.Bezier,connectionLineStyle:ce,connectionLineComponent:se,connectionLineContainerStyle:ue,deleteKeyCode:de="Backspace",selectionKeyCode:we="Shift",selectionOnDrag:ae=!1,selectionMode:Te=Qc.Full,panActivationKeyCode:Pe="Space",multiSelectionKeyCode:Ne=Yp()?"Meta":"Control",zoomActivationKeyCode:Ae=Yp()?"Meta":"Control",snapToGrid:Re,snapGrid:ft,onlyRenderVisibleElements:gn=!1,selectNodesOnDrag:Wo,nodesDraggable:ss,nodesConnectable:il,nodesFocusable:ls,nodeOrigin:vr=dO,edgesFocusable:Fr,edgesReconnectable:fo,elementsSelectable:Uo=!0,defaultViewport:sl=rB,minZoom:Ko=.5,maxZoom:Yo=2,translateExtent:Qo=Yc,preventScrolling:ll=!0,nodeExtent:al,defaultMarkerColor:as="#b1b1b7",zoomOnScroll:us=!0,zoomOnPinch:ig=!0,panOnScroll:$h=!1,panOnScrollSpeed:Lh=.5,panOnScrollMode:sg=Fs.Free,zoomOnDoubleClick:Ya=!0,panOnDrag:Qa=!0,onPaneClick:Za,onPaneMouseEnter:Ga,onPaneMouseMove:qa,onPaneMouseLeave:Zo,onPaneScroll:Go,onPaneContextMenu:Rh,paneClickDistance:Ja=0,nodeClickDistance:zh=0,children:_h,onReconnect:Dh,onReconnectStart:Xa,onReconnectEnd:Ih,onEdgeContextMenu:cs,onEdgeDoubleClick:eu,onEdgeMouseEnter:hs,onEdgeMouseMove:lg,onEdgeMouseLeave:ds,reconnectRadius:ul=10,onNodesChange:cl,onEdgesChange:tu,noDragClassName:ag="nodrag",noWheelClassName:ug="nowheel",noPanClassName:Bh="nopan",fitView:Vr,fitViewOptions:Fh,connectOnClick:Vh,attributionPosition:cg,proOptions:jh,defaultEdgeOptions:Hh,elevateNodesOnSelect:Wh,elevateEdgesOnSelect:Uh,disableKeyboardA11y:Kh=!1,autoPanOnConnect:hg,autoPanOnNodeDrag:st,autoPanSpeed:dg,connectionRadius:nu,isValidConnection:Yh,onError:hl,style:fg,id:ru,nodeDragThreshold:dl,viewport:qn,onViewportChange:pg,width:Rn,height:mg,colorMode:gg="light",debug:vg,...fl},pl){const po=ru||"1",ml=lB(gg);return j.jsx("div",{...fl,style:{...fg,...MF},ref:pl,className:Ct(["react-flow",o,ml]),"data-testid":"rf__wrapper",id:ru,children:j.jsxs(EF,{nodes:t,edges:e,width:Rn,height:mg,fitView:Vr,nodeOrigin:vr,nodeExtent:al,children:[j.jsx(SF,{onInit:d,onNodeClick:u,onEdgeClick:c,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:M,onNodeContextMenu:A,onNodeDoubleClick:$,nodeTypes:i,edgeTypes:s,connectionLineType:X,connectionLineStyle:ce,connectionLineComponent:se,connectionLineContainerStyle:ue,selectionKeyCode:we,selectionOnDrag:ae,selectionMode:Te,deleteKeyCode:de,multiSelectionKeyCode:Ne,panActivationKeyCode:Pe,zoomActivationKeyCode:Ae,onlyRenderVisibleElements:gn,defaultViewport:sl,translateExtent:Qo,minZoom:Ko,maxZoom:Yo,preventScrolling:ll,zoomOnScroll:us,zoomOnPinch:ig,zoomOnDoubleClick:Ya,panOnScroll:$h,panOnScrollSpeed:Lh,panOnScrollMode:sg,panOnDrag:Qa,onPaneClick:Za,onPaneMouseEnter:Ga,onPaneMouseMove:qa,onPaneMouseLeave:Zo,onPaneScroll:Go,onPaneContextMenu:Rh,paneClickDistance:Ja,nodeClickDistance:zh,onSelectionContextMenu:U,onSelectionStart:O,onSelectionEnd:L,onReconnect:Dh,onReconnectStart:Xa,onReconnectEnd:Ih,onEdgeContextMenu:cs,onEdgeDoubleClick:eu,onEdgeMouseEnter:hs,onEdgeMouseMove:lg,onEdgeMouseLeave:ds,reconnectRadius:ul,defaultMarkerColor:as,noDragClassName:ag,noWheelClassName:ug,noPanClassName:Bh,rfId:po,disableKeyboardA11y:Kh,nodeExtent:al,viewport:qn,onViewportChange:pg}),j.jsx(sB,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:x,onConnectEnd:k,onClickConnectStart:E,onClickConnectEnd:b,nodesDraggable:ss,nodesConnectable:il,nodesFocusable:ls,edgesFocusable:Fr,edgesReconnectable:fo,elementsSelectable:Uo,elevateNodesOnSelect:Wh,elevateEdgesOnSelect:Uh,minZoom:Ko,maxZoom:Yo,nodeExtent:al,onNodesChange:cl,onEdgesChange:tu,snapToGrid:Re,snapGrid:ft,connectionMode:J,translateExtent:Qo,connectOnClick:Vh,defaultEdgeOptions:Hh,fitView:Vr,fitViewOptions:Fh,onNodesDelete:F,onEdgesDelete:Q,onDelete:W,onNodeDragStart:T,onNodeDrag:z,onNodeDragStop:B,onSelectionDrag:H,onSelectionDragStart:P,onSelectionDragStop:D,onMove:f,onMoveStart:p,onMoveEnd:g,noPanClassName:Bh,nodeOrigin:vr,rfId:po,autoPanOnConnect:hg,autoPanOnNodeDrag:st,autoPanSpeed:dg,onError:hl,connectionRadius:nu,isValidConnection:Yh,selectNodesOnDrag:Wo,nodeDragThreshold:dl,onBeforeDelete:_,paneClickDistance:Ja,debug:vg}),j.jsx(nB,{onSelectionChange:G}),_h,j.jsx(q6,{proOptions:jh,position:cg}),j.jsx(Z6,{rfId:po,disableKeyboardA11y:Kh})]})})}var AF=gO(NF);function OF({dimensions:t,lineWidth:e,variant:n,className:r}){return j.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Ct(["react-flow__background-pattern",n,r])})}function TF({radius:t,className:e}){return j.jsx("circle",{cx:t,cy:t,r:t,className:Ct(["react-flow__background-pattern","dots",e])})}var Hi;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Hi||(Hi={}));const PF={[Hi.Dots]:1,[Hi.Lines]:1,[Hi.Cross]:6},$F=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function VO({id:t,variant:e=Hi.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:u,style:c,className:d,patternClassName:f}){const p=q.useRef(null),{transform:g,patternId:v}=Ie($F,gt),x=r||PF[e],k=e===Hi.Dots,E=e===Hi.Cross,b=Array.isArray(n)?n:[n,n],S=[b[0]*g[2]||1,b[1]*g[2]||1],C=x*g[2],M=Array.isArray(i)?i:[i,i],A=E?[C,C]:S,$=[M[0]*g[2]||1+A[0]/2,M[1]*g[2]||1+A[1]/2],T=`${v}${t||""}`;return j.jsxs("svg",{className:Ct(["react-flow__background",d]),style:{...c,...Wm,"--xy-background-color-props":u,"--xy-background-pattern-color-props":s},ref:p,"data-testid":"rf__background",children:[j.jsx("pattern",{id:T,x:g[0]%S[0],y:g[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${$[0]},-${$[1]})`,children:k?j.jsx(TF,{radius:C/2,className:f}):j.jsx(OF,{dimensions:A,lineWidth:o,variant:e,className:f})}),j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}VO.displayName="Background";q.memo(VO);function LF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:j.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function RF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:j.jsx("path",{d:"M0 0h32v4.2H0z"})})}function zF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:j.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function _F(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function DF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function xf({children:t,className:e,...n}){return j.jsx("button",{type:"button",className:Ct(["react-flow__controls-button",e]),...n,children:t})}const IF=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function jO({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:u,onInteractiveChange:c,className:d,children:f,position:p="bottom-left",orientation:g="vertical","aria-label":v="React Flow controls"}){const x=it(),{isInteractive:k,minZoomReached:E,maxZoomReached:b}=Ie(IF,gt),{zoomIn:S,zoomOut:C,fitView:M}=os(),A=()=>{S(),i==null||i()},$=()=>{C(),s==null||s()},T=()=>{M(o),u==null||u()},z=()=>{x.setState({nodesDraggable:!k,nodesConnectable:!k,elementsSelectable:!k}),c==null||c(!k)};return j.jsxs(vx,{className:Ct(["react-flow__controls",g==="horizontal"?"horizontal":"vertical",d]),position:p,style:t,"data-testid":"rf__controls","aria-label":v,children:[e&&j.jsxs(j.Fragment,{children:[j.jsx(xf,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b,children:j.jsx(LF,{})}),j.jsx(xf,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E,children:j.jsx(RF,{})})]}),n&&j.jsx(xf,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view",children:j.jsx(zF,{})}),r&&j.jsx(xf,{className:"react-flow__controls-interactive",onClick:z,title:"toggle interactivity","aria-label":"toggle interactivity",children:k?j.jsx(DF,{}):j.jsx(_F,{})}),f]})}jO.displayName="Controls";const BF=q.memo(jO);function FF({id:t,x:e,y:n,width:r,height:o,style:i,color:s,strokeColor:u,strokeWidth:c,className:d,borderRadius:f,shapeRendering:p,selected:g,onClick:v}){const{background:x,backgroundColor:k}=i||{},E=s||x||k;return j.jsx("rect",{className:Ct(["react-flow__minimap-node",{selected:g},d]),x:e,y:n,rx:f,ry:f,width:r,height:o,style:{fill:E,stroke:u,strokeWidth:c},shapeRendering:p,onClick:v?b=>v(b,t):void 0})}const VF=q.memo(FF),jF=t=>t.nodes.map(e=>e.id),$1=t=>t instanceof Function?t:()=>t;function HF({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=VF,onClick:s}){const u=Ie(jF,gt),c=$1(e),d=$1(t),f=$1(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return j.jsx(j.Fragment,{children:u.map(g=>j.jsx(UF,{id:g,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:p},g))})}function WF({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:u,onClick:c}){const{node:d,x:f,y:p,width:g,height:v}=Ie(x=>{const k=x.nodeLookup.get(t),{x:E,y:b}=k.internals.positionAbsolute,{width:S,height:C}=jo(k);return{node:k,x:E,y:b,width:S,height:C}},gt);return!d||d.hidden||!VA(d)?null:j.jsx(u,{x:f,y:p,width:g,height:v,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:o,strokeColor:n(d),strokeWidth:i,shapeRendering:s,onClick:c,id:d.id})}const UF=q.memo(WF);var KF=q.memo(HF);const YF=200,QF=150,ZF=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?BA(kh(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},GF="react-flow__minimap-desc";function HO({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:u,bgColor:c,maskColor:d,maskStrokeColor:f,maskStrokeWidth:p,position:g="bottom-right",onClick:v,onNodeClick:x,pannable:k=!1,zoomable:E=!1,ariaLabel:b="React Flow mini map",inversePan:S,zoomStep:C=10,offsetScale:M=5}){const A=it(),$=q.useRef(null),{boundingRect:T,viewBB:z,rfId:B,panZoom:F,translateExtent:Q,flowWidth:W,flowHeight:G}=Ie(ZF,gt),P=(t==null?void 0:t.width)??YF,H=(t==null?void 0:t.height)??QF,D=T.width/P,U=T.height/H,O=Math.max(D,U),L=O*P,_=O*H,J=M*O,X=T.x-(L-T.width)/2-J,ce=T.y-(_-T.height)/2-J,se=L+J*2,ue=_+J*2,de=`${GF}-${B}`,we=q.useRef(0),ae=q.useRef();we.current=O,q.useEffect(()=>{if($.current&&F)return ae.current=f6({domNode:$.current,panZoom:F,getTransform:()=>A.getState().transform,getViewScale:()=>we.current}),()=>{var Ne;(Ne=ae.current)==null||Ne.destroy()}},[F]),q.useEffect(()=>{var Ne;(Ne=ae.current)==null||Ne.update({translateExtent:Q,width:W,height:G,inversePan:S,pannable:k,zoomStep:C,zoomable:E})},[k,E,S,C,Q,W,G]);const Te=v?Ne=>{var Ae;const[Re,ft]=((Ae=ae.current)==null?void 0:Ae.pointer(Ne))||[0,0];v(Ne,{x:Re,y:ft})}:void 0,Pe=x?q.useCallback((Ne,Ae)=>{const Re=A.getState().nodeLookup.get(Ae);x(Ne,Re)},[]):void 0;return j.jsx(vx,{position:g,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*O:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="string"?s:void 0},className:Ct(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:j.jsxs("svg",{width:P,height:H,viewBox:`${X} ${ce} ${se} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:$,onClick:Te,children:[b&&j.jsx("title",{id:de,children:b}),j.jsx(KF,{onClick:Pe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:u}),j.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-J},${ce-J}h${se+J*2}v${ue+J*2}h${-se-J*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}HO.displayName="MiniMap";q.memo(HO);function qF({nodeId:t,position:e,variant:n=wc.Handle,className:r,style:o={},children:i,color:s,minWidth:u=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:p=!1,shouldResize:g,onResizeStart:v,onResize:x,onResizeEnd:k}){const E=xO(),b=typeof t=="string"?t:E,S=it(),C=q.useRef(null),M=n===wc.Line?"right":"bottom-right",A=e??M,$=q.useRef(null);q.useEffect(()=>{if(!(!C.current||!b))return $.current||($.current=A6({domNode:C.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:F,transform:Q,snapGrid:W,snapToGrid:G,nodeOrigin:P}=S.getState();return{nodeLookup:F,transform:Q,snapGrid:W,snapToGrid:G,nodeOrigin:P}},onChange:(F,Q)=>{const{triggerNodeChanges:W,nodeLookup:G,parentLookup:P,nodeOrigin:H}=S.getState(),D=[],U={x:F.x,y:F.y},O=G.get(b);if(O&&O.expandParent&&O.parentId){const L=O.origin??H,_=F.width??O.measured.width,J=F.height??O.measured.height,X={id:O.id,parentId:O.parentId,rect:{width:_,height:J,...jA({x:F.x??O.position.x,y:F.y??O.position.y},{width:_,height:J},O.parentId,G,L)}},ce=gx([X],G,P,H);D.push(...ce),U.x=F.x?Math.max(L[0]*_,F.x):void 0,U.y=F.y?Math.max(L[1]*J,F.y):void 0}if(U.x!==void 0&&U.y!==void 0){const L={id:b,type:"position",position:{...U}};D.push(L)}if(F.width!==void 0&&F.height!==void 0){const L={id:b,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:F.width,height:F.height}};D.push(L)}for(const L of Q){const _={...L,type:"position"};D.push(_)}W(D)},onEnd:()=>{const F={id:b,type:"dimensions",resizing:!1};S.getState().triggerNodeChanges([F])}})),$.current.update({controlPosition:A,boundaries:{minWidth:u,minHeight:c,maxWidth:d,maxHeight:f},keepAspectRatio:p,onResizeStart:v,onResize:x,onResizeEnd:k,shouldResize:g}),()=>{var F;(F=$.current)==null||F.destroy()}},[A,u,c,d,f,p,v,x,k,g]);const T=A.split("-"),z=n===wc.Line?"borderColor":"backgroundColor",B=s?{...o,[z]:s}:o;return j.jsx("div",{className:Ct(["react-flow__resize-control","nodrag",...T,n,r]),ref:C,style:B,children:i})}q.memo(qF);const W2=t=>{let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,f))}},o=()=>e,i={setState:r,getState:o,getInitialState:()=>s,subscribe:u=>(n.add(u),()=>n.delete(u))},s=e=t(r,o,i);return i},JF=t=>t?W2(t):W2,XF=t=>t;function e9(t,e=XF){const n=js.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return js.useDebugValue(n),n}const U2=t=>{const e=JF(t),n=r=>e9(e,r);return Object.assign(n,e),n},t9=t=>t?U2(t):U2,wx=t9((t,e)=>({nodes:[],edges:[],projectName:"HelloWorld",onNodesChange:n=>{t({nodes:pO(n,e().nodes)})},onEdgesChange:n=>{t({edges:mO(n,e().edges)})},onConnect:n=>{t({edges:QA(n,e().edges)})},setNodes:n=>{t({nodes:n})},setEdges:n=>{t({edges:n})},setProjectName:n=>{t({projectName:n})}})),n9=t=>({projectName:t.projectName,setProjectName:t.setProjectName}),r9=()=>{const{projectName:t,setProjectName:e}=wx(ox(n9));return j.jsxs("label",{children:["Project Name:",j.jsx("input",{type:"text",value:t,onChange:n=>e(n.target.value)})]})},o9=()=>{const[t,e]=X3(),n=(r,o)=>{e(o),r.dataTransfer.effectAllowed="move"};return j.jsxs("aside",{children:[j.jsx(r9,{}),j.jsx("div",{className:"description",children:"You can drag these nodes to the pane on the left."}),j.jsx("div",{className:"dndnode",onDragStart:r=>n(r,"ViewFunctionNode"),draggable:!0,children:"View Function Node"}),j.jsx("div",{className:"dndnode",onDragStart:r=>n(r,"SendFunctionNode"),draggable:!0,children:"Send Function Node"}),j.jsx("div",{className:"dndnode",onDragStart:r=>n(r,"EventNode"),draggable:!0,children:"Event Node"}),j.jsx("div",{className:"dndnode",onDragStart:r=>n(r,"StateNode"),draggable:!0,children:"State Node"})]})};var WO={};Object.defineProperty(WO,"__esModule",{value:!0});var i9=WO.generateProtoFile=s9;function s9(t){let e="";if(e+=`syntax = "${t.syntax}";

`,t.imports&&t.imports.length>0&&(t.imports.forEach(n=>{e+=`import "${n}";
`}),e+=`
`),t.options){for(const[n,r]of Object.entries(t.options))e+=`option ${n} = ${r};
`;e+=`
`}if(t.enums)for(const n of t.enums){e+=`enum ${n.name} {
`;for(const[r,o]of Object.entries(n.values))e+=`  ${r} = ${o};
`;e+=`}

`}if(t.services&&t.services.length>0)for(const n of t.services){if(e+=`service ${n.name} {
`,n.options)for(const r of n.options)e+=`  option (${r.key}) = ${r.value};
`;e+=`
`;for(const r of n.methods)if(e+=`  rpc ${r.name} (${r.inputType}) returns (${r.outputType})`,r.options&&r.options.length>0){e+=` {
`;for(const o of r.options)e+=`    option (${o.key}) = ${o.value};
`;e+=`  }
`}else e+=`;
`;e+=`}

`}if(t.messages&&t.messages.length>0)for(const n of t.messages){if(e+=`message ${n.name} {
`,n.options)for(const[r,o]of Object.entries(n.options))e+=`  option (${r}) = ${o};
`;for(const r of n.fields)e+=`  ${r.type} ${r.name} = ${r.id};
`;e+=`}

`}return e.trim()}function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dy.apply(null,arguments)}function l9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}class Fe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=$a(this,e,n);let o=[];return this.decompose(0,e,o,2),r.length&&r.decompose(0,r.length,o,3),this.decompose(n,this.length,o,1),Xr.from(o,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=$a(this,e,n);let r=[];return this.decompose(e,n,r,0),Xr.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),o=new xc(this),i=new xc(e);for(let s=n,u=n;;){if(o.next(s),i.next(s),s=0,o.lineBreak!=i.lineBreak||o.done!=i.done||o.value!=i.value)return!1;if(u+=o.value.length,o.done||u>=r)return!0}}iter(e=1){return new xc(this,e)}iterRange(e,n=this.length){return new UO(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let o=this.line(e).from;r=this.iterRange(o,Math.max(o,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new KO(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Fe.empty:e.length<=32?new yt(e):Xr.from(yt.split(e,[]))}}class yt extends Fe{constructor(e,n=a9(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,o){for(let i=0;;i++){let s=this.text[i],u=o+s.length;if((n?r:u)>=e)return new u9(o,u,r,s);o=u+1,r++}}decompose(e,n,r,o){let i=e<=0&&n>=this.length?this:new yt(K2(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(o&1){let s=r.pop(),u=ip(i.text,s.text.slice(),0,i.length);if(u.length<=32)r.push(new yt(u,s.length+i.length));else{let c=u.length>>1;r.push(new yt(u.slice(0,c)),new yt(u.slice(c)))}}else r.push(i)}replace(e,n,r){if(!(r instanceof yt))return super.replace(e,n,r);[e,n]=$a(this,e,n);let o=ip(this.text,ip(r.text,K2(this.text,0,e)),n),i=this.length+r.length-(n-e);return o.length<=32?new yt(o,i):Xr.from(yt.split(o,[]),i)}sliceString(e,n=this.length,r=`
`){[e,n]=$a(this,e,n);let o="";for(let i=0,s=0;i<=n&&s<this.text.length;s++){let u=this.text[s],c=i+u.length;i>e&&s&&(o+=r),e<c&&n>i&&(o+=u.slice(Math.max(0,e-i),n-i)),i=c+1}return o}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],o=-1;for(let i of e)r.push(i),o+=i.length+1,r.length==32&&(n.push(new yt(r,o)),r=[],o=-1);return o>-1&&n.push(new yt(r,o)),n}}class Xr extends Fe{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,o){for(let i=0;;i++){let s=this.children[i],u=o+s.length,c=r+s.lines-1;if((n?c:u)>=e)return s.lineInner(e,n,r,o);o=u+1,r=c+1}}decompose(e,n,r,o){for(let i=0,s=0;s<=n&&i<this.children.length;i++){let u=this.children[i],c=s+u.length;if(e<=c&&n>=s){let d=o&((s<=e?1:0)|(c>=n?2:0));s>=e&&c<=n&&!d?r.push(u):u.decompose(e-s,n-s,r,d)}s=c+1}}replace(e,n,r){if([e,n]=$a(this,e,n),r.lines<this.lines)for(let o=0,i=0;o<this.children.length;o++){let s=this.children[o],u=i+s.length;if(e>=i&&n<=u){let c=s.replace(e-i,n-i,r),d=this.lines-s.lines+c.lines;if(c.lines<d>>4&&c.lines>d>>6){let f=this.children.slice();return f[o]=c,new Xr(f,this.length-(n-e)+r.length)}return super.replace(i,u,c)}i=u+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=$a(this,e,n);let o="";for(let i=0,s=0;i<this.children.length&&s<=n;i++){let u=this.children[i],c=s+u.length;s>e&&i&&(o+=r),e<c&&n>s&&(o+=u.sliceString(e-s,n-s,r)),s=c+1}return o}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Xr))return 0;let r=0,[o,i,s,u]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;o+=n,i+=n){if(o==s||i==u)return r;let c=this.children[o],d=e.children[i];if(c!=d)return r+c.scanIdentical(d,n);r+=c.length+1}}static from(e,n=e.reduce((r,o)=>r+o.length+1,-1)){let r=0;for(let v of e)r+=v.lines;if(r<32){let v=[];for(let x of e)x.flatten(v);return new yt(v,n)}let o=Math.max(32,r>>5),i=o<<1,s=o>>1,u=[],c=0,d=-1,f=[];function p(v){let x;if(v.lines>i&&v instanceof Xr)for(let k of v.children)p(k);else v.lines>s&&(c>s||!c)?(g(),u.push(v)):v instanceof yt&&c&&(x=f[f.length-1])instanceof yt&&v.lines+x.lines<=32?(c+=v.lines,d+=v.length+1,f[f.length-1]=new yt(x.text.concat(v.text),x.length+1+v.length)):(c+v.lines>o&&g(),c+=v.lines,d+=v.length+1,f.push(v))}function g(){c!=0&&(u.push(f.length==1?f[0]:Xr.from(f,d)),d=-1,c=f.length=0)}for(let v of e)p(v);return g(),u.length==1?u[0]:new Xr(u,n)}}Fe.empty=new yt([""],0);function a9(t){let e=-1;for(let n of t)e+=n.length+1;return e}function ip(t,e,n=0,r=1e9){for(let o=0,i=0,s=!0;i<t.length&&o<=r;i++){let u=t[i],c=o+u.length;c>=n&&(c>r&&(u=u.slice(0,r-o)),o<n&&(u=u.slice(n-o)),s?(e[e.length-1]+=u,s=!1):e.push(u)),o=c+1}return e}function K2(t,e,n){return ip(t,[""],e,n)}class xc{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof yt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,o=this.nodes[r],i=this.offsets[r],s=i>>1,u=o instanceof yt?o.text.length:o.children.length;if(s==(n>0?u:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(o instanceof yt){let c=o.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,c.length>Math.max(0,e))return this.value=e==0?c:n>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=o.children[s+(n<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(n>0?1:(c instanceof yt?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class UO{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new xc(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:o}=this.cursor.next(e);return this.pos+=(o.length+e)*n,this.value=o.length<=r?o:n<0?o.slice(o.length-r):o.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class KO{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:o}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Fe.prototype[Symbol.iterator]=function(){return this.iter()},xc.prototype[Symbol.iterator]=UO.prototype[Symbol.iterator]=KO.prototype[Symbol.iterator]=function(){return this});class u9{constructor(e,n,r,o){this.from=e,this.to=n,this.number=r,this.text=o}get length(){return this.to-this.from}}function $a(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let fa="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<fa.length;t++)fa[t]+=fa[t-1];function c9(t){for(let e=1;e<fa.length;e+=2)if(fa[e]>t)return fa[e-1]<=t;return!1}function Y2(t){return t>=127462&&t<=127487}const Q2=8205;function Wt(t,e,n=!0,r=!0){return(n?YO:h9)(t,e,r)}function YO(t,e,n){if(e==t.length)return e;e&&QO(t.charCodeAt(e))&&ZO(t.charCodeAt(e-1))&&e--;let r=Ft(t,e);for(e+=lr(r);e<t.length;){let o=Ft(t,e);if(r==Q2||o==Q2||n&&c9(o))e+=lr(o),r=o;else if(Y2(o)){let i=0,s=e-2;for(;s>=0&&Y2(Ft(t,s));)i++,s-=2;if(i%2==0)break;e+=2}else break}return e}function h9(t,e,n){for(;e>0;){let r=YO(t,e-2,n);if(r<e)return r;e--}return 0}function QO(t){return t>=56320&&t<57344}function ZO(t){return t>=55296&&t<56320}function Ft(t,e){let n=t.charCodeAt(e);if(!ZO(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return QO(r)?(n-55296<<10)+(r-56320)+65536:n}function xx(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function lr(t){return t<65536?1:2}const fy=/\r\n?|\n/;var cn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(cn||(cn={}));class so{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,o=0;n<this.sections.length;){let i=this.sections[n++],s=this.sections[n++];s<0?(e(r,o,i),o+=i):o+=s,r+=i}}iterChangedRanges(e,n=!1){py(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],o=this.sections[n++];o<0?e.push(r,o):e.push(o,r)}return new so(e)}composeDesc(e){return this.empty?e:e.empty?this:GO(this,e)}mapDesc(e,n=!1){return e.empty?this:my(this,e,n)}mapPos(e,n=-1,r=cn.Simple){let o=0,i=0;for(let s=0;s<this.sections.length;){let u=this.sections[s++],c=this.sections[s++],d=o+u;if(c<0){if(d>e)return i+(e-o);i+=u}else{if(r!=cn.Simple&&d>=e&&(r==cn.TrackDel&&o<e&&d>e||r==cn.TrackBefore&&o<e||r==cn.TrackAfter&&d>e))return null;if(d>e||d==e&&n<0&&!u)return e==o||n<0?i:i+c;i+=c}o=d}if(e>o)throw new RangeError(`Position ${e} is out of range for changeset of length ${o}`);return i}touchesRange(e,n=e){for(let r=0,o=0;r<this.sections.length&&o<=n;){let i=this.sections[r++],s=this.sections[r++],u=o+i;if(s>=0&&o<=n&&u>=e)return o<e&&u>n?"cover":!0;o=u}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],o=this.sections[n++];e+=(e?" ":"")+r+(o>=0?":"+o:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new so(e)}static create(e){return new so(e)}}class At extends so{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return py(this,(n,r,o,i,s)=>e=e.replace(o,o+(r-n),s),!1),e}mapDesc(e,n=!1){return my(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let o=0,i=0;o<n.length;o+=2){let s=n[o],u=n[o+1];if(u>=0){n[o]=u,n[o+1]=s;let c=o>>1;for(;r.length<c;)r.push(Fe.empty);r.push(s?e.slice(i,i+s):Fe.empty)}i+=s}return new At(n,r)}compose(e){return this.empty?e:e.empty?this:GO(this,e,!0)}map(e,n=!1){return e.empty?this:my(this,e,n,!0)}iterChanges(e,n=!1){py(this,e,n)}get desc(){return so.create(this.sections)}filter(e){let n=[],r=[],o=[],i=new Jc(this);e:for(let s=0,u=0;;){let c=s==e.length?1e9:e[s++];for(;u<c||u==c&&i.len==0;){if(i.done)break e;let f=Math.min(i.len,c-u);tn(o,f,-1);let p=i.ins==-1?-1:i.off==0?i.ins:0;tn(n,f,p),p>0&&Pi(r,n,i.text),i.forward(f),u+=f}let d=e[s++];for(;u<d;){if(i.done)break e;let f=Math.min(i.len,d-u);tn(n,f,-1),tn(o,f,i.ins==-1?-1:i.off==0?i.ins:0),i.forward(f),u+=f}}return{changes:new At(n,r),filtered:so.create(o)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],o=this.sections[n+1];o<0?e.push(r):o==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let o=[],i=[],s=0,u=null;function c(f=!1){if(!f&&!o.length)return;s<n&&tn(o,n-s,-1);let p=new At(o,i);u=u?u.compose(p.map(u)):p,o=[],i=[],s=0}function d(f){if(Array.isArray(f))for(let p of f)d(p);else if(f instanceof At){if(f.length!=n)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${n})`);c(),u=u?u.compose(f.map(u)):f}else{let{from:p,to:g=p,insert:v}=f;if(p>g||p<0||g>n)throw new RangeError(`Invalid change range ${p} to ${g} (in doc of length ${n})`);let x=v?typeof v=="string"?Fe.of(v.split(r||fy)):v:Fe.empty,k=x.length;if(p==g&&k==0)return;p<s&&c(),p>s&&tn(o,p-s,-1),tn(o,g-p,k),Pi(i,o,x),s=g}}return d(e),c(!u),u}static empty(e){return new At(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let o=0;o<e.length;o++){let i=e[o];if(typeof i=="number")n.push(i,-1);else{if(!Array.isArray(i)||typeof i[0]!="number"||i.some((s,u)=>u&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(i.length==1)n.push(i[0],0);else{for(;r.length<o;)r.push(Fe.empty);r[o]=Fe.of(i.slice(1)),n.push(i[0],r[o].length)}}}return new At(n,r)}static createSet(e,n){return new At(e,n)}}function tn(t,e,n,r=!1){if(e==0&&n<=0)return;let o=t.length-2;o>=0&&n<=0&&n==t[o+1]?t[o]+=e:e==0&&t[o]==0?t[o+1]+=n:r?(t[o]+=e,t[o+1]+=n):t.push(e,n)}function Pi(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Fe.empty);t.push(n)}}function py(t,e,n){let r=t.inserted;for(let o=0,i=0,s=0;s<t.sections.length;){let u=t.sections[s++],c=t.sections[s++];if(c<0)o+=u,i+=u;else{let d=o,f=i,p=Fe.empty;for(;d+=u,f+=c,c&&r&&(p=p.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)u=t.sections[s++],c=t.sections[s++];e(o,d,i,f,p),o=d,i=f}}}function my(t,e,n,r=!1){let o=[],i=r?[]:null,s=new Jc(t),u=new Jc(e);for(let c=-1;;)if(s.ins==-1&&u.ins==-1){let d=Math.min(s.len,u.len);tn(o,d,-1),s.forward(d),u.forward(d)}else if(u.ins>=0&&(s.ins<0||c==s.i||s.off==0&&(u.len<s.len||u.len==s.len&&!n))){let d=u.len;for(tn(o,u.ins,-1);d;){let f=Math.min(s.len,d);s.ins>=0&&c<s.i&&s.len<=f&&(tn(o,0,s.ins),i&&Pi(i,o,s.text),c=s.i),s.forward(f),d-=f}u.next()}else if(s.ins>=0){let d=0,f=s.len;for(;f;)if(u.ins==-1){let p=Math.min(f,u.len);d+=p,f-=p,u.forward(p)}else if(u.ins==0&&u.len<f)f-=u.len,u.next();else break;tn(o,d,c<s.i?s.ins:0),i&&c<s.i&&Pi(i,o,s.text),c=s.i,s.forward(s.len-f)}else{if(s.done&&u.done)return i?At.createSet(o,i):so.create(o);throw new Error("Mismatched change set lengths")}}function GO(t,e,n=!1){let r=[],o=n?[]:null,i=new Jc(t),s=new Jc(e);for(let u=!1;;){if(i.done&&s.done)return o?At.createSet(r,o):so.create(r);if(i.ins==0)tn(r,i.len,0,u),i.next();else if(s.len==0&&!s.done)tn(r,0,s.ins,u),o&&Pi(o,r,s.text),s.next();else{if(i.done||s.done)throw new Error("Mismatched change set lengths");{let c=Math.min(i.len2,s.len),d=r.length;if(i.ins==-1){let f=s.ins==-1?-1:s.off?0:s.ins;tn(r,c,f,u),o&&f&&Pi(o,r,s.text)}else s.ins==-1?(tn(r,i.off?0:i.len,c,u),o&&Pi(o,r,i.textBit(c))):(tn(r,i.off?0:i.len,s.off?0:s.ins,u),o&&!s.off&&Pi(o,r,s.text));u=(i.ins>c||s.ins>=0&&s.len>c)&&(u||r.length>d),i.forward2(c),s.forward(c)}}}}class Jc{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Fe.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Fe.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class zs{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,o;return this.empty?r=o=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),o=e.mapPos(this.to,-1)),r==this.from&&o==this.to?this:new zs(r,o,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return te.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return te.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return te.range(e.anchor,e.head)}static create(e,n,r){return new zs(e,n,r)}}class te{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:te.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new te([this.main],0)}addRange(e,n=!0){return te.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,te.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new te(e.ranges.map(n=>zs.fromJSON(n)),e.main)}static single(e,n=e){return new te([te.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,o=0;o<e.length;o++){let i=e[o];if(i.empty?i.from<=r:i.from<r)return te.normalized(e.slice(),n);r=i.to}return new te(e,n)}static cursor(e,n=0,r,o){return zs.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(o??16777215)<<6)}static range(e,n,r,o){let i=(r??16777215)<<6|(o==null?7:Math.min(6,o));return n<e?zs.create(n,e,48|i):zs.create(e,n,(n>e?8:0)|i)}static normalized(e,n=0){let r=e[n];e.sort((o,i)=>o.from-i.from),n=e.indexOf(r);for(let o=1;o<e.length;o++){let i=e[o],s=e[o-1];if(i.empty?i.from<=s.to:i.from<s.to){let u=s.from,c=Math.max(i.to,s.to);o<=n&&n--,e.splice(--o,2,i.anchor>i.head?te.range(c,u):te.range(u,c))}}return new te(e,n)}}function qO(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let bx=0,ge=class JO{constructor(e,n,r,o,i){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=o,this.id=bx++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}get reader(){return this}static define(e={}){return new JO(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:kx),!!e.static,e.enables)}of(e){return new sp([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new sp(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new sp(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}};function kx(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class sp{constructor(e,n,r,o){this.dependencies=e,this.facet=n,this.type=r,this.value=o,this.id=bx++}dynamicSlot(e){var n;let r=this.value,o=this.facet.compareInput,i=this.id,s=e[i]>>1,u=this.type==2,c=!1,d=!1,f=[];for(let p of this.dependencies)p=="doc"?c=!0:p=="selection"?d=!0:((n=e[p.id])!==null&&n!==void 0?n:1)&1||f.push(e[p.id]);return{create(p){return p.values[s]=r(p),1},update(p,g){if(c&&g.docChanged||d&&(g.docChanged||g.selection)||gy(p,f)){let v=r(p);if(u?!Z2(v,p.values[s],o):!o(v,p.values[s]))return p.values[s]=v,1}return 0},reconfigure:(p,g)=>{let v,x=g.config.address[i];if(x!=null){let k=Gp(g,x);if(this.dependencies.every(E=>E instanceof ge?g.facet(E)===p.facet(E):E instanceof Qt?g.field(E,!1)==p.field(E,!1):!0)||(u?Z2(v=r(p),k,o):o(v=r(p),k)))return p.values[s]=k,0}else v=r(p);return p.values[s]=v,1}}}}function Z2(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function gy(t,e){let n=!1;for(let r of e)bc(t,r)&1&&(n=!0);return n}function d9(t,e,n){let r=n.map(c=>t[c.id]),o=n.map(c=>c.type),i=r.filter(c=>!(c&1)),s=t[e.id]>>1;function u(c){let d=[];for(let f=0;f<r.length;f++){let p=Gp(c,r[f]);if(o[f]==2)for(let g of p)d.push(g);else d.push(p)}return e.combine(d)}return{create(c){for(let d of r)bc(c,d);return c.values[s]=u(c),1},update(c,d){if(!gy(c,i))return 0;let f=u(c);return e.compare(f,c.values[s])?0:(c.values[s]=f,1)},reconfigure(c,d){let f=gy(c,r),p=d.config.facets[e.id],g=d.facet(e);if(p&&!f&&kx(n,p))return c.values[s]=g,0;let v=u(c);return e.compare(v,g)?(c.values[s]=g,0):(c.values[s]=v,1)}}}const G2=ge.define({static:!0});class Qt{constructor(e,n,r,o,i){this.id=e,this.createF=n,this.updateF=r,this.compareF=o,this.spec=i,this.provides=void 0}static define(e){let n=new Qt(bx++,e.create,e.update,e.compare||((r,o)=>r===o),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(G2).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,o)=>{let i=r.values[n],s=this.updateF(i,o);return this.compareF(i,s)?0:(r.values[n]=s,1)},reconfigure:(r,o)=>o.config.address[this.id]!=null?(r.values[n]=o.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,G2.of({field:this,create:e})]}get extension(){return this}}const Os={lowest:4,low:3,default:2,high:1,highest:0};function Ku(t){return e=>new XO(e,t)}const ol={highest:Ku(Os.highest),high:Ku(Os.high),default:Ku(Os.default),low:Ku(Os.low),lowest:Ku(Os.lowest)};class XO{constructor(e,n){this.inner=e,this.prec=n}}class Km{of(e){return new vy(this,e)}reconfigure(e){return Km.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class vy{constructor(e,n){this.compartment=e,this.inner=n}}class Zp{constructor(e,n,r,o,i,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=o,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let o=[],i=Object.create(null),s=new Map;for(let g of f9(e,n,s))g instanceof Qt?o.push(g):(i[g.facet.id]||(i[g.facet.id]=[])).push(g);let u=Object.create(null),c=[],d=[];for(let g of o)u[g.id]=d.length<<1,d.push(v=>g.slot(v));let f=r==null?void 0:r.config.facets;for(let g in i){let v=i[g],x=v[0].facet,k=f&&f[g]||[];if(v.every(E=>E.type==0))if(u[x.id]=c.length<<1|1,kx(k,v))c.push(r.facet(x));else{let E=x.combine(v.map(b=>b.value));c.push(r&&x.compare(E,r.facet(x))?r.facet(x):E)}else{for(let E of v)E.type==0?(u[E.id]=c.length<<1|1,c.push(E.value)):(u[E.id]=d.length<<1,d.push(b=>E.dynamicSlot(b)));u[x.id]=d.length<<1,d.push(E=>d9(E,x,v))}}let p=d.map(g=>g(u));return new Zp(e,s,p,u,c,i)}}function f9(t,e,n){let r=[[],[],[],[],[]],o=new Map;function i(s,u){let c=o.get(s);if(c!=null){if(c<=u)return;let d=r[c].indexOf(s);d>-1&&r[c].splice(d,1),s instanceof vy&&n.delete(s.compartment)}if(o.set(s,u),Array.isArray(s))for(let d of s)i(d,u);else if(s instanceof vy){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(s.compartment)||s.inner;n.set(s.compartment,d),i(d,u)}else if(s instanceof XO)i(s.inner,s.prec);else if(s instanceof Qt)r[u].push(s),s.provides&&i(s.provides,u);else if(s instanceof sp)r[u].push(s),s.facet.extensions&&i(s.facet.extensions,Os.default);else{let d=s.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(d,u)}}return i(t,Os.default),r.reduce((s,u)=>s.concat(u))}function bc(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let o=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|o}function Gp(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const eT=ge.define(),yy=ge.define({combine:t=>t.some(e=>e),static:!0}),tT=ge.define({combine:t=>t.length?t[0]:void 0,static:!0}),nT=ge.define(),rT=ge.define(),oT=ge.define(),iT=ge.define({combine:t=>t.length?t[0]:!1});class uo{constructor(e,n){this.type=e,this.value=n}static define(){return new p9}}class p9{of(e){return new uo(this,e)}}class m9{constructor(e){this.map=e}of(e){return new $e(this,e)}}let $e=class sT{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new sT(this.type,n)}is(e){return this.type==e}static define(e={}){return new m9(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let o of e){let i=o.map(n);i&&r.push(i)}return r}};$e.reconfigure=$e.define();$e.appendConfig=$e.define();class Tt{constructor(e,n,r,o,i,s){this.startState=e,this.changes=n,this.selection=r,this.effects=o,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,r&&qO(r,n.newLength),i.some(u=>u.type==Tt.time)||(this.annotations=i.concat(Tt.time.of(Date.now())))}static create(e,n,r,o,i,s){return new Tt(e,n,r,o,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Tt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Tt.time=uo.define();Tt.userEvent=uo.define();Tt.addToHistory=uo.define();Tt.remote=uo.define();function g9(t,e){let n=[];for(let r=0,o=0;;){let i,s;if(r<t.length&&(o==e.length||e[o]>=t[r]))i=t[r++],s=t[r++];else if(o<e.length)i=e[o++],s=e[o++];else return n;!n.length||n[n.length-1]<i?n.push(i,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function lT(t,e,n){var r;let o,i,s;return n?(o=e.changes,i=At.empty(e.changes.length),s=t.changes.compose(e.changes)):(o=e.changes.map(t.changes),i=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(o)),{changes:s,selection:e.selection?e.selection.map(i):(r=t.selection)===null||r===void 0?void 0:r.map(o),effects:$e.mapEffects(t.effects,o).concat($e.mapEffects(e.effects,i)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function wy(t,e,n){let r=e.selection,o=pa(e.annotations);return e.userEvent&&(o=o.concat(Tt.userEvent.of(e.userEvent))),{changes:e.changes instanceof At?e.changes:At.of(e.changes||[],n,t.facet(tT)),selection:r&&(r instanceof te?r:te.single(r.anchor,r.head)),effects:pa(e.effects),annotations:o,scrollIntoView:!!e.scrollIntoView}}function aT(t,e,n){let r=wy(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let i=1;i<e.length;i++){e[i].filter===!1&&(n=!1);let s=!!e[i].sequential;r=lT(r,wy(t,e[i],s?r.changes.newLength:t.doc.length),s)}let o=Tt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return y9(n?v9(o):o)}function v9(t){let e=t.startState,n=!0;for(let o of e.facet(nT)){let i=o(t);if(i===!1){n=!1;break}Array.isArray(i)&&(n=n===!0?i:g9(n,i))}if(n!==!0){let o,i;if(n===!1)i=t.changes.invertedDesc,o=At.empty(e.doc.length);else{let s=t.changes.filter(n);o=s.changes,i=s.filtered.mapDesc(s.changes).invertedDesc}t=Tt.create(e,o,t.selection&&t.selection.map(i),$e.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(rT);for(let o=r.length-1;o>=0;o--){let i=r[o](t);i instanceof Tt?t=i:Array.isArray(i)&&i.length==1&&i[0]instanceof Tt?t=i[0]:t=aT(e,pa(i),!1)}return t}function y9(t){let e=t.startState,n=e.facet(oT),r=t;for(let o=n.length-1;o>=0;o--){let i=n[o](t);i&&Object.keys(i).length&&(r=lT(r,wy(e,i,t.changes.newLength),!0))}return r==t?t:Tt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const w9=[];function pa(t){return t==null?w9:Array.isArray(t)?t:[t]}var nt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(nt||(nt={}));const x9=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let xy;try{xy=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function b9(t){if(xy)return xy.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||x9.test(n)))return!0}return!1}function k9(t){return e=>{if(!/\S/.test(e))return nt.Space;if(b9(e))return nt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return nt.Word;return nt.Other}}let rt=class Er{constructor(e,n,r,o,i,s){this.config=e,this.doc=n,this.selection=r,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)bc(this,u<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return bc(this,r),Gp(this,r)}update(...e){return aT(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:o}=n;for(let u of e.effects)u.is(Km.reconfigure)?(n&&(o=new Map,n.compartments.forEach((c,d)=>o.set(d,c)),n=null),o.set(u.value.compartment,u.value.extension)):u.is($e.reconfigure)?(n=null,r=u.value):u.is($e.appendConfig)&&(n=null,r=pa(r).concat(u.value));let i;n?i=e.startState.values.slice():(n=Zp.resolve(r,o,this),i=new Er(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,c)=>c.reconfigure(u,this),null).values);let s=e.startState.facet(yy)?e.newSelection:e.newSelection.asSingle();new Er(n,e.newDoc,s,i,(u,c)=>c.update(u,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:te.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),o=this.changes(r.changes),i=[r.range],s=pa(r.effects);for(let u=1;u<n.ranges.length;u++){let c=e(n.ranges[u]),d=this.changes(c.changes),f=d.map(o);for(let g=0;g<u;g++)i[g]=i[g].map(f);let p=o.mapDesc(d,!0);i.push(c.range.map(p)),o=o.compose(f),s=$e.mapEffects(s,f).concat($e.mapEffects(pa(c.effects),p))}return{changes:o,selection:te.create(i,n.mainIndex),effects:s}}changes(e=[]){return e instanceof At?e:At.of(e,this.doc.length,this.facet(Er.lineSeparator))}toText(e){return Fe.of(e.split(this.facet(Er.lineSeparator)||fy))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(bc(this,n),Gp(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let o=e[r];o instanceof Qt&&this.config.address[o.id]!=null&&(n[r]=o.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(r){for(let i in r)if(Object.prototype.hasOwnProperty.call(e,i)){let s=r[i],u=e[i];o.push(s.init(c=>s.spec.fromJSON(u,c)))}}return Er.create({doc:e.doc,selection:te.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}static create(e={}){let n=Zp.resolve(e.extensions||[],new Map),r=e.doc instanceof Fe?e.doc:Fe.of((e.doc||"").split(n.staticFacet(Er.lineSeparator)||fy)),o=e.selection?e.selection instanceof te?e.selection:te.single(e.selection.anchor,e.selection.head):te.single(0);return qO(o,r.length),n.staticFacet(yy)||(o=o.asSingle()),new Er(n,r,o,n.dynamicSlots.map(()=>null),(i,s)=>s.create(i),null)}get tabSize(){return this.facet(Er.tabSize)}get lineBreak(){return this.facet(Er.lineSeparator)||`
`}get readOnly(){return this.facet(iT)}phrase(e,...n){for(let r of this.facet(Er.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,o)=>{if(o=="$")return"$";let i=+(o||1);return!i||i>n.length?r:n[i-1]})),e}languageDataAt(e,n,r=-1){let o=[];for(let i of this.facet(eT))for(let s of i(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&o.push(s[e]);return o}charCategorizer(e){return k9(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:o}=this.doc.lineAt(e),i=this.charCategorizer(e),s=e-r,u=e-r;for(;s>0;){let c=Wt(n,s,!1);if(i(n.slice(c,s))!=nt.Word)break;s=c}for(;u<o;){let c=Wt(n,u);if(i(n.slice(u,c))!=nt.Word)break;u=c}return s==u?null:te.range(s+r,u+r)}};rt.allowMultipleSelections=yy;rt.tabSize=ge.define({combine:t=>t.length?t[0]:4});rt.lineSeparator=tT;rt.readOnly=iT;rt.phrases=ge.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(o=>t[o]==e[o])}});rt.languageData=eT;rt.changeFilter=nT;rt.transactionFilter=rT;rt.transactionExtender=oT;Km.reconfigure=$e.define();function co(t,e,n={}){let r={};for(let o of t)for(let i of Object.keys(o)){let s=o[i],u=r[i];if(u===void 0)r[i]=s;else if(!(u===s||s===void 0))if(Object.hasOwnProperty.call(n,i))r[i]=n[i](u,s);else throw new Error("Config merge conflict for field "+i)}for(let o in e)r[o]===void 0&&(r[o]=e[o]);return r}class Gs{eq(e){return this==e}range(e,n=e){return by.create(e,n,this)}}Gs.prototype.startSide=Gs.prototype.endSide=0;Gs.prototype.point=!1;Gs.prototype.mapMode=cn.TrackDel;let by=class uT{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new uT(e,n,r)}};function ky(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Sx{constructor(e,n,r,o){this.from=e,this.to=n,this.value=r,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,o=0){let i=r?this.to:this.from;for(let s=o,u=i.length;;){if(s==u)return s;let c=s+u>>1,d=i[c]-e||(r?this.value[c].endSide:this.value[c].startSide)-n;if(c==s)return d>=0?s:u;d>=0?u=c:s=c+1}}between(e,n,r,o){for(let i=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,i);i<s;i++)if(o(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,n){let r=[],o=[],i=[],s=-1,u=-1;for(let c=0;c<this.value.length;c++){let d=this.value[c],f=this.from[c]+e,p=this.to[c]+e,g,v;if(f==p){let x=n.mapPos(f,d.startSide,d.mapMode);if(x==null||(g=v=x,d.startSide!=d.endSide&&(v=n.mapPos(f,d.endSide),v<g)))continue}else if(g=n.mapPos(f,d.startSide),v=n.mapPos(p,d.endSide),g>v||g==v&&d.startSide>0&&d.endSide<=0)continue;(v-g||d.endSide-d.startSide)<0||(s<0&&(s=g),d.point&&(u=Math.max(u,v-g)),r.push(d),o.push(g-s),i.push(v-s))}return{mapped:r.length?new Sx(o,i,r,u):null,pos:s}}}let ot=class Co{constructor(e,n,r,o){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=o}static create(e,n,r,o){return new Co(e,n,r,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:o=0,filterTo:i=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(ky)),this.isEmpty)return n.length?Co.of(n):this;let u=new cT(this,null,-1).goto(0),c=0,d=[],f=new Zi;for(;u.value||c<n.length;)if(c<n.length&&(u.from-n[c].from||u.startSide-n[c].value.startSide)>=0){let p=n[c++];f.addInner(p.from,p.to,p.value)||d.push(p)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(u.chunkIndex)<n[c].from)&&(!s||o>this.chunkEnd(u.chunkIndex)||i<this.chunkPos[u.chunkIndex])&&f.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!s||o>u.to||i<u.from||s(u.from,u.to,u.value))&&(f.addInner(u.from,u.to,u.value)||d.push(by.create(u.from,u.to,u.value))),u.next());return f.finishInner(this.nextLayer.isEmpty&&!d.length?Co.empty:this.nextLayer.update({add:d,filter:s,filterFrom:o,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],o=-1;for(let s=0;s<this.chunk.length;s++){let u=this.chunkPos[s],c=this.chunk[s],d=e.touchesRange(u,u+c.length);if(d===!1)o=Math.max(o,c.maxPoint),n.push(c),r.push(e.mapPos(u));else if(d===!0){let{mapped:f,pos:p}=c.map(u,e);f&&(o=Math.max(o,f.maxPoint),n.push(f),r.push(p))}}let i=this.nextLayer.map(e);return n.length==0?i:new Co(r,n,i||Co.empty,o)}between(e,n,r){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],s=this.chunk[o];if(n>=i&&e<=i+s.length&&s.between(i,e-i,n-i,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Xc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Xc.from(e).goto(n)}static compare(e,n,r,o,i=-1){let s=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=i),u=n.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=i),c=q2(s,u,r),d=new Yu(s,c,i),f=new Yu(u,c,i);r.iterGaps((p,g,v)=>J2(d,p,f,g,v,o)),r.empty&&r.length==0&&J2(d,0,f,0,0,o)}static eq(e,n,r=0,o){o==null&&(o=999999999);let i=e.filter(f=>!f.isEmpty&&n.indexOf(f)<0),s=n.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(i.length!=s.length)return!1;if(!i.length)return!0;let u=q2(i,s),c=new Yu(i,u,0).goto(r),d=new Yu(s,u,0).goto(r);for(;;){if(c.to!=d.to||!Sy(c.active,d.active)||c.point&&(!d.point||!c.point.eq(d.point)))return!1;if(c.to>o)return!0;c.next(),d.next()}}static spans(e,n,r,o,i=-1){let s=new Yu(e,null,i).goto(n),u=n,c=s.openStart;for(;;){let d=Math.min(s.to,r);if(s.point){let f=s.activeForPoint(s.to),p=s.pointFrom<n?f.length+1:s.point.startSide<0?f.length:Math.min(f.length,c);o.point(u,d,s.point,f,p,s.pointRank),c=Math.min(s.openEnd(d),f.length)}else d>u&&(o.span(u,d,s.active,c),c=s.openEnd(d));if(s.to>r)return c+(s.point&&s.to>r?1:0);u=s.to,s.next()}}static of(e,n=!1){let r=new Zi;for(let o of e instanceof by?[e]:n?S9(e):e)r.add(o.from,o.to,o.value);return r.finish()}static join(e){if(!e.length)return Co.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let o=e[r];o!=Co.empty;o=o.nextLayer)n=new Co(o.chunkPos,o.chunk,n,Math.max(o.maxPoint,n.maxPoint));return n}};ot.empty=new ot([],[],null,-1);function S9(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(ky(e,r)>0)return t.slice().sort(ky);e=r}return t}ot.empty.nextLayer=ot.empty;class Zi{finishChunk(e){this.chunks.push(new Sx(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Zi)).add(e,n,r)}addInner(e,n,r){let o=e-this.lastTo||r.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return o<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(ot.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=ot.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function q2(t,e,n){let r=new Map;for(let i of t)for(let s=0;s<i.chunk.length;s++)i.chunk[s].maxPoint<=0&&r.set(i.chunk[s],i.chunkPos[s]);let o=new Set;for(let i of e)for(let s=0;s<i.chunk.length;s++){let u=r.get(i.chunk[s]);u!=null&&(n?n.mapPos(u):u)==i.chunkPos[s]&&!(n!=null&&n.touchesRange(u,u+i.chunk[s].length))&&o.add(i.chunk[s])}return o}class cT{constructor(e,n,r,o=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<e||o.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Xc{constructor(e){this.heap=e}static from(e,n=null,r=-1){let o=[];for(let i=0;i<e.length;i++)for(let s=e[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&o.push(new cT(s,n,r,i));return o.length==1?o[0]:new Xc(o)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)L1(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)L1(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),L1(this.heap,0)}}}function L1(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let o=t[r];if(r+1<t.length&&o.compare(t[r+1])>=0&&(o=t[r+1],r++),n.compare(o)<0)break;t[r]=n,t[e]=o,e=r}}class Yu{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Xc.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){bf(this.active,e),bf(this.activeTo,e),bf(this.activeRank,e),this.minActive=X2(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:o,rank:i}=this.cursor;for(;n<this.activeRank.length&&(i-this.activeRank[n]||o-this.activeTo[n])>0;)n++;kf(this.active,n,r),kf(this.activeTo,n,o),kf(this.activeRank,n,i),e&&kf(e,n,this.cursor.from),this.minActive=X2(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),r&&bf(r,o)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let o=r.length-1;o>=0&&r[o]<e;o--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function J2(t,e,n,r,o,i){t.goto(e),n.goto(r);let s=r+o,u=r,c=r-e;for(;;){let d=t.to+c-n.to||t.endSide-n.endSide,f=d<0?t.to+c:n.to,p=Math.min(f,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Sy(t.activeForPoint(t.to),n.activeForPoint(n.to))||i.comparePoint(u,p,t.point,n.point):p>u&&!Sy(t.active,n.active)&&i.compareRange(u,p,t.active,n.active),f>s)break;u=f,d<=0&&t.next(),d>=0&&n.next()}}function Sy(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function bf(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function kf(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function X2(t,e){let n=-1,r=1e9;for(let o=0;o<e.length;o++)(e[o]-r||t[o].endSide-t[n].endSide)<0&&(n=o,r=e[o]);return n}function Wa(t,e,n=t.length){let r=0;for(let o=0;o<n;)t.charCodeAt(o)==9?(r+=e-r%e,o++):(r++,o=Wt(t,o));return r}function Cy(t,e,n,r){for(let o=0,i=0;;){if(i>=e)return o;if(o==t.length)break;i+=t.charCodeAt(o)==9?n-i%n:1,o=Wt(t,o)}return r===!0?-1:t.length}const Ey="",eE=typeof Symbol>"u"?"__"+Ey:Symbol.for(Ey),My=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Gi{constructor(e,n){this.rules=[];let{finish:r}=n||{};function o(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function i(s,u,c,d){let f=[],p=/^@(\w+)\b/.exec(s[0]),g=p&&p[1]=="keyframes";if(p&&u==null)return c.push(s[0]+";");for(let v in u){let x=u[v];if(/&/.test(v))i(v.split(/,\s*/).map(k=>s.map(E=>k.replace(/&/,E))).reduce((k,E)=>k.concat(E)),x,c);else if(x&&typeof x=="object"){if(!p)throw new RangeError("The value of a property ("+v+") should be a primitive value.");i(o(v),x,f,g)}else x!=null&&f.push(v.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+x+";")}(f.length||g)&&c.push((r&&!p&&!d?s.map(r):s).join(", ")+" {"+f.join(" ")+"}")}for(let s in e)i(o(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=tE[eE]||1;return tE[eE]=e+1,Ey+e.toString(36)}static mount(e,n,r){let o=e[My],i=r&&r.nonce;o?i&&o.setNonce(i):o=new C9(e,i),o.mount(Array.isArray(n)?n:[n],e)}}let nE=new Map;class C9{constructor(e,n){let r=e.ownerDocument||e,o=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&o.CSSStyleSheet){let i=nE.get(r);if(i)return e[My]=i;this.sheet=new o.CSSStyleSheet,nE.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[My]=this}mount(e,n){let r=this.sheet,o=0,i=0;for(let s=0;s<e.length;s++){let u=e[s],c=this.modules.indexOf(u);if(c<i&&c>-1&&(this.modules.splice(c,1),i--,c=-1),c==-1){if(this.modules.splice(i++,0,u),r)for(let d=0;d<u.rules.length;d++)r.insertRule(u.rules[d],o++)}else{for(;i<c;)o+=this.modules[i++].rules.length;o+=u.rules.length,i++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let c=0;c<this.modules.length;c++)s+=this.modules[c].getRules()+`
`;this.styleTag.textContent=s;let u=n.head||n;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var qi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},eh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},E9=typeof navigator<"u"&&/Mac/.test(navigator.platform),M9=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vt=0;Vt<10;Vt++)qi[48+Vt]=qi[96+Vt]=String(Vt);for(var Vt=1;Vt<=24;Vt++)qi[Vt+111]="F"+Vt;for(var Vt=65;Vt<=90;Vt++)qi[Vt]=String.fromCharCode(Vt+32),eh[Vt]=String.fromCharCode(Vt);for(var R1 in qi)eh.hasOwnProperty(R1)||(eh[R1]=qi[R1]);function N9(t){var e=E9&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||M9&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?eh:qi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function th(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Ny(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function lp(t,e){if(!e.anchorNode)return!1;try{return Ny(t,e.anchorNode)}catch{return!1}}function La(t){return t.nodeType==3?Js(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function kc(t,e,n,r){return n?rE(t,e,n,r,-1)||rE(t,e,n,r,1):!1}function qs(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function qp(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function rE(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:lo(t))){if(t.nodeName=="DIV")return!1;let i=t.parentNode;if(!i||i.nodeType!=1)return!1;e=qs(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=o<0?lo(t):0}else return!1}}function lo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ch(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function A9(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function hT(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function O9(t,e,n,r,o,i,s,u){let c=t.ownerDocument,d=c.defaultView||window;for(let f=t,p=!1;f&&!p;)if(f.nodeType==1){let g,v=f==c.body,x=1,k=1;if(v)g=A9(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(p=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let S=f.getBoundingClientRect();({scaleX:x,scaleY:k}=hT(f,S)),g={left:S.left,right:S.left+f.clientWidth*x,top:S.top,bottom:S.top+f.clientHeight*k}}let E=0,b=0;if(o=="nearest")e.top<g.top?(b=-(g.top-e.top+s),n>0&&e.bottom>g.bottom+b&&(b=e.bottom-g.bottom+b+s)):e.bottom>g.bottom&&(b=e.bottom-g.bottom+s,n<0&&e.top-b<g.top&&(b=-(g.top+b-e.top+s)));else{let S=e.bottom-e.top,C=g.bottom-g.top;b=(o=="center"&&S<=C?e.top+S/2-C/2:o=="start"||o=="center"&&n<0?e.top-s:e.bottom-C+s)-g.top}if(r=="nearest"?e.left<g.left?(E=-(g.left-e.left+i),n>0&&e.right>g.right+E&&(E=e.right-g.right+E+i)):e.right>g.right&&(E=e.right-g.right+i,n<0&&e.left<g.left+E&&(E=-(g.left+E-e.left+i))):E=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==u?e.left-i:e.right-(g.right-g.left)+i)-g.left,E||b)if(v)d.scrollBy(E,b);else{let S=0,C=0;if(b){let M=f.scrollTop;f.scrollTop+=b/k,C=(f.scrollTop-M)*k}if(E){let M=f.scrollLeft;f.scrollLeft+=E/x,S=(f.scrollLeft-M)*x}e={left:e.left-S,top:e.top-C,right:e.right-S,bottom:e.bottom-C},S&&Math.abs(S-E)<1&&(r="nearest"),C&&Math.abs(C-b)<1&&(o="nearest")}if(v)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function T9(t){let e=t.ownerDocument,n,r;for(let o=t.parentNode;o&&!(o==e.body||n&&r);)if(o.nodeType==1)!r&&o.scrollHeight>o.clientHeight&&(r=o),!n&&o.scrollWidth>o.clientWidth&&(n=o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;return{x:n,y:r}}class P9{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?lo(n):0),r,Math.min(e.focusOffset,r?lo(r):0))}set(e,n,r,o){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=o}}let Bl=null;function dT(t){if(t.setActive)return t.setActive();if(Bl)return t.focus(Bl);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Bl==null?{get preventScroll(){return Bl={preventScroll:!0},!0}}:void 0),!Bl){Bl=!1;for(let n=0;n<e.length;){let r=e[n++],o=e[n++],i=e[n++];r.scrollTop!=o&&(r.scrollTop=o),r.scrollLeft!=i&&(r.scrollLeft=i)}}}let oE;function Js(t,e,n=e){let r=oE||(oE=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function ma(t,e,n,r){let o={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=r);let i=new KeyboardEvent("keydown",o);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",o);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function $9(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function fT(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function L9(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,lo(n));;)if(r){if(n.nodeType!=1)return!1;let o=n.childNodes[r-1];o.contentEditable=="false"?r--:(n=o,r=lo(n))}else{if(n==t)return!0;r=qs(n),n=n.parentNode}}function pT(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function mT(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=lo(n)}else if(n.parentNode&&!qp(n))r=qs(n),n=n.parentNode;else return null}}function gT(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!qp(n))r=qs(n)+1,n=n.parentNode;else return null}}class rn{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new rn(e.parentNode,qs(e),n)}static after(e,n){return new rn(e.parentNode,qs(e)+1,n)}}const Cx=[];class We{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,o=null,i;for(let s of this.children){if(s.flags&7){if(!s.dom&&(i=o?o.nextSibling:r.firstChild)){let u=We.get(i);(!u||!u.parent&&u.canReuseDOM(s))&&s.reuseDOM(i)}s.sync(e,n),s.flags&=-8}if(i=o?o.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&i!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;i&&i!=s.dom;)i=iE(i);else r.insertBefore(s.dom,i);o=s.dom}for(i=o?o.nextSibling:r.firstChild,i&&n&&n.node==r&&(n.written=!0);i;)i=iE(i)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let o=lo(e)==0?0:n==0?-1:1;for(;;){let i=e.parentNode;if(i==this.dom)break;o==0&&i.firstChild!=i.lastChild&&(e==i.firstChild?o=-1:o=1),e=i}o<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!We.get(r);)r=r.nextSibling;if(!r)return this.length;for(let o=0,i=0;;o++){let s=this.children[o];if(s.dom==r)return i;i+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let o=-1,i=-1,s=-1,u=-1;for(let c=0,d=r,f=r;c<this.children.length;c++){let p=this.children[c],g=d+p.length;if(d<e&&g>n)return p.domBoundsAround(e,n,d);if(g>=e&&o==-1&&(o=c,i=d),d>n&&p.dom.parentNode==this.dom){s=c,u=f;break}f=g,d=g+p.breakAfter}return{from:i,to:u<0?r+this.length:u,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=Cx){this.markDirty();for(let o=e;o<n;o++){let i=this.children[o];i.parent==this&&r.indexOf(i)<0&&i.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let o=0;o<r.length;o++)r[o].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new vT(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,o,i,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}We.prototype.breakAfter=0;function iE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class vT{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function yT(t,e,n,r,o,i,s,u,c){let{children:d}=t,f=d.length?d[e]:null,p=i.length?i[i.length-1]:null,g=p?p.breakAfter:s;if(!(e==r&&f&&!s&&!g&&i.length<2&&f.merge(n,o,i.length?p:null,n==0,u,c))){if(r<d.length){let v=d[r];v&&(o<v.length||v.breakAfter&&p!=null&&p.breakAfter)?(e==r&&(v=v.split(o),o=0),!g&&p&&v.merge(0,o,p,!0,0,c)?i[i.length-1]=v:((o||v.children.length&&!v.children[0].length)&&v.merge(0,o,null,!1,0,c),i.push(v))):v!=null&&v.breakAfter&&(p?p.breakAfter=1:s=1),r++}for(f&&(f.breakAfter=s,n>0&&(!s&&i.length&&f.merge(n,f.length,i[0],!1,u,0)?f.breakAfter=i.shift().breakAfter:(n<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(n,f.length,null,!1,u,0),e++));e<r&&i.length;)if(d[r-1].become(i[i.length-1]))r--,i.pop(),c=i.length?0:u;else if(d[e].become(i[0]))e++,i.shift(),u=i.length?0:c;else break;!i.length&&e&&r<d.length&&!d[e-1].breakAfter&&d[r].merge(0,0,d[e-1],!1,u,c)&&e--,(e<r||i.length)&&t.replaceChildren(e,r,i)}}function wT(t,e,n,r,o,i){let s=t.childCursor(),{i:u,off:c}=s.findPos(n,1),{i:d,off:f}=s.findPos(e,-1),p=e-n;for(let g of r)p+=g.length;t.length+=p,yT(t,d,f,u,c,r,0,o,i)}let Cn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Ay=typeof document<"u"?document:{documentElement:{style:{}}};const Oy=/Edge\/(\d+)/.exec(Cn.userAgent),xT=/MSIE \d/.test(Cn.userAgent),Ty=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cn.userAgent),Ym=!!(xT||Ty||Oy),sE=!Ym&&/gecko\/(\d+)/i.test(Cn.userAgent),z1=!Ym&&/Chrome\/(\d+)/.exec(Cn.userAgent),lE="webkitFontSmoothing"in Ay.documentElement.style,bT=!Ym&&/Apple Computer/.test(Cn.vendor),aE=bT&&(/Mobile\/\w+/.test(Cn.userAgent)||Cn.maxTouchPoints>2);var me={mac:aE||/Mac/.test(Cn.platform),windows:/Win/.test(Cn.platform),linux:/Linux|X11/.test(Cn.platform),ie:Ym,ie_version:xT?Ay.documentMode||6:Ty?+Ty[1]:Oy?+Oy[1]:0,gecko:sE,gecko_version:sE?+(/Firefox\/(\d+)/.exec(Cn.userAgent)||[0,0])[1]:0,chrome:!!z1,chrome_version:z1?+z1[1]:0,ios:aE,android:/Android\b/.test(Cn.userAgent),webkit:lE,safari:bT,webkit_version:lE?+(/\bAppleWebKit\/(\d+)/.exec(Cn.userAgent)||[0,0])[1]:0,tabSize:Ay.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const R9=256;class _r extends We{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof _r)||this.length-(n-e)+r.length>R9||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new _r(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new rn(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return z9(this.dom,e,n)}}class Io extends We{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let o of n)o.setParent(this)}setAttrs(e){if(fT(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,o,i,s){return r&&(!(r instanceof Io&&r.mark.eq(this.mark))||e&&i<=0||n<this.length&&s<=0)?!1:(wT(this,e,n,r?r.children.slice():[],i-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,o=-1,i=0;for(let u of this.children){let c=r+u.length;c>e&&n.push(r<e?u.split(e-r):u),o<0&&r>=e&&(o=i),r=c,i++}let s=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new Io(this.mark,n,s)}domAtPos(e){return kT(this,e)}coordsAt(e,n){return CT(this,e,n)}}function z9(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let o=e,i=e,s=0;e==0&&n<0||e==r&&n>=0?me.chrome||me.gecko||(e?(o--,s=1):i<r&&(i++,s=-1)):n<0?o--:i<r&&i++;let u=Js(t,o,i).getClientRects();if(!u.length)return null;let c=u[(s?s<0:n>=0)?0:u.length-1];return me.safari&&!s&&c.width==0&&(c=Array.prototype.find.call(u,d=>d.width)||c),s?Ch(c,s<0):c||null}class $i extends We{static create(e,n,r){return new $i(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=$i.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,o,i,s){return r&&(!(r instanceof $i)||!this.widget.compare(r.widget)||e>0&&i<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof $i&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Fe.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,o=this.posAtStart;return r?r.slice(o,o+this.length):Fe.empty}domAtPos(e){return(this.length?e==0:this.side>0)?rn.before(this.dom):rn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let o=this.dom.getClientRects(),i=null;if(!o.length)return null;let s=this.side?this.side<0:e>0;for(let u=s?o.length-1:0;i=o[u],!(e>0?u==0:u==o.length-1||i.top<i.bottom);u+=s?-1:1);return Ch(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ra extends We{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ra&&e.side==this.side}split(){return new Ra(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?rn.before(this.dom):rn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Fe.empty}get isHidden(){return!0}}_r.prototype.children=$i.prototype.children=Ra.prototype.children=Cx;function kT(t,e){let n=t.dom,{children:r}=t,o=0;for(let i=0;o<r.length;o++){let s=r[o],u=i+s.length;if(!(u==i&&s.getSide()<=0)){if(e>i&&e<u&&s.dom.parentNode==n)return s.domAtPos(e-i);if(e<=i)break;i=u}}for(let i=o;i>0;i--){let s=r[i-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let i=o;i<r.length;i++){let s=r[i];if(s.dom.parentNode==n)return s.domAtPos(0)}return new rn(n,0)}function ST(t,e,n){let r,{children:o}=t;n>0&&e instanceof Io&&o.length&&(r=o[o.length-1])instanceof Io&&r.mark.eq(e.mark)?ST(r,e.children[0],n-1):(o.push(e),e.setParent(t)),t.length+=e.length}function CT(t,e,n){let r=null,o=-1,i=null,s=-1;function u(d,f){for(let p=0,g=0;p<d.children.length&&g<=f;p++){let v=d.children[p],x=g+v.length;x>=f&&(v.children.length?u(v,f-g):(!i||i.isHidden&&n>0)&&(x>f||g==x&&v.getSide()>0)?(i=v,s=f-g):(g<f||g==x&&v.getSide()<0&&!v.isHidden)&&(r=v,o=f-g)),g=x}}u(t,e);let c=(n<0?r:i)||r||i;return c?c.coordsAt(Math.max(0,c==r?o:s),n):_9(t)}function _9(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=La(e);return n[n.length-1]||null}function Py(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const uE=Object.create(null);function Jp(t,e,n){if(t==e)return!0;t||(t=uE),e||(e=uE);let r=Object.keys(t),o=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(let i of r)if(i!=n&&(o.indexOf(i)==-1||t[i]!==e[i]))return!1;return!0}function $y(t,e,n){let r=!1;if(e)for(let o in e)n&&o in n||(r=!0,o=="style"?t.style.cssText="":t.removeAttribute(o));if(n)for(let o in n)e&&e[o]==n[o]||(r=!0,o=="style"?t.style.cssText=n[o]:t.setAttribute(o,n[o]));return r}function D9(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Ho{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var dn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(dn||(dn={}));let Me=class extends Gs{constructor(e,n,r,o){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=o}get heightRelevant(){return!1}static mark(e){return new Eh(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Ji(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,o;if(e.isBlockGap)r=-5e8,o=4e8;else{let{start:i,end:s}=ET(e,n);r=(i?n?-3e8:-1:5e8)-1,o=(s?n?2e8:1:-6e8)+1}return new Ji(e,r,o,n,e.widget||null,!0)}static line(e){return new Mh(e)}static set(e,n=!1){return ot.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Me.none=ot.empty;class Eh extends Me{constructor(e){let{start:n,end:r}=ET(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Eh&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Jp(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Eh.prototype.point=!1;class Mh extends Me{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Mh&&this.spec.class==e.spec.class&&Jp(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Mh.prototype.mapMode=cn.TrackBefore;Mh.prototype.point=!0;class Ji extends Me{constructor(e,n,r,o,i,s){super(n,r,i,e),this.block=o,this.isReplace=s,this.mapMode=o?n<=0?cn.TrackBefore:cn.TrackAfter:cn.TrackDel}get type(){return this.startSide!=this.endSide?dn.WidgetRange:this.startSide<=0?dn.WidgetBefore:dn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ji&&I9(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Ji.prototype.point=!0;function ET(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function I9(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ly(t,e,n,r=0){let o=n.length-1;o>=0&&n[o]+r>=t?n[o]=Math.max(n[o],e):n.push(t,e)}class kt extends We{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,o,i,s){if(r){if(!(r instanceof kt))return!1;this.dom||r.transferDOM(this)}return o&&this.setDeco(r?r.attrs:null),wT(this,e,n,r?r.children.slice():[],i,s),!0}split(e){let n=new kt;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:o}=this.childPos(e);o&&(n.append(this.children[r].split(o),0),this.children[r].merge(o,this.children[r].length,null,!1,0,0),r++);for(let i=r;i<this.children.length;i++)n.append(this.children[i],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Jp(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){ST(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=Py(n,this.attrs||{})),r&&(this.attrs=Py({class:r},this.attrs||{}))}domAtPos(e){return kT(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(fT(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&($y(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let o=this.dom.lastChild;for(;o&&We.get(o)instanceof Io;)o=o.lastChild;if(!o||!this.length||o.nodeName!="BR"&&((r=We.get(o))===null||r===void 0?void 0:r.isEditable)==!1&&(!me.ios||!this.children.some(i=>i instanceof _r))){let i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof _r)||/[^ -~]/.test(r.text))return null;let o=La(r.dom);if(o.length!=1)return null;e+=o[0].width,n=o[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=CT(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:o}=this.parent.view.viewState,i=r.bottom-r.top;if(Math.abs(i-o.lineHeight)<2&&o.textHeight<i){let s=(i-o.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof kt&&this.children.length==0&&e.children.length==0&&Jp(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,o=0;r<e.children.length;r++){let i=e.children[r],s=o+i.length;if(s>=n){if(i instanceof kt)return i;if(s>n)break}o=s+i.breakAfter}return null}}class $o extends We{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,o,i,s){return r&&(!(r instanceof $o)||!this.widget.compare(r.widget)||e>0&&i<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?rn.before(this.dom):rn.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new $o(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return Cx}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Fe.empty}domBoundsAround(){return null}become(e){return e instanceof $o&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)||(this.widget instanceof Ry?null:Ch(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class Ry extends Ho{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Sc{constructor(e,n,r,o){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof $o&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new kt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Sf(new Ra(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof $o)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=i,this.textOff=0}let o=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Sf(new _r(this.text.slice(this.textOff,this.textOff+o)),n),r),this.atCursorPos=!0,this.textOff+=o,e-=o,r=0}}span(e,n,r,o){this.buildText(n-e,r,o),this.pos=n,this.openStart<0&&(this.openStart=o)}point(e,n,r,o,i,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Ji){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=n-e;if(r instanceof Ji)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new $o(r.widget||za.block,u,r));else{let c=$i.create(r.widget||za.inline,u,u?0:r.startSide),d=this.atCursorPos&&!c.isEditable&&i<=o.length&&(e<n||r.startSide>0),f=!c.isEditable&&(e<n||i>o.length||r.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!d&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(o),d&&(p.append(Sf(new Ra(1),o),i),i=o.length+Math.max(0,i-o.length)),p.append(Sf(c,o),i),this.atCursorPos=f,this.pendingBuffer=f?e<n||i>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=i)}static build(e,n,r,o,i){let s=new Sc(e,n,r,i);return s.openEnd=ot.spans(o,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Sf(t,e){for(let n of e)t=new Io(n,[t],t.length);return t}class za extends Ho{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}za.inline=new za("span");za.block=new za("div");var Xe=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Xe||(Xe={}));const Xs=Xe.LTR,Ex=Xe.RTL;function MT(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const B9=MT("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),F9=MT("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),zy=Object.create(null),Yr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);zy[e]=n,zy[n]=-e}function NT(t){return t<=247?B9[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?F9[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const V9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Li{get dir(){return this.level%2?Ex:Xs}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,o){let i=-1;for(let s=0;s<e.length;s++){let u=e[s];if(u.from<=n&&u.to>=n){if(u.level==r)return s;(i<0||(o!=0?o<0?u.from<n:u.to>n:e[i].level>u.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function AT(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(r.from!=o.from||r.to!=o.to||r.direction!=o.direction||!AT(r.inner,o.inner))return!1}return!0}const He=[];function j9(t,e,n,r,o){for(let i=0;i<=r.length;i++){let s=i?r[i-1].to:e,u=i<r.length?r[i].from:n,c=i?256:o;for(let d=s,f=c,p=c;d<u;d++){let g=NT(t.charCodeAt(d));g==512?g=f:g==8&&p==4&&(g=16),He[d]=g==4?2:g,g&7&&(p=g),f=g}for(let d=s,f=c,p=c;d<u;d++){let g=He[d];if(g==128)d<u-1&&f==He[d+1]&&f&24?g=He[d]=f:He[d]=256;else if(g==64){let v=d+1;for(;v<u&&He[v]==64;)v++;let x=d&&f==8||v<n&&He[v]==8?p==1?1:8:256;for(let k=d;k<v;k++)He[k]=x;d=v-1}else g==8&&p==1&&(He[d]=1);f=g,g&7&&(p=g)}}}function H9(t,e,n,r,o){let i=o==1?2:1;for(let s=0,u=0,c=0;s<=r.length;s++){let d=s?r[s-1].to:e,f=s<r.length?r[s].from:n;for(let p=d,g,v,x;p<f;p++)if(v=zy[g=t.charCodeAt(p)])if(v<0){for(let k=u-3;k>=0;k-=3)if(Yr[k+1]==-v){let E=Yr[k+2],b=E&2?o:E&4?E&1?i:o:0;b&&(He[p]=He[Yr[k]]=b),u=k;break}}else{if(Yr.length==189)break;Yr[u++]=p,Yr[u++]=g,Yr[u++]=c}else if((x=He[p])==2||x==1){let k=x==o;c=k?0:1;for(let E=u-3;E>=0;E-=3){let b=Yr[E+2];if(b&2)break;if(k)Yr[E+2]|=2;else{if(b&4)break;Yr[E+2]|=4}}}}}function W9(t,e,n,r){for(let o=0,i=r;o<=n.length;o++){let s=o?n[o-1].to:t,u=o<n.length?n[o].from:e;for(let c=s;c<u;){let d=He[c];if(d==256){let f=c+1;for(;;)if(f==u){if(o==n.length)break;f=n[o++].to,u=o<n.length?n[o].from:e}else if(He[f]==256)f++;else break;let p=i==1,g=(f<e?He[f]:r)==1,v=p==g?p?1:2:r;for(let x=f,k=o,E=k?n[k-1].to:t;x>c;)x==E&&(x=n[--k].from,E=k?n[k-1].to:t),He[--x]=v;c=f}else i=d,c++}}}function _y(t,e,n,r,o,i,s){let u=r%2?2:1;if(r%2==o%2)for(let c=e,d=0;c<n;){let f=!0,p=!1;if(d==i.length||c<i[d].from){let k=He[c];k!=u&&(f=!1,p=k==16)}let g=!f&&u==1?[]:null,v=f?r:r+1,x=c;e:for(;;)if(d<i.length&&x==i[d].from){if(p)break e;let k=i[d];if(!f)for(let E=k.to,b=d+1;;){if(E==n)break e;if(b<i.length&&i[b].from==E)E=i[b++].to;else{if(He[E]==u)break e;break}}if(d++,g)g.push(k);else{k.from>c&&s.push(new Li(c,k.from,v));let E=k.direction==Xs!=!(v%2);Dy(t,E?r+1:r,o,k.inner,k.from,k.to,s),c=k.to}x=k.to}else{if(x==n||(f?He[x]!=u:He[x]==u))break;x++}g?_y(t,c,x,r+1,o,g,s):c<x&&s.push(new Li(c,x,v)),c=x}else for(let c=n,d=i.length;c>e;){let f=!0,p=!1;if(!d||c>i[d-1].to){let k=He[c-1];k!=u&&(f=!1,p=k==16)}let g=!f&&u==1?[]:null,v=f?r:r+1,x=c;e:for(;;)if(d&&x==i[d-1].to){if(p)break e;let k=i[--d];if(!f)for(let E=k.from,b=d;;){if(E==e)break e;if(b&&i[b-1].to==E)E=i[--b].from;else{if(He[E-1]==u)break e;break}}if(g)g.push(k);else{k.to<c&&s.push(new Li(k.to,c,v));let E=k.direction==Xs!=!(v%2);Dy(t,E?r+1:r,o,k.inner,k.from,k.to,s),c=k.from}x=k.from}else{if(x==e||(f?He[x-1]!=u:He[x-1]==u))break;x--}g?_y(t,x,c,r+1,o,g,s):x<c&&s.push(new Li(x,c,v)),c=x}}function Dy(t,e,n,r,o,i,s){let u=e%2?2:1;j9(t,o,i,r,u),H9(t,o,i,r,u),W9(o,i,r,u),_y(t,o,i,e,n,r,s)}function U9(t,e,n){if(!t)return[new Li(0,0,e==Ex?1:0)];if(e==Xs&&!n.length&&!V9.test(t))return OT(t.length);if(n.length)for(;t.length>He.length;)He[He.length]=256;let r=[],o=e==Xs?0:1;return Dy(t,o,o,n,0,t.length,r),r}function OT(t){return[new Li(0,t,0)]}let TT="";function K9(t,e,n,r,o){var i;let s=r.head-t.from,u=Li.find(e,s,(i=r.bidiLevel)!==null&&i!==void 0?i:-1,r.assoc),c=e[u],d=c.side(o,n);if(s==d){let g=u+=o?1:-1;if(g<0||g>=e.length)return null;c=e[u=g],s=c.side(!o,n),d=c.side(o,n)}let f=Wt(t.text,s,c.forward(o,n));(f<c.from||f>c.to)&&(f=d),TT=t.text.slice(Math.min(s,f),Math.max(s,f));let p=u==(o?e.length-1:0)?null:e[u+(o?1:-1)];return p&&f==d&&p.level+(o?0:1)<c.level?te.cursor(p.side(!o,n)+t.from,p.forward(o,n)?1:-1,p.level):te.cursor(f+t.from,c.forward(o,n)?-1:1,c.level)}function Y9(t,e,n){for(let r=e;r<n;r++){let o=NT(t.charCodeAt(r));if(o==1)return Xs;if(o==2||o==4)return Ex}return Xs}const PT=ge.define(),$T=ge.define(),LT=ge.define(),RT=ge.define(),Iy=ge.define(),zT=ge.define(),_T=ge.define(),Mx=ge.define(),Nx=ge.define(),DT=ge.define({combine:t=>t.some(e=>e)}),IT=ge.define({combine:t=>t.some(e=>e)}),BT=ge.define();class ga{constructor(e,n="nearest",r="nearest",o=5,i=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=o,this.xMargin=i,this.isSnapshot=s}map(e){return e.empty?this:new ga(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ga(te.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Cf=$e.define({map:(t,e)=>t.map(e)}),FT=$e.define();function An(t,e,n){let r=t.facet(RT);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Ni=ge.define({combine:t=>t.length?t[0]:!0});let Q9=0;const oc=ge.define();class xt{constructor(e,n,r,o,i){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=o,this.extension=i(this)}static define(e,n){const{eventHandlers:r,eventObservers:o,provide:i,decorations:s}=n||{};return new xt(Q9++,e,r,o,u=>{let c=[oc.of(u)];return s&&c.push(nh.of(d=>{let f=d.plugin(u);return f?s(f):Me.none})),i&&c.push(i(u)),c})}static fromClass(e,n){return xt.define(r=>new e(r),n)}}class _1{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(An(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){An(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){An(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const VT=ge.define(),Ax=ge.define(),nh=ge.define(),jT=ge.define(),Ox=ge.define(),HT=ge.define();function cE(t,e){let n=t.state.facet(HT);if(!n.length)return n;let r=n.map(i=>i instanceof Function?i(t):i),o=[];return ot.spans(r,e.from,e.to,{point(){},span(i,s,u,c){let d=i-e.from,f=s-e.from,p=o;for(let g=u.length-1;g>=0;g--,c--){let v=u[g].spec.bidiIsolate,x;if(v==null&&(v=Y9(e.text,d,f)),c>0&&p.length&&(x=p[p.length-1]).to==d&&x.direction==v)x.to=f,p=x.inner;else{let k={from:d,to:f,direction:v,inner:[]};p.push(k),p=k.inner}}}}),o}const WT=ge.define();function UT(t){let e=0,n=0,r=0,o=0;for(let i of t.state.facet(WT)){let s=i(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(o=Math.max(o,s.bottom)))}return{left:e,right:n,top:r,bottom:o}}const ic=ge.define();class hr{constructor(e,n,r,o){this.fromA=e,this.toA=n,this.fromB=r,this.toB=o}join(e){return new hr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let o=e[n-1];if(!(o.fromA>r.toA)){if(o.toA<r.fromA)break;r=r.join(o),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let o=0,i=0,s=0,u=0;;o++){let c=o==e.length?null:e[o],d=s-u,f=c?c.fromB:1e9;for(;i<n.length&&n[i]<f;){let p=n[i],g=n[i+1],v=Math.max(u,p),x=Math.min(f,g);if(v<=x&&new hr(v+d,x+d,v,x).addToSet(r),g>f)break;i+=2}if(!c)return r;new hr(c.fromA,c.toA,c.fromB,c.toB).addToSet(r),s=c.toA,u=c.toB}}}class Xp{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=At.empty(this.startState.doc.length);for(let i of r)this.changes=this.changes.compose(i.changes);let o=[];this.changes.iterChangedRanges((i,s,u,c)=>o.push(new hr(i,s,u,c))),this.changedRanges=o}static create(e,n,r){return new Xp(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class hE extends We{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Me.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new kt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new hr(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:f})=>f<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?o=this.domChanged.newSel.head:!t7(e.changes,this.hasComposition)&&!e.selectionSet&&(o=e.state.selection.main.head));let i=o>-1?G9(this.view,e.changes,o):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:f}=this.hasComposition;r=new hr(d,f,e.changes.mapPos(d,-1),e.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(me.ie||me.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,u=this.updateDeco(),c=X9(s,u,e.changes);return r=hr.extendWithRanges(r,c),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:o}=this.view;o.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=me.chrome||me.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||o.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof $o&&s.widget instanceof Ry&&i.push(s.dom);o.updateGaps(i)}updateChildren(e,n,r){let o=r?r.range.addToSet(e.slice()):e,i=this.childCursor(n);for(let s=o.length-1;;s--){let u=s>=0?o[s]:null;if(!u)break;let{fromA:c,toA:d,fromB:f,toB:p}=u,g,v,x,k;if(r&&r.range.fromB<p&&r.range.toB>f){let M=Sc.build(this.view.state.doc,f,r.range.fromB,this.decorations,this.dynamicDecorationMap),A=Sc.build(this.view.state.doc,r.range.toB,p,this.decorations,this.dynamicDecorationMap);v=M.breakAtStart,x=M.openStart,k=A.openEnd;let $=this.compositionView(r);A.breakAtStart?$.breakAfter=1:A.content.length&&$.merge($.length,$.length,A.content[0],!1,A.openStart,0)&&($.breakAfter=A.content[0].breakAfter,A.content.shift()),M.content.length&&$.merge(0,0,M.content[M.content.length-1],!0,0,M.openEnd)&&M.content.pop(),g=M.content.concat($).concat(A.content)}else({content:g,breakAtStart:v,openStart:x,openEnd:k}=Sc.build(this.view.state.doc,f,p,this.decorations,this.dynamicDecorationMap));let{i:E,off:b}=i.findPos(d,1),{i:S,off:C}=i.findPos(c,-1);yT(this,S,C,E,b,g,v,x,k)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(FT)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new _r(e.text.nodeValue);n.flags|=8;for(let{deco:o}of e.marks)n=new Io(o,[n],n.length);let r=new kt;return r.append(n,0),r}fixCompositionDOM(e){let n=(i,s)=>{s.flags|=8|(s.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(s);let u=We.get(i);u&&u!=s&&(u.dom=null),s.setDOM(i)},r=this.childPos(e.range.fromB,1),o=this.children[r.i];n(e.line,o);for(let i=e.marks.length-1;i>=-1;i--)r=o.childPos(r.off,1),o=o.children[r.i],n(i>=0?e.marks[i].node:e.text,o)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,o=r==this.dom,i=!o&&lp(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(o||n||i))return;let s=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(u.anchor)),d=u.empty?c:this.moveToLine(this.domAtPos(u.head));if(me.gecko&&u.empty&&!this.hasComposition&&Z9(c)){let p=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(p,c.node.childNodes[c.offset]||null)),c=d=new rn(p,0),s=!0}let f=this.view.observer.selectionRange;(s||!f.focusNode||(!kc(c.node,c.offset,f.anchorNode,f.anchorOffset)||!kc(d.node,d.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,u))&&(this.view.observer.ignore(()=>{me.android&&me.chrome&&this.dom.contains(f.focusNode)&&e7(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=th(this.view.root);if(p)if(u.empty){if(me.gecko){let g=q9(c.node,c.offset);if(g&&g!=3){let v=(g==1?mT:gT)(c.node,c.offset);v&&(c=new rn(v.node,v.offset))}}p.collapse(c.node,c.offset),u.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=u.bidiLevel)}else if(p.extend){p.collapse(c.node,c.offset);try{p.extend(d.node,d.offset)}catch{}}else{let g=document.createRange();u.anchor>u.head&&([c,d]=[d,c]),g.setEnd(d.node,d.offset),g.setStart(c.node,c.offset),p.removeAllRanges(),p.addRange(g)}i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,d)),this.impreciseAnchor=c.precise?null:new rn(f.anchorNode,f.anchorOffset),this.impreciseHead=d.precise?null:new rn(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&kc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=th(e.root),{anchorNode:o,anchorOffset:i}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=kt.find(this,n.head);if(!s)return;let u=s.posAtStart;if(n.head==u||n.head==u+s.length)return;let c=this.coordsAt(n.head,-1),d=this.coordsAt(n.head,1);if(!c||!d||c.bottom>d.top)return;let f=this.domAtPos(n.head+n.assoc);r.collapse(f.node,f.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=n.from&&r.collapse(o,i)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let o=e.offset;!r&&o<n.childNodes.length;o++){let i=We.get(n.childNodes[o]);i instanceof kt&&(r=i.domAtPos(0))}for(let o=e.offset-1;!r&&o>=0;o--){let i=We.get(n.childNodes[o]);i instanceof kt&&(r=i.domAtPos(i.length))}return r?new rn(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=We.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let o=this.children[n];if(r<o.length||o instanceof kt)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,o=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let u=this.children[s],c=i-u.breakAfter,d=c-u.length;if(c<e)break;if(d<=e&&(d<e||u.covers(-1))&&(c>e||u.covers(1))&&(!r||u instanceof kt&&!(r instanceof kt&&n>=0)))r=u,o=d;else if(r&&d==e&&c==e&&u instanceof $o&&Math.abs(n)<2){if(u.deco.startSide<0)break;s&&(r=null)}i=d}return r?r.coordsAt(e-o,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),o=this.children[n];if(!(o instanceof kt))return null;for(;o.children.length;){let{i:u,off:c}=o.childPos(r,1);for(;;u++){if(u==o.children.length)return null;if((o=o.children[u]).length)break}r=c}if(!(o instanceof _r))return null;let i=Wt(o.text,r);if(i==r)return null;let s=Js(o.dom,r,i).getClientRects();for(let u=0;u<s.length;u++){let c=s[u];if(u==s.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:o}=e,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,c=this.view.textDirection==Xe.LTR;for(let d=0,f=0;f<this.children.length;f++){let p=this.children[f],g=d+p.length;if(g>o)break;if(d>=r){let v=p.dom.getBoundingClientRect();if(n.push(v.height),s){let x=p.dom.lastChild,k=x?La(x):[];if(k.length){let E=k[k.length-1],b=c?E.right-v.left:v.right-E.left;b>u&&(u=b,this.minWidth=i,this.minWidthFrom=d,this.minWidthTo=g)}}}d=g+p.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Xe.RTL:Xe.LTR}measureTextSize(){for(let i of this.children)if(i instanceof kt){let s=i.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,o;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=La(e.firstChild)[0];n=e.getBoundingClientRect().height,r=i?i.width/27:7,o=i?i.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:o}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new vT(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,o=0;;o++){let i=o==n.viewports.length?null:n.viewports[o],s=i?i.from-1:this.length;if(s>r){let u=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Me.replace({widget:new Ry(u),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!i)break;r=i.to+1}return Me.set(e)}updateDeco(){let e=1,n=this.view.state.facet(nh).map(i=>(this.dynamicDecorationMap[e++]=typeof i=="function")?i(this.view):i),r=!1,o=this.view.state.facet(jT).map((i,s)=>{let u=typeof i=="function";return u&&(r=!0),u?i(this.view):i});for(o.length&&(this.dynamicDecorationMap[e++]=r,n.push(ot.join(o))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(BT))try{if(d(this.view,e.range,e))return!0}catch(f){An(this.view.state,f,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),o;if(!r)return;!n.empty&&(o=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,o.left),top:Math.min(r.top,o.top),right:Math.max(r.right,o.right),bottom:Math.max(r.bottom,o.bottom)});let i=UT(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:u,offsetHeight:c}=this.view.scrollDOM;O9(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,u),-u),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==Xe.LTR)}}function Z9(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function KT(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=mT(n.focusNode,n.focusOffset),o=gT(n.focusNode,n.focusOffset),i=r||o;if(o&&r&&o.node!=r.node){let u=We.get(o.node);if(!u||u instanceof _r&&u.text!=o.node.nodeValue)i=o;else if(t.docView.lastCompositionAfterCursor){let c=We.get(r.node);!c||c instanceof _r&&c.text!=r.node.nodeValue||(i=o)}}if(t.docView.lastCompositionAfterCursor=i!=r,!i)return null;let s=e-i.offset;return{from:s,to:s+i.node.nodeValue.length,node:i.node}}function G9(t,e,n){let r=KT(t,n);if(!r)return null;let{node:o,from:i,to:s}=r,u=o.nodeValue;if(/[\n\r]/.test(u)||t.state.doc.sliceString(r.from,r.to)!=u)return null;let c=e.invertedDesc,d=new hr(c.mapPos(i),c.mapPos(s),i,s),f=[];for(let p=o.parentNode;;p=p.parentNode){let g=We.get(p);if(g instanceof Io)f.push({node:p,deco:g.mark});else{if(g instanceof kt||p.nodeName=="DIV"&&p.parentNode==t.contentDOM)return{range:d,text:o,marks:f,line:p};if(p!=t.contentDOM)f.push({node:p,deco:new Eh({inclusive:!0,attributes:D9(p),tagName:p.tagName.toLowerCase()})});else return null}}}function q9(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let J9=class{constructor(){this.changes=[]}compareRange(t,e){Ly(t,e,this.changes)}comparePoint(t,e){Ly(t,e,this.changes)}};function X9(t,e,n){let r=new J9;return ot.compare(t,e,n,r),r.changes}function e7(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function t7(t,e){let n=!1;return e&&t.iterChangedRanges((r,o)=>{r<e.to&&o>e.from&&(n=!0)}),n}function n7(t,e,n=1){let r=t.charCategorizer(e),o=t.doc.lineAt(e),i=e-o.from;if(o.length==0)return te.cursor(e);i==0?n=1:i==o.length&&(n=-1);let s=i,u=i;n<0?s=Wt(o.text,i,!1):u=Wt(o.text,i);let c=r(o.text.slice(s,u));for(;s>0;){let d=Wt(o.text,s,!1);if(r(o.text.slice(d,s))!=c)break;s=d}for(;u<o.length;){let d=Wt(o.text,u);if(r(o.text.slice(u,d))!=c)break;u=d}return te.range(s+o.from,u+o.from)}function r7(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function o7(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function D1(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function dE(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function fE(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function By(t,e,n){let r,o,i,s,u=!1,c,d,f,p;for(let x=t.firstChild;x;x=x.nextSibling){let k=La(x);for(let E=0;E<k.length;E++){let b=k[E];o&&D1(o,b)&&(b=dE(fE(b,o.bottom),o.top));let S=r7(e,b),C=o7(n,b);if(S==0&&C==0)return x.nodeType==3?pE(x,e,n):By(x,e,n);if(!r||s>C||s==C&&i>S){r=x,o=b,i=S,s=C;let M=C?n<b.top?-1:1:S?e<b.left?-1:1:0;u=!M||(M>0?E<k.length-1:E>0)}S==0?n>b.bottom&&(!f||f.bottom<b.bottom)?(c=x,f=b):n<b.top&&(!p||p.top>b.top)&&(d=x,p=b):f&&D1(f,b)?f=fE(f,b.bottom):p&&D1(p,b)&&(p=dE(p,b.top))}}if(f&&f.bottom>=n?(r=c,o=f):p&&p.top<=n&&(r=d,o=p),!r)return{node:t,offset:0};let g=Math.max(o.left,Math.min(o.right,e));if(r.nodeType==3)return pE(r,g,n);if(u&&r.contentEditable!="false")return By(r,g,n);let v=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(o.left+o.right)/2?1:0);return{node:t,offset:v}}function pE(t,e,n){let r=t.nodeValue.length,o=-1,i=1e9,s=0;for(let u=0;u<r;u++){let c=Js(t,u,u+1).getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(f.top==f.bottom)continue;s||(s=e-f.left);let p=(f.top>n?f.top-n:n-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&p<i){let g=e>=(f.left+f.right)/2,v=g;if((me.chrome||me.gecko)&&Js(t,u).getBoundingClientRect().left==f.right&&(v=!g),p<=0)return{node:t,offset:u+(v?1:0)};o=u+(v?1:0),i=p}}}return{node:t,offset:o>-1?o:s>0?t.nodeValue.length:0}}function YT(t,e,n,r=-1){var o,i;let s=t.contentDOM.getBoundingClientRect(),u=s.top+t.viewState.paddingTop,c,{docHeight:d}=t.viewState,{x:f,y:p}=e,g=p-u;if(g<0)return 0;if(g>d)return t.state.doc.length;for(let M=t.viewState.heightOracle.textHeight/2,A=!1;c=t.elementAtHeight(g),c.type!=dn.Text;)for(;g=r>0?c.bottom+M:c.top-M,!(g>=0&&g<=d);){if(A)return n?null:0;A=!0,r=-r}p=u+g;let v=c.from;if(v<t.viewport.from)return t.viewport.from==0?0:n?null:mE(t,s,c,f,p);if(v>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:mE(t,s,c,f,p);let x=t.dom.ownerDocument,k=t.root.elementFromPoint?t.root:x,E=k.elementFromPoint(f,p);E&&!t.contentDOM.contains(E)&&(E=null),E||(f=Math.max(s.left+1,Math.min(s.right-1,f)),E=k.elementFromPoint(f,p),E&&!t.contentDOM.contains(E)&&(E=null));let b,S=-1;if(E&&((o=t.docView.nearest(E))===null||o===void 0?void 0:o.isEditable)!=!1){if(x.caretPositionFromPoint){let M=x.caretPositionFromPoint(f,p);M&&({offsetNode:b,offset:S}=M)}else if(x.caretRangeFromPoint){let M=x.caretRangeFromPoint(f,p);M&&({startContainer:b,startOffset:S}=M,(!t.contentDOM.contains(b)||me.safari&&i7(b,S,f)||me.chrome&&s7(b,S,f))&&(b=void 0))}b&&(S=Math.min(lo(b),S))}if(!b||!t.docView.dom.contains(b)){let M=kt.find(t.docView,v);if(!M)return g>c.top+c.height/2?c.to:c.from;({node:b,offset:S}=By(M.dom,f,p))}let C=t.docView.nearest(b);if(!C)return null;if(C.isWidget&&((i=C.dom)===null||i===void 0?void 0:i.nodeType)==1){let M=C.dom.getBoundingClientRect();return e.y<M.top||e.y<=M.bottom&&e.x<=(M.left+M.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(b,S)+C.posAtStart}function mE(t,e,n,r,o){let i=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let u=t.viewState.heightOracle.textHeight,c=Math.floor((o-n.top-(t.defaultLineHeight-u)*.5)/u);i+=c*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+Cy(s,i,t.state.tabSize)}function i7(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let o=t.nextSibling;o;o=o.nextSibling)if(o.nodeType!=1||o.nodeName!="BR")return!1;return Js(t,r-1,r).getBoundingClientRect().left>n}function s7(t,e,n){if(e!=0)return!1;for(let o=t;;){let i=o.parentNode;if(!i||i.nodeType!=1||i.firstChild!=o)return!1;if(i.classList.contains("cm-line"))break;o=i}let r=t.nodeType==1?t.getBoundingClientRect():Js(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function Fy(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==dn.Text))return r}return n}function l7(t,e,n,r){let o=Fy(t,e.head),i=!r||o.type!=dn.Text||!(t.lineWrapping||o.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head);if(i){let s=t.dom.getBoundingClientRect(),u=t.textDirectionAt(o.from),c=t.posAtCoords({x:n==(u==Xe.LTR)?s.right-1:s.left+1,y:(i.top+i.bottom)/2});if(c!=null)return te.cursor(c,n?-1:1)}return te.cursor(n?o.to:o.from,n?-1:1)}function gE(t,e,n,r){let o=t.state.doc.lineAt(e.head),i=t.bidiSpans(o),s=t.textDirectionAt(o.from);for(let u=e,c=null;;){let d=K9(o,i,s,u,n),f=TT;if(!d){if(o.number==(n?t.state.doc.lines:1))return u;f=`
`,o=t.state.doc.line(o.number+(n?1:-1)),i=t.bidiSpans(o),d=t.visualLineSide(o,!n)}if(c){if(!c(f))return u}else{if(!r)return d;c=r(f)}u=d}}function a7(t,e,n){let r=t.state.charCategorizer(e),o=r(n);return i=>{let s=r(i);return o==nt.Space&&(o=s),o==s}}function u7(t,e,n,r){let o=e.head,i=n?1:-1;if(o==(n?t.state.doc.length:0))return te.cursor(o,e.assoc);let s=e.goalColumn,u,c=t.contentDOM.getBoundingClientRect(),d=t.coordsAtPos(o,e.assoc||-1),f=t.documentTop;if(d)s==null&&(s=d.left-c.left),u=i<0?d.top:d.bottom;else{let v=t.viewState.lineBlockAt(o);s==null&&(s=Math.min(c.right-c.left,t.defaultCharacterWidth*(o-v.from))),u=(i<0?v.top:v.bottom)+f}let p=c.left+s,g=r??t.viewState.heightOracle.textHeight>>1;for(let v=0;;v+=10){let x=u+(g+v)*i,k=YT(t,{x:p,y:x},!1,i);if(x<c.top||x>c.bottom||(i<0?k<o:k>o)){let E=t.docView.coordsForChar(k),b=!E||x<E.top?-1:1;return te.cursor(k,b,void 0,s)}}}function ap(t,e,n){for(;;){let r=0;for(let o of t)o.between(e-1,e+1,(i,s,u)=>{if(e>i&&e<s){let c=r||n||(e-i<s-e?-1:1);e=c<0?i:s,r=c}});if(!r)return e}}function I1(t,e,n){let r=ap(t.state.facet(Ox).map(o=>o(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:te.cursor(r,r<n.from?1:-1)}const sc="";class c7{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=sc}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let o=e;;){this.findPointBefore(r,o);let i=this.text.length;this.readNode(o);let s=o.nextSibling;if(s==n)break;let u=We.get(o),c=We.get(s);(u&&c?u.breakAfter:(u?u.breakAfter:qp(o))||qp(s)&&(o.nodeName!="BR"||o.cmIgnore)&&this.text.length>i)&&this.lineBreak(),o=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,s=1,u;if(this.lineSeparator?(i=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(u=o.exec(n))&&(i=u.index,s=u[0].length),this.append(n.slice(r,i<0?n.length:i)),i<0)break;if(this.lineBreak(),s>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=s-1);r=i+s}}readNode(e){if(e.cmIgnore)return;let n=We.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let o=r.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(h7(e,r.node,r.offset)?n:0))}}function h7(t,e,n){for(;;){if(!e||n<lo(e))return!1;if(e==t)return!0;n=qs(e)+1,e=e.parentNode}}class vE{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class d7{constructor(e,n,r,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:i,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let u=i||s?[]:m7(e),c=new c7(u,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=g7(u,this.bounds.from)}else{let u=e.observer.selectionRange,c=i&&i.node==u.focusNode&&i.offset==u.focusOffset||!Ny(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),d=s&&s.node==u.anchorNode&&s.offset==u.anchorOffset||!Ny(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset),f=e.viewport;if((me.ios||me.chrome)&&e.state.selection.main.empty&&c!=d&&(f.from>0||f.to<e.state.doc.length)){let p=Math.min(c,d),g=Math.max(c,d),v=f.from-p,x=f.to-g;(v==0||v==1||p==0)&&(x==0||x==-1||g==e.state.doc.length)&&(c=0,d=e.state.doc.length)}this.newSel=te.single(d,c)}}}function QT(t,e){let n,{newSel:r}=e,o=t.state.selection.main,i=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:u}=e.bounds,c=o.from,d=null;(i===8||me.android&&e.text.length<u-s)&&(c=o.to,d="end");let f=p7(t.state.doc.sliceString(s,u,sc),e.text,c-s,d);f&&(me.chrome&&i==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==sc+sc&&f.toB--,n={from:s+f.from,to:s+f.toA,insert:Fe.of(e.text.slice(f.from,f.toB).split(sc))})}else r&&(!t.hasFocus&&t.state.facet(Ni)||r.main.eq(o))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!o.empty&&r&&r.main.empty?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,o.to)}:n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,o.to))}:(me.mac||me.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=te.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:Fe.of([" "])}):me.chrome&&n&&n.from==n.to&&n.from==o.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=te.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:Fe.of([" "])}),n)return Tx(t,n,r,i);if(r&&!r.main.eq(o)){let s=!1,u="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),u=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:s,userEvent:u}),!0}else return!1}function Tx(t,e,n,r=-1){if(me.ios&&t.inputState.flushIOSKey(e))return!0;let o=t.state.selection.main;if(me.android&&(e.to==o.to&&(e.from==o.from||e.from==o.from-1&&t.state.sliceDoc(e.from,o.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ma(t.contentDOM,"Enter",13)||(e.from==o.from-1&&e.to==o.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>o.head)&&ma(t.contentDOM,"Backspace",8)||e.from==o.from&&e.to==o.to+1&&e.insert.length==0&&ma(t.contentDOM,"Delete",46)))return!0;let i=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,u=()=>s||(s=f7(t,e,n));return t.state.facet(zT).some(c=>c(t,e.from,e.to,i,u))||t.dispatch(u()),!0}function f7(t,e,n){let r,o=t.state,i=o.selection.main;if(e.from>=i.from&&e.to<=i.to&&e.to-e.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=i.from<e.from?o.sliceDoc(i.from,e.from):"",c=i.to>e.to?o.sliceDoc(e.to,i.to):"";r=o.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let u=o.changes(e),c=n&&n.main.to<=u.newLength?n.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=i.to&&e.to>=i.to-10){let d=t.state.sliceDoc(e.from,e.to),f,p=n&&KT(t,n.main.head);if(p){let x=e.insert.length-(e.to-e.from);f={from:p.from,to:p.to-x}}else f=t.state.doc.lineAt(i.head);let g=i.to-e.to,v=i.to-i.from;r=o.changeByRange(x=>{if(x.from==i.from&&x.to==i.to)return{changes:u,range:c||x.map(u)};let k=x.to-g,E=k-d.length;if(x.to-x.from!=v||t.state.sliceDoc(E,k)!=d||x.to>=f.from&&x.from<=f.to)return{range:x};let b=o.changes({from:E,to:k,insert:e.insert}),S=x.to-i.to;return{changes:b,range:c?te.range(Math.max(0,c.anchor+S),Math.max(0,c.head+S)):x.map(b)}})}else r={changes:u,selection:c&&o.selection.replaceRange(c)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),o.update(r,{userEvent:s,scrollIntoView:!0})}function p7(t,e,n,r){let o=Math.min(t.length,e.length),i=0;for(;i<o&&t.charCodeAt(i)==e.charCodeAt(i);)i++;if(i==o&&t.length==e.length)return null;let s=t.length,u=e.length;for(;s>0&&u>0&&t.charCodeAt(s-1)==e.charCodeAt(u-1);)s--,u--;if(r=="end"){let c=Math.max(0,i-Math.min(s,u));n-=s+c-i}if(s<i&&t.length<e.length){let c=n<=i&&n>=s?i-n:0;i-=c,u=i+(u-s),s=i}else if(u<i){let c=n<=i&&n>=u?i-n:0;i-=c,s=i+(s-u),u=i}return{from:i,toA:s,toB:u}}function m7(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=t.observer.selectionRange;return n&&(e.push(new vE(n,r)),(o!=n||i!=r)&&e.push(new vE(o,i))),e}function g7(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?te.single(n+e,r+e):null}class v7{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,me.safari&&e.contentDOM.addEventListener("input",()=>null),me.gecko&&L7(e.contentDOM.ownerDocument)}handleEvent(e){!E7(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let o of r.observers)o(this.view,n);for(let o of r.handlers){if(n.defaultPrevented)break;if(o(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=y7(e),r=this.handlers,o=this.view.contentDOM;for(let i in n)if(i!="scroll"){let s=!n[i].handlers.length,u=r[i];u&&s!=!u.handlers.length&&(o.removeEventListener(i,this.handleEvent),u=null),u||o.addEventListener(i,this.handleEvent,{passive:s})}for(let i in r)i!="scroll"&&!n[i]&&o.removeEventListener(i,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&GT.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),me.android&&me.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return me.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=ZT.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||w7.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ma(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:me.safari&&!me.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function yE(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(o){An(n.state,o)}}}function y7(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let o=r.spec;if(o&&o.domEventHandlers)for(let i in o.domEventHandlers){let s=o.domEventHandlers[i];s&&n(i).handlers.push(yE(r.value,s))}if(o&&o.domEventObservers)for(let i in o.domEventObservers){let s=o.domEventObservers[i];s&&n(i).observers.push(yE(r.value,s))}}for(let r in Dr)n(r).handlers.push(Dr[r]);for(let r in mr)n(r).observers.push(mr[r]);return e}const ZT=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],w7="dthko",GT=[16,17,18,20,91,92,224,225],Ef=6;function Mf(t){return Math.max(0,t)*.7+8}function x7(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class b7{constructor(e,n,r,o){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=T9(e.contentDOM),this.atoms=e.state.facet(Ox).map(s=>s(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&k7(e,n),this.dragging=C7(e,n)&&XT(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&x7(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,o=0,i=0,s=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:u}=this.scrollParents.y.getBoundingClientRect());let c=UT(this.view);e.clientX-c.left<=o+Ef?n=-Mf(o-e.clientX):e.clientX+c.right>=s-Ef&&(n=Mf(e.clientX-s)),e.clientY-c.top<=i+Ef?r=-Mf(i-e.clientY):e.clientY+c.bottom>=u-Ef&&(r=Mf(e.clientY-u)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let o=e.ranges[r],i=null;if(o.empty){let s=ap(this.atoms,o.from,0);s!=o.from&&(i=te.cursor(s,-1))}else{let s=ap(this.atoms,o.from,-1),u=ap(this.atoms,o.to,1);(s!=o.from||u!=o.to)&&(i=te.range(o.from==o.anchor?s:u,o.from==o.head?s:u))}i&&(n||(n=e.ranges.slice()),n[r]=i)}return n?te.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function k7(t,e){let n=t.state.facet(PT);return n.length?n[0](e):me.mac?e.metaKey:e.ctrlKey}function S7(t,e){let n=t.state.facet($T);return n.length?n[0](e):me.mac?!e.altKey:!e.ctrlKey}function C7(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=th(t.root);if(!r||r.rangeCount==0)return!0;let o=r.getRangeAt(0).getClientRects();for(let i=0;i<o.length;i++){let s=o[i];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function E7(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=We.get(n))&&r.ignoreEvent(e))return!1;return!0}const Dr=Object.create(null),mr=Object.create(null),qT=me.ie&&me.ie_version<15||me.ios&&me.webkit_version<604;function M7(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),JT(t,n.value)},50)}function Qm(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function JT(t,e){e=Qm(t.state,Mx,e);let{state:n}=t,r,o=1,i=n.toText(e),s=i.lines==n.selection.ranges.length;if(Vy!=null&&n.selection.ranges.every(u=>u.empty)&&Vy==i.toString()){let u=-1;r=n.changeByRange(c=>{let d=n.doc.lineAt(c.from);if(d.from==u)return{range:c};u=d.from;let f=n.toText((s?i.line(o++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:f},range:te.cursor(c.from+f.length)}})}else s?r=n.changeByRange(u=>{let c=i.line(o++);return{changes:{from:u.from,to:u.to,insert:c.text},range:te.cursor(u.from+c.length)}}):r=n.replaceSelection(i);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}mr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Dr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);mr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};mr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Dr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(LT))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=O7(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new b7(t,e,n,r)),r&&t.observer.ignore(()=>{dT(t.contentDOM);let i=t.root.activeElement;i&&!i.contains(t.contentDOM)&&i.blur()});let o=t.inputState.mouseSelection;if(o)return o.start(e),o.dragging===!1}return!1};function wE(t,e,n,r){if(r==1)return te.cursor(e,n);if(r==2)return n7(t.state,e,n);{let o=kt.find(t.docView,e),i=t.state.doc.lineAt(o?o.posAtEnd:e),s=o?o.posAtStart:i.from,u=o?o.posAtEnd:i.to;return u<t.state.doc.length&&u==i.to&&u++,te.range(s,u)}}let xE=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function N7(t,e,n,r){let o=kt.find(t.docView,e);if(!o)return 1;let i=e-o.posAtStart;if(i==0)return 1;if(i==o.length)return-1;let s=o.coordsAt(i,-1);if(s&&xE(n,r,s))return-1;let u=o.coordsAt(i,1);return u&&xE(n,r,u)?1:s&&s.bottom>=r?-1:1}function bE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:N7(t,n,e.clientX,e.clientY)}}const A7=me.ie&&me.ie_version<=11;let kE=null,SE=0,CE=0;function XT(t){if(!A7)return t.detail;let e=kE,n=CE;return kE=t,CE=Date.now(),SE=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(SE+1)%3:1}function O7(t,e){let n=bE(t,e),r=XT(e),o=t.state.selection;return{update(i){i.docChanged&&(n.pos=i.changes.mapPos(n.pos),o=o.map(i.changes))},get(i,s,u){let c=bE(t,i),d,f=wE(t,c.pos,c.bias,r);if(n.pos!=c.pos&&!s){let p=wE(t,n.pos,n.bias,r),g=Math.min(p.from,f.from),v=Math.max(p.to,f.to);f=g<f.from?te.range(g,v):te.range(v,g)}return s?o.replaceRange(o.main.extend(f.from,f.to)):u&&r==1&&o.ranges.length>1&&(d=T7(o,c.pos))?d:u?o.addRange(f):te.create([f])}}}function T7(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:o}=t.ranges[n];if(r<=e&&o>=e)return te.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Dr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let o=t.docView.nearest(e.target);if(o&&o.isWidget){let i=o.posAtStart,s=i+o.length;(i>=n.to||s<=n.from)&&(n=te.range(i,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Qm(t.state,Nx,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Dr.dragend=t=>(t.inputState.draggedContent=null,!1);function EE(t,e,n,r){if(n=Qm(t.state,Mx,n),!n)return;let o=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:i}=t.inputState,s=r&&i&&S7(t,e)?{from:i.from,to:i.to}:null,u={from:o,insert:n},c=t.state.changes(s?[s,u]:u);t.focus(),t.dispatch({changes:c,selection:{anchor:c.mapPos(o,-1),head:c.mapPos(o,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Dr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),o=0,i=()=>{++o==n.length&&EE(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let u=new FileReader;u.onerror=i,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(r[s]=u.result),i()},u.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return EE(t,e,r,!0),!0}return!1};Dr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=qT?null:e.clipboardData;return n?(JT(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(M7(t),!1)};function P7(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function $7(t){let e=[],n=[],r=!1;for(let o of t.selection.ranges)o.empty||(e.push(t.sliceDoc(o.from,o.to)),n.push(o));if(!e.length){let o=-1;for(let{from:i}of t.selection.ranges){let s=t.doc.lineAt(i);s.number>o&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),o=s.number}r=!0}return{text:Qm(t,Nx,e.join(t.lineBreak)),ranges:n,linewise:r}}let Vy=null;Dr.copy=Dr.cut=(t,e)=>{let{text:n,ranges:r,linewise:o}=$7(t.state);if(!n&&!o)return!1;Vy=o?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=qT?null:e.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(P7(t,n),!1)};const e4=uo.define();function t4(t,e){let n=[];for(let r of t.facet(_T)){let o=r(t,e);o&&n.push(o)}return n?t.update({effects:n,annotations:e4.of(!0)}):null}function n4(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=t4(t.state,e);n?t.dispatch(n):t.update([])}},10)}mr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),n4(t)};mr.blur=t=>{t.observer.clearSelectionRange(),n4(t)};mr.compositionstart=mr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};mr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,me.chrome&&me.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};mr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Dr.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let i=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(i&&s.length){let u=s[0],c=t.posAtDOM(u.startContainer,u.startOffset),d=t.posAtDOM(u.endContainer,u.endOffset);return Tx(t,{from:c,to:d,insert:t.state.toText(i)},null),!0}}let o;if(me.chrome&&me.android&&(o=ZT.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return me.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),me.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>mr.compositionend(t,e),20),!1};const ME=new Set;function L7(t){ME.has(t)||(ME.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const NE=["pre-wrap","normal","pre-line","break-spaces"];let _a=!1;function AE(){_a=!1}class R7{constructor(e){this.lineWrapping=e,this.doc=Fe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return NE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let o=e[r];o<0?r++:this.heightSamples[Math.floor(o*10)]||(n=!0,this.heightSamples[Math.floor(o*10)]=!0)}return n}refresh(e,n,r,o,i,s){let u=NE.indexOf(e)>-1,c=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=n,this.charWidth=r,this.textHeight=o,this.lineLength=i,c){this.heightSamples={};for(let d=0;d<s.length;d++){let f=s[d];f<0?d++:this.heightSamples[Math.floor(f*10)]=!0}}return c}}class z7{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class eo{constructor(e,n,r,o,i){this.from=e,this.length=n,this.top=r,this.height=o,this._content=i}get type(){return typeof this._content=="number"?dn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ji?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new eo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var qe=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(qe||(qe={}));const up=.001;class fn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>up&&(_a=!0),this.height=e)}replace(e,n,r){return fn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,o){let i=this,s=r.doc;for(let u=o.length-1;u>=0;u--){let{fromA:c,toA:d,fromB:f,toB:p}=o[u],g=i.lineAt(c,qe.ByPosNoHeight,r.setDoc(n),0,0),v=g.to>=d?g:i.lineAt(d,qe.ByPosNoHeight,r,0,0);for(p+=v.to-d,d=v.to;u>0&&g.from<=o[u-1].toA;)c=o[u-1].fromA,f=o[u-1].fromB,u--,c<g.from&&(g=i.lineAt(c,qe.ByPosNoHeight,r,0,0));f+=g.from-c,c=g.from;let x=Px.build(r.setDoc(s),e,f,p);i=em(i,i.replace(c,d,x))}return i.updateHeight(r,0)}static empty(){return new Vn(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,o=0,i=0;for(;;)if(n==r)if(o>i*2){let u=e[n-1];u.break?e.splice(--n,1,u.left,null,u.right):e.splice(--n,1,u.left,u.right),r+=1+u.break,o-=u.size}else if(i>o*2){let u=e[r];u.break?e.splice(r,1,u.left,null,u.right):e.splice(r,1,u.left,u.right),r+=2+u.break,i-=u.size}else break;else if(o<i){let u=e[n++];u&&(o+=u.size)}else{let u=e[--r];u&&(i+=u.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new _7(fn.of(e.slice(0,n)),s,fn.of(e.slice(r)))}}function em(t,e){return t==e?t:(t.constructor!=e.constructor&&(_a=!0),e)}fn.prototype.size=1;class r4 extends fn{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,o){return new eo(o,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,o,i){return this.blockAt(0,r,o,i)}forEachLine(e,n,r,o,i,s){e<=i+this.length&&n>=i&&s(this.blockAt(0,r,o,i))}updateHeight(e,n=0,r=!1,o){return o&&o.from<=n&&o.more&&this.setHeight(o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Vn extends r4{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,o){return new eo(o,this.length,r,this.height,this.breaks)}replace(e,n,r){let o=r[0];return r.length==1&&(o instanceof Vn||o instanceof Bt&&o.flags&4)&&Math.abs(this.length-o.length)<10?(o instanceof Bt?o=new Vn(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):fn.of(r)}updateHeight(e,n=0,r=!1,o){return o&&o.from<=n&&o.more?this.setHeight(o.heights[o.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Bt extends fn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,o=e.doc.lineAt(n+this.length).number,i=o-r+1,s,u=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*i);s=c/i,this.length>i+1&&(u=(this.height-c)/(this.length-i-1))}else s=this.height/i;return{firstLine:r,lastLine:o,perLine:s,perChar:u}}blockAt(e,n,r,o){let{firstLine:i,lastLine:s,perLine:u,perChar:c}=this.heightMetrics(n,o);if(n.lineWrapping){let d=o+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=n.doc.lineAt(d),p=u+f.length*c,g=Math.max(r,e-p/2);return new eo(f.from,f.length,g,p,0)}else{let d=Math.max(0,Math.min(s-i,Math.floor((e-r)/u))),{from:f,length:p}=n.doc.line(i+d);return new eo(f,p,r+u*d,u,0)}}lineAt(e,n,r,o,i){if(n==qe.ByHeight)return this.blockAt(e,r,o,i);if(n==qe.ByPosNoHeight){let{from:v,to:x}=r.doc.lineAt(e);return new eo(v,x-v,0,0,0)}let{firstLine:s,perLine:u,perChar:c}=this.heightMetrics(r,i),d=r.doc.lineAt(e),f=u+d.length*c,p=d.number-s,g=o+u*p+c*(d.from-i-p);return new eo(d.from,d.length,Math.max(o,Math.min(g,o+this.height-f)),f,0)}forEachLine(e,n,r,o,i,s){e=Math.max(e,i),n=Math.min(n,i+this.length);let{firstLine:u,perLine:c,perChar:d}=this.heightMetrics(r,i);for(let f=e,p=o;f<=n;){let g=r.doc.lineAt(f);if(f==e){let x=g.number-u;p+=c*x+d*(e-i-x)}let v=c+d*g.length;s(new eo(g.from,g.length,p,v,0)),p+=v,f=g.to+1}}replace(e,n,r){let o=this.length-n;if(o>0){let i=r[r.length-1];i instanceof Bt?r[r.length-1]=new Bt(i.length+o):r.push(null,new Bt(o-1))}if(e>0){let i=r[0];i instanceof Bt?r[0]=new Bt(e+i.length):r.unshift(new Bt(e-1),null)}return fn.of(r)}decomposeLeft(e,n){n.push(new Bt(e-1),null)}decomposeRight(e,n){n.push(null,new Bt(this.length-e-1))}updateHeight(e,n=0,r=!1,o){let i=n+this.length;if(o&&o.from<=n+this.length&&o.more){let s=[],u=Math.max(n,o.from),c=-1;for(o.from>n&&s.push(new Bt(o.from-n-1).updateHeight(e,n));u<=i&&o.more;){let f=e.doc.lineAt(u).length;s.length&&s.push(null);let p=o.heights[o.index++];c==-1?c=p:Math.abs(p-c)>=up&&(c=-2);let g=new Vn(f,p);g.outdated=!1,s.push(g),u+=f+1}u<=i&&s.push(null,new Bt(i-u).updateHeight(e,u));let d=fn.of(s);return(c<0||Math.abs(d.height-this.height)>=up||Math.abs(c-this.heightMetrics(e,n).perLine)>=up)&&(_a=!0),em(this,d)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class _7 extends fn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,o){let i=r+this.left.height;return e<i?this.left.blockAt(e,n,r,o):this.right.blockAt(e,n,i,o+this.left.length+this.break)}lineAt(e,n,r,o,i){let s=o+this.left.height,u=i+this.left.length+this.break,c=n==qe.ByHeight?e<s:e<u,d=c?this.left.lineAt(e,n,r,o,i):this.right.lineAt(e,n,r,s,u);if(this.break||(c?d.to<u:d.from>u))return d;let f=n==qe.ByPosNoHeight?qe.ByPosNoHeight:qe.ByPos;return c?d.join(this.right.lineAt(u,f,r,s,u)):this.left.lineAt(u,f,r,o,i).join(d)}forEachLine(e,n,r,o,i,s){let u=o+this.left.height,c=i+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,n,r,o,i,s),n>=c&&this.right.forEachLine(e,n,r,u,c,s);else{let d=this.lineAt(c,qe.ByPos,r,o,i);e<d.from&&this.left.forEachLine(e,d.from-1,r,o,i,s),d.to>=e&&d.from<=n&&s(d),n>d.to&&this.right.forEachLine(d.to+1,n,r,u,c,s)}}replace(e,n,r){let o=this.left.length+this.break;if(n<o)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-o,n-o,r));let i=[];e>0&&this.decomposeLeft(e,i);let s=i.length;for(let u of r)i.push(u);if(e>0&&OE(i,s-1),n<this.length){let u=i.length;this.decomposeRight(n,i),OE(i,u)}return fn.of(i)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,o=r+this.break;if(e>=o)return this.right.decomposeRight(e-o,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<o&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?fn.of(this.break?[e,null,n]:[e,n]):(this.left=em(this.left,e),this.right=em(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,o){let{left:i,right:s}=this,u=n+i.length+this.break,c=null;return o&&o.from<=n+i.length&&o.more?c=i=i.updateHeight(e,n,r,o):i.updateHeight(e,n,r),o&&o.from<=u+s.length&&o.more?c=s=s.updateHeight(e,u,r,o):s.updateHeight(e,u,r),c?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function OE(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Bt&&(r=t[e+1])instanceof Bt&&t.splice(e-1,3,new Bt(n.length+1+r.length))}const D7=5;class Px{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof Vn?o.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Vn(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let o=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new r4(s,o,r)):(s||i||o>=D7)&&this.addLineDeco(o,i,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Vn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Bt(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Vn)return e;let n=new Vn(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let o=this.ensureLine();o.length+=r,o.collapsed+=r,o.widgetHeight=Math.max(o.widgetHeight,e),o.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Vn)&&!this.isCovered?this.nodes.push(new Vn(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let o of this.nodes)o instanceof Vn&&o.updateHeight(this.oracle,r),r+=o?o.length:1;return this.nodes}static build(e,n,r,o){let i=new Px(r,e);return ot.spans(n,r,o,i,0),i.finish(r)}}function I7(t,e,n){let r=new B7;return ot.compare(t,e,n,r,0),r.changes}class B7{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,o){(e<n||r&&r.heightRelevant||o&&o.heightRelevant)&&Ly(e,n,this.changes,5)}}function F7(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,o=r.defaultView||window,i=Math.max(0,n.left),s=Math.min(o.innerWidth,n.right),u=Math.max(0,n.top),c=Math.min(o.innerHeight,n.bottom);for(let d=t.parentNode;d&&d!=r.body;)if(d.nodeType==1){let f=d,p=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&p.overflow!="visible"){let g=f.getBoundingClientRect();i=Math.max(i,g.left),s=Math.min(s,g.right),u=Math.max(u,g.top),c=Math.min(d==t.parentNode?o.innerHeight:c,g.bottom)}d=p.position=="absolute"||p.position=="fixed"?f.offsetParent:f.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:i-n.left,right:Math.max(i,s)-n.left,top:u-(n.top+e),bottom:Math.max(u,c)-(n.top+e)}}function V7(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class B1{constructor(e,n,r,o){this.from=e,this.to=n,this.size=r,this.displaySize=o}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=n[r];if(o.from!=i.from||o.to!=i.to||o.size!=i.size)return!1}return!0}draw(e,n){return Me.replace({widget:new j7(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class j7 extends Ho{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class TE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=PE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Xe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Ax).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new R7(n),this.stateDeco=e.facet(nh).filter(r=>typeof r!="function"),this.heightMap=fn.empty().applyChanges(this.stateDeco,Fe.empty,this.heightOracle.setDoc(e.doc),[new hr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Me.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let o=r?n.head:n.anchor;if(!e.some(({from:i,to:s})=>o>=i&&o<=s)){let{from:i,to:s}=this.lineBlockAt(o);e.push(new Nf(i,s))}}return this.viewports=e.sort((r,o)=>r.from-o.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?PE:new $x(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(lc(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(nh).filter(f=>typeof f!="function");let o=e.changedRanges,i=hr.extendWithRanges(o,I7(r,this.stateDeco,e?e.changes:At.empty(this.state.doc.length))),s=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);AE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=s||_a)&&(e.flags|=2),u?(this.scrollAnchorPos=e.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<c.from||n.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,n));let d=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(IT)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),o=this.heightOracle,i=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Xe.RTL:Xe.LTR;let s=this.heightOracle.mustRefreshForWrapping(i),u=n.getBoundingClientRect(),c=s||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let d=0,f=0;if(u.width&&u.height){let{scaleX:M,scaleY:A}=hT(n,u);(M>.005&&Math.abs(this.scaleX-M)>.005||A>.005&&Math.abs(this.scaleY-A)>.005)&&(this.scaleX=M,this.scaleY=A,d|=8,s=c=!0)}let p=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=g)&&(this.paddingTop=p,this.paddingBottom=g,d|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=8);let v=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=pT(e.scrollDOM);let x=(this.printing?V7:F7)(n,this.paddingTop),k=x.top-this.pixelViewport.top,E=x.bottom-this.pixelViewport.bottom;this.pixelViewport=x;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let S=u.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,d|=8),c){let M=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(M)&&(s=!0),s||o.lineWrapping&&Math.abs(S-this.contentDOMWidth)>o.charWidth){let{lineHeight:A,charWidth:$,textHeight:T}=e.docView.measureTextSize();s=A>0&&o.refresh(i,A,$,T,S/$,M),s&&(e.docView.minWidth=0,d|=8)}k>0&&E>0?f=Math.max(k,E):k<0&&E<0&&(f=Math.min(k,E)),AE();for(let A of this.viewports){let $=A.from==this.viewport.from?M:e.docView.measureVisibleLineHeights(A);this.heightMap=(s?fn.empty().applyChanges(this.stateDeco,Fe.empty,this.heightOracle,[new hr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(o,0,s,new z7(A.from,$))}_a&&(d|=2)}let C=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),d|=this.updateForViewport()),(d&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:u}=this,c=new Nf(o.lineAt(s-r*1e3,qe.ByHeight,i,0,0).from,o.lineAt(u+(1-r)*1e3,qe.ByHeight,i,0,0).to);if(n){let{head:d}=n.range;if(d<c.from||d>c.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=o.lineAt(d,qe.ByPos,i,0,0),g;n.y=="center"?g=(p.top+p.bottom)/2-f/2:n.y=="start"||n.y=="nearest"&&d<c.from?g=p.top:g=p.bottom-f,c=new Nf(o.lineAt(g-1e3/2,qe.ByHeight,i,0,0).from,o.lineAt(g+f+1e3/2,qe.ByHeight,i,0,0).to)}}return c}mapViewport(e,n){let r=n.mapPos(e.from,-1),o=n.mapPos(e.to,1);return new Nf(this.heightMap.lineAt(r,qe.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,qe.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(e,qe.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(n,qe.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:u}=this;return(e==0||o<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||i>=u+Math.max(10,Math.min(r,250)))&&o>s-2*1e3&&i<u+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let o of e)n.touchesRange(o.from,o.to)||r.push(new B1(n.mapPos(o.from),n.mapPos(o.to),o.size,o.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,o=r?1e4:2e3,i=o>>1,s=o<<1;if(this.defaultTextDirection!=Xe.LTR&&!r)return[];let u=[],c=(f,p,g,v)=>{if(p-f<i)return;let x=this.state.selection.main,k=[x.from];x.empty||k.push(x.to);for(let b of k)if(b>f&&b<p){c(f,b-10,g,v),c(b+10,p,g,v);return}let E=W7(e,b=>b.from>=g.from&&b.to<=g.to&&Math.abs(b.from-f)<i&&Math.abs(b.to-p)<i&&!k.some(S=>b.from<S&&b.to>S));if(!E){if(p<g.to&&n&&r&&n.visibleRanges.some(C=>C.from<=p&&C.to>=p)){let C=n.moveToLineBoundary(te.cursor(p),!1,!0).head;C>f&&(p=C)}let b=this.gapSize(g,f,p,v),S=r||b<2e6?b:2e6;E=new B1(f,p,b,S)}u.push(E)},d=f=>{if(f.length<s||f.type!=dn.Text)return;let p=H7(f.from,f.to,this.stateDeco);if(p.total<s)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,v,x;if(r){let k=o/this.heightOracle.lineLength*this.heightOracle.lineHeight,E,b;if(g!=null){let S=Of(p,g),C=((this.visibleBottom-this.visibleTop)/2+k)/f.height;E=S-C,b=S+C}else E=(this.visibleTop-f.top-k)/f.height,b=(this.visibleBottom-f.top+k)/f.height;v=Af(p,E),x=Af(p,b)}else{let k=p.total*this.heightOracle.charWidth,E=o*this.heightOracle.charWidth,b=0;if(k>2e6)for(let $ of e)$.from>=f.from&&$.from<f.to&&$.size!=$.displaySize&&$.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=$.size-$.displaySize);let S=this.pixelViewport.left+b,C=this.pixelViewport.right+b,M,A;if(g!=null){let $=Of(p,g),T=((C-S)/2+E)/k;M=$-T,A=$+T}else M=(S-E)/k,A=(C+E)/k;v=Af(p,M),x=Af(p,A)}v>f.from&&c(f.from,v,f,p),x<f.to&&c(x,f.to,f,p)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(d):d(f);return u}gapSize(e,n,r,o){let i=Of(o,r)-Of(o,n);return this.heightOracle.lineWrapping?e.height*i:o.total*this.heightOracle.charWidth*i}updateLineGaps(e){B1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Me.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];ot.spans(e,this.viewport.from,this.viewport.to,{span(o,i){n.push({from:o,to:i})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((o,i)=>o.from!=n[i].from||o.to!=n[i].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||lc(this.heightMap.lineAt(e,qe.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||lc(this.heightMap.lineAt(this.scaler.fromDOM(e),qe.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return lc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Nf{constructor(e,n){this.from=e,this.to=n}}function H7(t,e,n){let r=[],o=t,i=0;return ot.spans(n,t,e,{span(){},point(s,u){s>o&&(r.push({from:o,to:s}),i+=s-o),o=u}},20),o<e&&(r.push({from:o,to:e}),i+=e-o),{total:i,ranges:r}}function Af({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let o=0;;o++){let{from:i,to:s}=e[o],u=s-i;if(r<=u)return i+r;r-=u}}function Of(t,e){let n=0;for(let{from:r,to:o}of t.ranges){if(e<=o){n+=e-r;break}n+=o-r}return n/t.total}function W7(t,e){for(let n of t)if(e(n))return n}const PE={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class $x{constructor(e,n,r){let o=0,i=0,s=0;this.viewports=r.map(({from:u,to:c})=>{let d=n.lineAt(u,qe.ByPos,e,0,0).top,f=n.lineAt(c,qe.ByPos,e,0,0).bottom;return o+=f-d,{from:u,to:c,top:d,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(n.height-o);for(let u of this.viewports)u.domTop=s+(u.top-i)*this.scale,s=u.domBottom=u.domTop+(u.bottom-u.top),i=u.bottom}toDOM(e){for(let n=0,r=0,o=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.top)return o+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,o=i.domBottom}}fromDOM(e){for(let n=0,r=0,o=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.domTop)return r+(e-o)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,o=i.domBottom}}eq(e){return e instanceof $x?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function lc(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new eo(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(o=>lc(o,e)):t._content)}const Tf=ge.define({combine:t=>t.join(" ")}),jy=ge.define({combine:t=>t.indexOf(!0)>-1}),Hy=Gi.newName(),o4=Gi.newName(),i4=Gi.newName(),s4={"&light":"."+o4,"&dark":"."+i4};function Wy(t,e,n){return new Gi(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,o=>{if(o=="&")return t;if(!n||!n[o])throw new RangeError(`Unsupported selector: ${o}`);return n[o]}):t+" "+r}})}const U7=Wy("."+Hy,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},s4),K7={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},F1=me.ie&&me.ie_version<=11;class Y7{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new P9,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(me.ie&&me.ie_version<=11||me.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(me.chrome&&me.chrome_version<126)&&(this.editContext=new Z7(e),e.state.facet(Ni)&&(e.contentDOM.editContext=this.editContext.editContext)),F1&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,o=this.selectionRange;if(r.state.facet(Ni)?r.root.activeElement!=this.dom:!lp(this.dom,o))return;let i=o.anchorNode&&r.docView.nearest(o.anchorNode);if(i&&i.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(me.ie&&me.ie_version<=11||me.android&&me.chrome)&&!r.state.selection.main.empty&&o.focusNode&&kc(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=th(e.root);if(!n)return!1;let r=me.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Q7(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let o=lp(this.dom,r);return o&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&L9(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),o&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,K7),F1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),F1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let o=()=>{let i=this.delayedAndroidKey;i&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=i.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&i.force&&ma(this.dom,i.key,i.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(o)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,o=!1;for(let i of e){let s=this.readMutation(i);s&&(s.typeOver&&(o=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:o}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),o=this.selectionChanged&&lp(this.dom,this.selectionRange);if(e<0&&!o)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new d7(this.view,e,n,r);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,o=QT(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),o}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=$E(n,e.previousSibling||e.target.previousSibling,-1),o=$E(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:o?n.posBefore(o):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ni)!=e.state.facet(Ni)&&(e.view.contentDOM.editContext=e.state.facet(Ni)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function $E(t,e,n){for(;e;){let r=We.get(e);if(r&&r.parent==t)return r;let o=e.parentNode;e=o!=t.dom?o:n>0?e.nextSibling:e.previousSibling}return null}function LE(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return kc(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function Q7(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return LE(t,o)}let n=null;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?LE(t,n):null}class Z7{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:o}=e.state.selection.main,i={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:Fe.of(r.text.split(`
`))};i.from==this.from&&o<this.from?i.from=o:i.to==this.to&&o>this.to&&(i.to=o),!(i.from==i.to&&!i.insert.length)&&(this.pendingContextChange=i,e.state.readOnly||Tx(e,i,te.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let o=[],i=null;for(let s=this.toEditorPos(r.rangeStart),u=this.toEditorPos(r.rangeEnd);s<u;s++){let c=e.coordsForChar(s);i=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||i||new DOMRect,o.push(i)}n.updateCharacterBounds(r.rangeStart,o)},this.handlers.textformatupdate=r=>{let o=[];for(let i of r.getTextFormats()){let s=i.underlineStyle,u=i.underlineThickness;if(s!="None"&&u!="None"){let c=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${u=="Thin"?1:2}px`;o.push(Me.mark({attributes:{style:c}}).range(this.toEditorPos(i.rangeStart),this.toEditorPos(i.rangeEnd)))}}e.dispatch({effects:FT.of(Me.set(o))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let o=th(r.root);o&&o.rangeCount&&this.editContext.updateSelectionBounds(o.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,o=this.pendingContextChange;return e.changes.iterChanges((i,s,u,c,d)=>{if(r)return;let f=d.length-(s-i);if(o&&s>=o.to)if(o.from==i&&o.to==s&&o.insert.eq(d)){o=this.pendingContextChange=null,n+=f,this.to+=f;return}else o=null,this.revertPending(e.state);if(i+=n,s+=n,s<=this.from)this.from+=f,this.to+=f;else if(i<this.to){if(i<this.from||s>this.to||this.to-this.from+d.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(s),d.toString()),this.to+=f}n+=f}),o&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),o=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=o)&&this.editContext.updateSelection(r,o)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let pe=class Uy{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(o=>o.forEach(i=>r(i,this)))||(o=>this.update(o)),this.dispatch=this.dispatch.bind(this),this._root=e.root||$9(e.parent)||document,this.viewState=new TE(e.state||rt.create(e)),e.scrollTo&&e.scrollTo.is(Cf)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(oc).map(o=>new _1(o));for(let o of this.plugins)o.update(this);this.observer=new Y7(this),this.inputState=new v7(this),this.inputState.ensureHandlers(this.plugins),this.docView=new hE(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Tt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,o,i=this.state;for(let g of e){if(g.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=g.state}if(this.destroyed){this.viewState.state=i;return}let s=this.hasFocus,u=0,c=null;e.some(g=>g.annotation(e4))?(this.inputState.notifiedFocused=s,u=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,c=t4(i,s),c||(u=1));let d=this.observer.delayedAndroidKey,f=null;if(d?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(f=null)):this.observer.clear(),i.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(i);o=Xp.create(this,i,e),o.flags|=u;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(p&&(p=p.map(g.changes)),g.scrollIntoView){let{main:v}=g.state.selection;p=new ga(v.empty?v:te.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of g.effects)v.is(Cf)&&(p=v.value.clip(this.state))}this.viewState.update(o,p),this.bidiCache=tm.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),n=this.docView.update(o),this.state.facet(ic)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(Tf)!=o.state.facet(Tf)&&(this.viewState.mustMeasureContent=!0),(n||r||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!o.empty)for(let g of this.state.facet(Iy))try{g(o)}catch(v){An(this.state,v,"update listener")}(c||f)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),f&&!QT(this,f)&&d.force&&ma(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new TE(e),this.plugins=e.facet(oc).map(r=>new _1(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new hE(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(oc),r=e.state.facet(oc);if(n!=r){let o=[];for(let i of r){let s=n.indexOf(i);if(s<0)o.push(new _1(i));else{let u=this.plugins[s];u.mustUpdate=e,o.push(u)}}for(let i of this.plugins)i.mustUpdate!=e&&i.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=e;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){An(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,o=r.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(s<0)if(pT(r))i=-1,s=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(o);i=v.from,s=v.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];c&4||([this.measureRequests,d]=[d,this.measureRequests]);let f=d.map(v=>{try{return v.read(this)}catch(x){return An(this.state,x),RE}}),p=Xp.create(this,this.state,[]),g=!1;p.flags|=c,n?n.flags|=c:n=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),g=this.docView.update(p),g&&this.docViewUpdate());for(let v=0;v<d.length;v++)if(f[v]!=RE)try{let x=d[v];x.write&&x.write(f[v],this)}catch(x){An(this.state,x)}if(g&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let v=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(v>1||v<-1){o=o+v,r.scrollTop=o/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let u of this.state.facet(Iy))u(n)}get themeClasses(){return Hy+" "+(this.state.facet(jy)?i4:o4)+" "+this.state.facet(Tf)}updateAttrs(){let e=zE(this,VT,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ni)?"true":"false",class:"cm-content",style:`${me.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),zE(this,Ax,n);let r=this.observer.ignore(()=>{let o=$y(this.contentDOM,this.contentAttrs,n),i=$y(this.dom,this.editorAttrs,e);return o||i});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let o of r.effects)if(o.is(Uy.announce)){n&&(this.announceDOM.textContent=""),n=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(ic);let e=this.state.facet(Uy.cspNonce);Gi.mount(this.root,this.styleModules.concat(U7).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return I1(this,e,gE(this,e,n,r))}moveByGroup(e,n){return I1(this,e,gE(this,e,n,r=>a7(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),o=this.textDirectionAt(e.from),i=r[n?r.length-1:0];return te.cursor(i.side(n,o)+e.from,i.forward(!n,o)?1:-1)}moveToLineBoundary(e,n,r=!0){return l7(this,e,n,r)}moveVertically(e,n,r){return I1(this,e,u7(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),YT(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let o=this.state.doc.lineAt(e),i=this.bidiSpans(o),s=i[Li.find(i,e-o.from,-1,n)];return Ch(r,s.dir==Xe.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(DT)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>G7)return OT(e.length);let n=this.textDirectionAt(e.from),r;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n&&(i.fresh||AT(i.isolates,r=cE(this,e))))return i.order;r||(r=cE(this,e));let o=U9(e.text,n,r);return this.bidiCache.push(new tm(e.from,e.to,n,r,!0,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||me.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{dT(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Cf.of(new ga(typeof e=="number"?te.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Cf.of(new ga(te.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return xt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return xt.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Gi.newName(),o=[Tf.of(r),ic.of(Wy(`.${r}`,e))];return n&&n.dark&&o.push(jy.of(!0)),o}static baseTheme(e){return ol.lowest(ic.of(Wy("."+Hy,e,s4)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),o=r&&We.get(r)||We.get(e);return((n=o==null?void 0:o.rootView)===null||n===void 0?void 0:n.view)||null}};pe.styleModule=ic;pe.inputHandler=zT;pe.clipboardInputFilter=Mx;pe.clipboardOutputFilter=Nx;pe.scrollHandler=BT;pe.focusChangeEffect=_T;pe.perLineTextDirection=DT;pe.exceptionSink=RT;pe.updateListener=Iy;pe.editable=Ni;pe.mouseSelectionStyle=LT;pe.dragMovesSelection=$T;pe.clickAddsSelectionRange=PT;pe.decorations=nh;pe.outerDecorations=jT;pe.atomicRanges=Ox;pe.bidiIsolatedRanges=HT;pe.scrollMargins=WT;pe.darkTheme=jy;pe.cspNonce=ge.define({combine:t=>t.length?t[0]:""});pe.contentAttributes=Ax;pe.editorAttributes=VT;pe.lineWrapping=pe.contentAttributes.of({class:"cm-lineWrapping"});pe.announce=$e.define();const G7=4096,RE={};class tm{constructor(e,n,r,o,i,s){this.from=e,this.to=n,this.dir=r,this.isolates=o,this.fresh=i,this.order=s}static update(e,n){if(n.empty&&!e.some(i=>i.fresh))return e;let r=[],o=e.length?e[e.length-1].dir:Xe.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let s=e[i];s.dir==o&&!n.touchesRange(s.from,s.to)&&r.push(new tm(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function zE(t,e,n){for(let r=t.state.facet(e),o=r.length-1;o>=0;o--){let i=r[o],s=typeof i=="function"?i(t):i;s&&Py(s,n)}return n}const q7=me.mac?"mac":me.windows?"win":me.linux?"linux":"key";function J7(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let o,i,s,u;for(let c=0;c<n.length-1;++c){const d=n[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))o=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))e=="mac"?u=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return o&&(r="Alt-"+r),i&&(r="Ctrl-"+r),u&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Pf(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const X7=ol.default(pe.domEventHandlers({keydown(t,e){return a4(l4(e.state),t,e,"editor")}})),Zm=ge.define({enables:X7}),_E=new WeakMap;function l4(t){let e=t.facet(Zm),n=_E.get(e);return n||_E.set(e,n=nV(e.reduce((r,o)=>r.concat(o),[]))),n}function eV(t,e,n){return a4(l4(t.state),e,t,n)}let Ai=null;const tV=4e3;function nV(t,e=q7){let n=Object.create(null),r=Object.create(null),o=(s,u)=>{let c=r[s];if(c==null)r[s]=u;else if(c!=u)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},i=(s,u,c,d,f)=>{var p,g;let v=n[s]||(n[s]=Object.create(null)),x=u.split(/ (?!$)/).map(b=>J7(b,e));for(let b=1;b<x.length;b++){let S=x.slice(0,b).join(" ");o(S,!0),v[S]||(v[S]={preventDefault:!0,stopPropagation:!1,run:[C=>{let M=Ai={view:C,prefix:S,scope:s};return setTimeout(()=>{Ai==M&&(Ai=null)},tV),!0}]})}let k=x.join(" ");o(k,!1);let E=v[k]||(v[k]={preventDefault:!1,stopPropagation:!1,run:((g=(p=v._any)===null||p===void 0?void 0:p.run)===null||g===void 0?void 0:g.slice())||[]});c&&E.run.push(c),d&&(E.preventDefault=!0),f&&(E.stopPropagation=!0)};for(let s of t){let u=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let d of u){let f=n[d]||(n[d]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=s;for(let g in f)f[g].run.push(v=>p(v,Ky))}let c=s[e]||s.key;if(c)for(let d of u)i(d,c,s.run,s.preventDefault,s.stopPropagation),s.shift&&i(d,"Shift-"+c,s.shift,s.preventDefault,s.stopPropagation)}return n}let Ky=null;function a4(t,e,n,r){Ky=e;let o=N9(e),i=Ft(o,0),s=lr(i)==o.length&&o!=" ",u="",c=!1,d=!1,f=!1;Ai&&Ai.view==n&&Ai.scope==r&&(u=Ai.prefix+" ",GT.indexOf(e.keyCode)<0&&(d=!0,Ai=null));let p=new Set,g=E=>{if(E){for(let b of E.run)if(!p.has(b)&&(p.add(b),b(n)))return E.stopPropagation&&(f=!0),!0;E.preventDefault&&(E.stopPropagation&&(f=!0),d=!0)}return!1},v=t[r],x,k;return v&&(g(v[u+Pf(o,e,!s)])?c=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(me.windows&&e.ctrlKey&&e.altKey)&&(x=qi[e.keyCode])&&x!=o?(g(v[u+Pf(x,e,!0)])||e.shiftKey&&(k=eh[e.keyCode])!=o&&k!=x&&g(v[u+Pf(k,e,!1)]))&&(c=!0):s&&e.shiftKey&&g(v[u+Pf(o,e,!0)])&&(c=!0),!c&&g(v._any)&&(c=!0)),d&&(c=!0),c&&f&&e.stopPropagation(),Ky=null,c}class Nh{constructor(e,n,r,o,i){this.className=e,this.left=n,this.top=r,this.width=o,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let o=e.coordsAtPos(r.head,r.assoc||1);if(!o)return[];let i=u4(e);return[new Nh(n,o.left-i.left,o.top-i.top,null,o.bottom-o.top)]}else return rV(e,n,r)}}function u4(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Xe.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function DE(t,e,n,r){let o=t.coordsAtPos(e,n*2);if(!o)return r;let i=t.dom.getBoundingClientRect(),s=(o.top+o.bottom)/2,u=t.posAtCoords({x:i.left+1,y:s}),c=t.posAtCoords({x:i.right-1,y:s});return u==null||c==null?r:{from:Math.max(r.from,Math.min(u,c)),to:Math.min(r.to,Math.max(u,c))}}function rV(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),o=Math.min(n.to,t.viewport.to),i=t.textDirection==Xe.LTR,s=t.contentDOM,u=s.getBoundingClientRect(),c=u4(t),d=s.querySelector(".cm-line"),f=d&&window.getComputedStyle(d),p=u.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),g=u.right-(f?parseInt(f.paddingRight):0),v=Fy(t,r),x=Fy(t,o),k=v.type==dn.Text?v:null,E=x.type==dn.Text?x:null;if(k&&(t.lineWrapping||v.widgetLineBreaks)&&(k=DE(t,r,1,k)),E&&(t.lineWrapping||x.widgetLineBreaks)&&(E=DE(t,o,-1,E)),k&&E&&k.from==E.from&&k.to==E.to)return S(C(n.from,n.to,k));{let A=k?C(n.from,null,k):M(v,!1),$=E?C(null,n.to,E):M(x,!0),T=[];return(k||v).to<(E||x).from-(k&&E?1:0)||v.widgetLineBreaks>1&&A.bottom+t.defaultLineHeight/2<$.top?T.push(b(p,A.bottom,g,$.top)):A.bottom<$.top&&t.elementAtHeight((A.bottom+$.top)/2).type==dn.Text&&(A.bottom=$.top=(A.bottom+$.top)/2),S(A).concat(T).concat(S($))}function b(A,$,T,z){return new Nh(e,A-c.left,$-c.top-.01,T-A,z-$+.01)}function S({top:A,bottom:$,horizontal:T}){let z=[];for(let B=0;B<T.length;B+=2)z.push(b(T[B],A,T[B+1],$));return z}function C(A,$,T){let z=1e9,B=-1e9,F=[];function Q(P,H,D,U,O){let L=t.coordsAtPos(P,P==T.to?-2:2),_=t.coordsAtPos(D,D==T.from?2:-2);!L||!_||(z=Math.min(L.top,_.top,z),B=Math.max(L.bottom,_.bottom,B),O==Xe.LTR?F.push(i&&H?p:L.left,i&&U?g:_.right):F.push(!i&&U?p:_.left,!i&&H?g:L.right))}let W=A??T.from,G=$??T.to;for(let P of t.visibleRanges)if(P.to>W&&P.from<G)for(let H=Math.max(P.from,W),D=Math.min(P.to,G);;){let U=t.state.doc.lineAt(H);for(let O of t.bidiSpans(U)){let L=O.from+U.from,_=O.to+U.from;if(L>=D)break;_>H&&Q(Math.max(L,H),A==null&&L<=W,Math.min(_,D),$==null&&_>=G,O.dir)}if(H=U.to+1,H>=D)break}return F.length==0&&Q(W,A==null,G,$==null,t.textDirection),{top:z,bottom:B,horizontal:F}}function M(A,$){let T=u.top+($?A.top:A.bottom);return{top:T,bottom:T,horizontal:[]}}}function oV(t,e){return t.constructor==e.constructor&&t.eq(e)}class iV{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(cp)!=e.state.facet(cp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(cp);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!oV(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let o of e)o.update&&n&&o.constructor&&this.drawn[r].constructor&&o.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(o.draw(),n);for(;n;){let o=n.nextSibling;n.remove(),n=o}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const cp=ge.define();function c4(t){return[xt.define(e=>new iV(e,t)),cp.of(t)]}const h4=!me.ios,rh=ge.define({combine(t){return co(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function sV(t={}){return[rh.of(t),lV,aV,uV,IT.of(!0)]}function d4(t){return t.startState.facet(rh)!=t.state.facet(rh)}const lV=c4({above:!0,markers(t){let{state:e}=t,n=e.facet(rh),r=[];for(let o of e.selection.ranges){let i=o==e.selection.main;if(o.empty?!i||h4:n.drawRangeCursor){let s=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=o.empty?o:te.cursor(o.head,o.head>o.anchor?-1:1);for(let c of Nh.forRange(t,s,u))r.push(c)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=d4(t);return n&&IE(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){IE(e.state,t)},class:"cm-cursorLayer"});function IE(t,e){e.style.animationDuration=t.facet(rh).cursorBlinkRate+"ms"}const aV=c4({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Nh.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||d4(t)},class:"cm-selectionLayer"}),Yy={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};h4&&(Yy[".cm-line"].caretColor=Yy[".cm-content"].caretColor="transparent !important");const uV=ol.highest(pe.theme(Yy)),f4=$e.define({map(t,e){return t==null?null:e.mapPos(t)}}),ac=Qt.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(f4)?r.value:n,t)}}),cV=xt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(ac);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ac)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(ac),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ac)!=t&&this.view.dispatch({effects:f4.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function hV(){return[ac,cV]}function BE(t,e,n,r,o){e.lastIndex=0;for(let i=t.iterRange(n,r),s=n,u;!i.next().done;s+=i.value.length)if(!i.lineBreak)for(;u=e.exec(i.value);)o(s+u.index,u)}function dV(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(t.state.doc.lineAt(o).from,o-e),i=Math.min(t.state.doc.lineAt(i).to,i+e),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}class fV{constructor(e){const{regexp:n,decoration:r,decorate:o,boundary:i,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,o)this.addMatch=(u,c,d,f)=>o(f,d,d+u[0].length,u,c);else if(typeof r=="function")this.addMatch=(u,c,d,f)=>{let p=r(u,c,d);p&&f(d,d+u[0].length,p)};else if(r)this.addMatch=(u,c,d,f)=>f(d,d+u[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=i,this.maxLength=s}createDeco(e){let n=new Zi,r=n.add.bind(n);for(let{from:o,to:i}of dV(e,this.maxLength))BE(e.state.doc,this.regexp,o,i,(s,u)=>this.addMatch(u,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,o=-1;return e.docChanged&&e.changes.iterChanges((i,s,u,c)=>{c>e.view.viewport.from&&u<e.view.viewport.to&&(r=Math.min(u,r),o=Math.max(c,o))}),e.viewportChanged||o-r>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,n.map(e.changes),r,o):n}updateRange(e,n,r,o){for(let i of e.visibleRanges){let s=Math.max(i.from,r),u=Math.min(i.to,o);if(u>s){let c=e.state.doc.lineAt(s),d=c.to<u?e.state.doc.lineAt(u):c,f=Math.max(i.from,c.from),p=Math.min(i.to,d.to);if(this.boundary){for(;s>c.from;s--)if(this.boundary.test(c.text[s-1-c.from])){f=s;break}for(;u<d.to;u++)if(this.boundary.test(d.text[u-d.from])){p=u;break}}let g=[],v,x=(k,E,b)=>g.push(b.range(k,E));if(c==d)for(this.regexp.lastIndex=f-c.from;(v=this.regexp.exec(c.text))&&v.index<p-c.from;)this.addMatch(v,e,v.index+c.from,x);else BE(e.state.doc,this.regexp,f,p,(k,E)=>this.addMatch(E,e,k,x));n=n.update({filterFrom:f,filterTo:p,filter:(k,E)=>k<f||E>p,add:g})}}return n}}const Qy=/x/.unicode!=null?"gu":"g",pV=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Qy),mV={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let V1=null;function gV(){var t;if(V1==null&&typeof document<"u"&&document.body){let e=document.body.style;V1=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return V1||!1}const hp=ge.define({combine(t){let e=co(t,{render:null,specialChars:pV,addSpecialChars:null});return(e.replaceTabs=!gV())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Qy)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Qy)),e}});function vV(t={}){return[hp.of(t),yV()]}let FE=null;function yV(){return FE||(FE=xt.fromClass(class{constructor(t){this.view=t,this.decorations=Me.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(hp)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new fV({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:o}=n.state,i=Ft(e[0],0);if(i==9){let s=o.lineAt(r),u=n.state.tabSize,c=Wa(s.text,u,r-s.from);return Me.replace({widget:new kV((u-c%u)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=Me.replace({widget:new bV(t,i)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(hp);t.startState.facet(hp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const wV="";function xV(t){return t>=32?wV:t==10?"":String.fromCharCode(9216+t)}class bV extends Ho{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=xV(this.code),r=e.state.phrase("Control character")+" "+(mV[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,r,n);if(o)return o;let i=document.createElement("span");return i.textContent=n,i.title=r,i.setAttribute("aria-label",r),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class kV extends Ho{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function SV(){return EV}const CV=Me.line({class:"cm-activeLine"}),EV=xt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let o=t.lineBlockAt(r.head);o.from>e&&(n.push(CV.range(o.from)),e=o.from)}return Me.set(n)}},{decorations:t=>t.decorations});class MV extends Ho{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?La(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),o=Ch(n[0],r.direction!="rtl"),i=parseInt(r.lineHeight);return o.bottom-o.top>i*1.5?{left:o.left,right:o.right,top:o.top,bottom:o.top+i}:o}ignoreEvent(){return!1}}function NV(t){return xt.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Me.set([Me.widget({widget:new MV(t),side:1}).range(0)]):Me.none}get decorations(){return this.view.state.doc.length?Me.none:this.placeholder}},{decorations:e=>e.decorations})}const Zy=2e3;function AV(t,e,n){let r=Math.min(e.line,n.line),o=Math.max(e.line,n.line),i=[];if(e.off>Zy||n.off>Zy||e.col<0||n.col<0){let s=Math.min(e.off,n.off),u=Math.max(e.off,n.off);for(let c=r;c<=o;c++){let d=t.doc.line(c);d.length<=u&&i.push(te.range(d.from+s,d.to+u))}}else{let s=Math.min(e.col,n.col),u=Math.max(e.col,n.col);for(let c=r;c<=o;c++){let d=t.doc.line(c),f=Cy(d.text,s,t.tabSize,!0);if(f<0)i.push(te.cursor(d.to));else{let p=Cy(d.text,u,t.tabSize);i.push(te.range(d.from+f,d.from+p))}}}return i}function OV(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function VE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),o=n-r.from,i=o>Zy?-1:o==r.length?OV(t,e.clientX):Wa(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function TV(t,e){let n=VE(t,e),r=t.state.selection;return n?{update(o){if(o.docChanged){let i=o.changes.mapPos(o.startState.doc.line(n.line).from),s=o.state.doc.lineAt(i);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(o.changes)}},get(o,i,s){let u=VE(t,o);if(!u)return r;let c=AV(t.state,n,u);return c.length?s?te.create(c.concat(r.ranges)):te.create(c):r}}:null}function PV(t){let e=n=>n.altKey&&n.button==0;return pe.mouseSelectionStyle.of((n,r)=>e(r)?TV(n,r):null)}const $V={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},LV={style:"cursor: crosshair"};function RV(t={}){let[e,n]=$V[t.key||"Alt"],r=xt.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventObservers:{keydown(o){this.set(o.keyCode==e||n(o))},keyup(o){(o.keyCode==e||!n(o))&&this.set(!1)},mousemove(o){this.set(n(o))}}});return[r,pe.contentAttributes.of(o=>{var i;return!((i=o.plugin(r))===null||i===void 0)&&i.isDown?LV:null})]}const Qu="-10000px";class p4{constructor(e,n,r,o){this.facet=n,this.createTooltipView=r,this.removeTooltipView=o,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let i=null;this.tooltipViews=this.tooltips.map(s=>i=r(s,i))}update(e,n){var r;let o=e.state.facet(this.facet),i=o.filter(c=>c);if(o===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let s=[],u=n?[]:null;for(let c=0;c<i.length;c++){let d=i[c],f=-1;if(d){for(let p=0;p<this.tooltips.length;p++){let g=this.tooltips[p];g&&g.create==d.create&&(f=p)}if(f<0)s[c]=this.createTooltipView(d,c?s[c-1]:null),u&&(u[c]=!!d.above);else{let p=s[c]=this.tooltipViews[f];u&&(u[c]=n[f]),p.update&&p.update(e)}}}for(let c of this.tooltipViews)s.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return n&&(u.forEach((c,d)=>n[d]=c),n.length=u.length),this.input=o,this.tooltips=i,this.tooltipViews=s,!0}}function zV(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const j1=ge.define({combine:t=>{var e,n,r;return{position:me.ios?"absolute":((e=t.find(o=>o.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(o=>o.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(o=>o.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||zV}}}),jE=new WeakMap,Lx=xt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(j1);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new p4(t,Rx,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(j1);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o=document.createElement("div");o.className="cm-tooltip-arrow",n.dom.appendChild(o)}return n.dom.style.position=this.position,n.dom.style.top=Qu,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(me.gecko)r=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Qu&&o.style.left=="0px"){let i=o.getBoundingClientRect();r=Math.abs(i.top+1e4)>1||Math.abs(i.left)>1}}if(r||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(e=o.width/this.parent.offsetWidth,n=o.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((o,i)=>{let s=this.manager.tooltipViews[i];return s.getCoords?s.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(j1).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{editor:n,space:r,scaleX:o,scaleY:i}=t,s=[];for(let u=0;u<this.manager.tooltips.length;u++){let c=this.manager.tooltips[u],d=this.manager.tooltipViews[u],{dom:f}=d,p=t.pos[u],g=t.size[u];if(!p||p.bottom<=Math.max(n.top,r.top)||p.top>=Math.min(n.bottom,r.bottom)||p.right<Math.max(n.left,r.left)-.1||p.left>Math.min(n.right,r.right)+.1){f.style.top=Qu;continue}let v=c.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,x=v?7:0,k=g.right-g.left,E=(e=jE.get(d))!==null&&e!==void 0?e:g.bottom-g.top,b=d.offset||DV,S=this.view.textDirection==Xe.LTR,C=g.width>r.right-r.left?S?r.left:r.right-g.width:S?Math.max(r.left,Math.min(p.left-(v?14:0)+b.x,r.right-k)):Math.min(Math.max(r.left,p.left-k+(v?14:0)-b.x),r.right-k),M=this.above[u];!c.strictSide&&(M?p.top-(g.bottom-g.top)-b.y<r.top:p.bottom+(g.bottom-g.top)+b.y>r.bottom)&&M==r.bottom-p.bottom>p.top-r.top&&(M=this.above[u]=!M);let A=(M?p.top-r.top:r.bottom-p.bottom)-x;if(A<E&&d.resize!==!1){if(A<this.view.defaultLineHeight){f.style.top=Qu;continue}jE.set(d,E),f.style.height=(E=A)/i+"px"}else f.style.height&&(f.style.height="");let $=M?p.top-E-x-b.y:p.bottom+x+b.y,T=C+k;if(d.overlap!==!0)for(let z of s)z.left<T&&z.right>C&&z.top<$+E&&z.bottom>$&&($=M?z.top-E-2-x:z.bottom+x+2);if(this.position=="absolute"?(f.style.top=($-t.parent.top)/i+"px",f.style.left=(C-t.parent.left)/o+"px"):(f.style.top=$/i+"px",f.style.left=C/o+"px"),v){let z=p.left+(S?b.x:-b.x)-(C+14-7);v.style.left=z/o+"px"}d.overlap!==!0&&s.push({left:C,top:$,right:T,bottom:$+E}),f.classList.toggle("cm-tooltip-above",M),f.classList.toggle("cm-tooltip-below",!M),d.positioned&&d.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Qu}},{eventObservers:{scroll(){this.maybeMeasure()}}}),_V=pe.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),DV={x:0,y:0},Rx=ge.define({enables:[Lx,_V]}),nm=ge.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Gm{static create(e){return new Gm(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new p4(e,nm,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let o=r[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const IV=Rx.compute([nm],t=>{let e=t.facet(nm);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Gm.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class BV{constructor(e,n,r,o,i){this.view=e,this.source=n,this.field=r,this.setHover=o,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let o,i=1;if(r instanceof $i)o=r.posAtStart;else{if(o=e.posAtCoords(n),o==null)return;let u=e.coordsAtPos(o);if(!u||n.y<u.top||n.y>u.bottom||n.x<u.left-e.defaultCharacterWidth||n.x>u.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(o)).find(f=>f.from<=o&&f.to>=o),d=c&&c.dir==Xe.RTL?-1:1;i=n.x<u.left?-d:d}let s=this.source(e,o,i);if(s!=null&&s.then){let u=this.pending={pos:o};s.then(c=>{this.pending==u&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>An(e.state,c,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(Lx),n=e?e.manager.tooltips.findIndex(r=>r.create==Gm.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:i}=this;if(o.length&&i&&!FV(i.dom,e)||this.pending){let{pos:s}=o[0]||this.pending,u=(r=(n=o[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==u?this.view.posAtCoords(this.lastMove)!=s:!VV(this.view,s,u,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const $f=4;function FV(t,e){let{left:n,right:r,top:o,bottom:i}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let u=s.getBoundingClientRect();o=Math.min(u.top,o),i=Math.max(u.bottom,i)}return e.clientX>=n-$f&&e.clientX<=r+$f&&e.clientY>=o-$f&&e.clientY<=i+$f}function VV(t,e,n,r,o,i){let s=t.scrollDOM.getBoundingClientRect(),u=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>o||Math.min(s.bottom,u)<o)return!1;let c=t.posAtCoords({x:r,y:o},!1);return c>=e&&c<=n}function jV(t,e={}){let n=$e.define(),r=Qt.define({create(){return[]},update(o,i){if(o.length&&(e.hideOnChange&&(i.docChanged||i.selection)?o=[]:e.hideOn&&(o=o.filter(s=>!e.hideOn(i,s))),i.docChanged)){let s=[];for(let u of o){let c=i.changes.mapPos(u.pos,-1,cn.TrackDel);if(c!=null){let d=Object.assign(Object.create(null),u);d.pos=c,d.end!=null&&(d.end=i.changes.mapPos(d.end)),s.push(d)}}o=s}for(let s of i.effects)s.is(n)&&(o=s.value),s.is(HV)&&(o=[]);return o},provide:o=>nm.from(o)});return{active:r,extension:[r,xt.define(o=>new BV(o,t,r,n,e.hoverTime||300)),IV]}}function m4(t,e){let n=t.plugin(Lx);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const HV=$e.define(),HE=ge.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function oh(t,e){let n=t.plugin(g4),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const g4=xt.fromClass(class{constructor(t){this.input=t.state.facet(ih),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(HE);this.top=new Lf(t,!0,e.topContainer),this.bottom=new Lf(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(HE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Lf(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Lf(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(ih);if(n!=this.input){let r=n.filter(c=>c),o=[],i=[],s=[],u=[];for(let c of r){let d=this.specs.indexOf(c),f;d<0?(f=c(t.view),u.push(f)):(f=this.panels[d],f.update&&f.update(t)),o.push(f),(f.top?i:s).push(f)}this.specs=r,this.panels=o,this.top.sync(i),this.bottom.sync(s);for(let c of u)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Lf{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=WE(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=WE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function WE(t){let e=t.nextSibling;return t.remove(),e}const ih=ge.define({enables:g4});class Bo extends Gs{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Bo.prototype.elementClass="";Bo.prototype.toDOM=void 0;Bo.prototype.mapMode=cn.TrackBefore;Bo.prototype.startSide=Bo.prototype.endSide=-1;Bo.prototype.point=!0;const dp=ge.define(),WV=ge.define(),UV={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ot.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Cc=ge.define();function KV(t){return[v4(),Cc.of(Object.assign(Object.assign({},UV),t))]}const UE=ge.define({combine:t=>t.some(e=>e)});function v4(t){return[YV]}const YV=xt.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Cc).map(e=>new YE(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(UE),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(UE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=ot.iter(this.view.state.facet(dp),this.view.viewport.from),r=[],o=this.gutters.map(i=>new QV(i,this.view.viewport,-this.view.documentPadding.top));for(let i of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(i.type)){let s=!0;for(let u of i.type)if(u.type==dn.Text&&s){Gy(n,r,u.from);for(let c of o)c.line(this.view,u,r);s=!1}else if(u.widget)for(let c of o)c.widget(this.view,u)}else if(i.type==dn.Text){Gy(n,r,i.from);for(let s of o)s.line(this.view,i,r)}else if(i.widget)for(let s of o)s.widget(this.view,i);for(let i of o)i.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Cc),n=t.state.facet(Cc),r=t.docChanged||t.heightChanged||t.viewportChanged||!ot.eq(t.startState.facet(dp),t.state.facet(dp),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let o of this.gutters)o.update(t)&&(r=!0);else{r=!0;let o=[];for(let i of n){let s=e.indexOf(i);s<0?o.push(new YE(this.view,i)):(this.gutters[s].update(t),o.push(this.gutters[s]))}for(let i of this.gutters)i.dom.remove(),o.indexOf(i)<0&&i.destroy();for(let i of o)this.dom.appendChild(i.dom);this.gutters=o}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Xe.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function KE(t){return Array.isArray(t)?t:[t]}function Gy(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class QV{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ot.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:o}=this,i=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==o.elements.length){let u=new y4(e,s,i,r);o.elements.push(u),o.dom.appendChild(u.dom)}else o.elements[this.i].update(e,s,i,r);this.height=n.bottom,this.i++}line(e,n,r){let o=[];Gy(this.cursor,o,n.from),r.length&&(o=o.concat(r));let i=this.gutter.config.lineMarker(e,n,o);i&&o.unshift(i);let s=this.gutter;o.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,o)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),o=r?[r]:null;for(let i of e.state.facet(WV)){let s=i(e,n.widget,n);s&&(o||(o=[])).push(s)}o&&this.addElement(e,n,o)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class YE{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,o=>{let i=o.target,s;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let c=i.getBoundingClientRect();s=(c.top+c.bottom)/2}else s=o.clientY;let u=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,u,o)&&o.preventDefault()});this.markers=KE(n.markers(e)),n.initialSpacer&&(this.spacer=new y4(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=KE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],e);o!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[o])}let r=e.view.viewport;return!ot.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class y4{constructor(e,n,r,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,o)}update(e,n,r,o){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),ZV(this.markers,o)||this.setMarkers(e,o)}setMarkers(e,n){let r="cm-gutterElement",o=this.dom.firstChild;for(let i=0,s=0;;){let u=s,c=i<n.length?n[i++]:null,d=!1;if(c){let f=c.elementClass;f&&(r+=" "+f);for(let p=s;p<this.markers.length;p++)if(this.markers[p].compare(c)){u=p,d=!0;break}}else u=this.markers.length;for(;s<u;){let f=this.markers[s++];if(f.toDOM){f.destroy(o);let p=o.nextSibling;o.remove(),o=p}}if(!c)break;c.toDOM&&(d?o=o.nextSibling:this.dom.insertBefore(c.toDOM(e),o)),d&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function ZV(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const GV=ge.define(),qV=ge.define(),na=ge.define({combine(t){return co(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let o in n){let i=r[o],s=n[o];r[o]=i?(u,c,d)=>i(u,c,d)||s(u,c,d):s}return r}})}});class H1 extends Bo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function W1(t,e){return t.state.facet(na).formatNumber(e,t.state)}const JV=Cc.compute([na],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(GV)},lineMarker(e,n,r){return r.some(o=>o.toDOM)?null:new H1(W1(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let o of e.state.facet(qV)){let i=o(e,n,r);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(na)!=e.state.facet(na),initialSpacer(e){return new H1(W1(e,QE(e.state.doc.lines)))},updateSpacer(e,n){let r=W1(n.view,QE(n.view.state.doc.lines));return r==e.number?e:new H1(r)},domEventHandlers:t.facet(na).domEventHandlers}));function XV(t={}){return[na.of(t),v4(),JV]}function QE(t){let e=9;for(;e<t;)e=e*10+9;return e}const ej=new class extends Bo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},tj=dp.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let o=t.doc.lineAt(r.head).from;o>n&&(n=o,e.push(ej.range(o)))}return ot.of(e)});function nj(){return tj}const rj=1024;let oj=0;class U1{constructor(e,n){this.from=e,this.to=n}}let ze=class{constructor(e={}){this.id=oj++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ln.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}};ze.closedBy=new ze({deserialize:t=>t.split(" ")});ze.openedBy=new ze({deserialize:t=>t.split(" ")});ze.group=new ze({deserialize:t=>t.split(" ")});ze.isolate=new ze({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});ze.contextHash=new ze({perNode:!0});ze.lookAhead=new ze({perNode:!0});ze.mounted=new ze({perNode:!0});class rm{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[ze.mounted.id]}}const ij=Object.create(null);class Ln{constructor(e,n,r,o=0){this.name=e,this.props=n,this.id=r,this.flags=o}static define(e){let n=e.props&&e.props.length?Object.create(null):ij,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),o=new Ln(e.name||"",n,e.id,r);if(e.props){for(let i of e.props)if(Array.isArray(i)||(i=i(o)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[i[0].id]=i[1]}}return o}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(ze.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let o of r.split(" "))n[o]=e[r];return r=>{for(let o=r.prop(ze.group),i=-1;i<(o?o.length:0);i++){let s=n[i<0?r.name:o[i]];if(s)return s}}}}Ln.none=new Ln("",Object.create(null),0,8);class zx{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let o=null;for(let i of e){let s=i(r);s&&(o||(o=Object.assign({},r.props)),o[s[0].id]=s[1])}n.push(o?new Ln(r.name,o,r.id,r.flags):r)}return new zx(n)}}const Rf=new WeakMap,ZE=new WeakMap;var jt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(jt||(jt={}));class ct{constructor(e,n,r,o,i){if(this.type=e,this.children=n,this.positions=r,this.length=o,this.props=null,i&&i.length){this.props=Object.create(null);for(let[s,u]of i)this.props[typeof s=="number"?s:s.id]=u}}toString(){let e=rm.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let o=r.toString();o&&(n&&(n+=","),n+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Jy(this.topNode,e)}cursorAt(e,n=0,r=0){let o=Rf.get(this)||this.topNode,i=new Jy(o);return i.moveTo(e,n),Rf.set(this,i._tree),i}get topNode(){return new dr(this,0,0,null)}resolve(e,n=0){let r=sh(Rf.get(this)||this.topNode,e,n,!1);return Rf.set(this,r),r}resolveInner(e,n=0){let r=sh(ZE.get(this)||this.topNode,e,n,!0);return ZE.set(this,r),r}resolveStack(e,n=0){return aj(this,e,n)}iterate(e){let{enter:n,leave:r,from:o=0,to:i=this.length}=e,s=e.mode||0,u=(s&jt.IncludeAnonymous)>0;for(let c=this.cursor(s|jt.IncludeAnonymous);;){let d=!1;if(c.from<=i&&c.to>=o&&(!u&&c.type.isAnonymous||n(c)!==!1)){if(c.firstChild())continue;d=!0}for(;d&&r&&(u||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Ix(Ln.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,o)=>new ct(this.type,n,r,o,this.propValues),e.makeTree||((n,r,o)=>new ct(Ln.none,n,r,o)))}static build(e){return uj(e)}}ct.empty=new ct(Ln.none,[],[],0);class _x{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new _x(this.buffer,this.index)}}class Xi{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Ln.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],o=this.set.types[n],i=o.name;if(/\W/.test(i)&&!o.isError&&(i=JSON.stringify(i)),e+=4,r==e)return i;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return i+"("+s.join(",")+")"}findChild(e,n,r,o,i){let{buffer:s}=this,u=-1;for(let c=e;c!=n&&!(w4(i,o,s[c+1],s[c+2])&&(u=c,r>0));c=s[c+3]);return u}slice(e,n,r){let o=this.buffer,i=new Uint16Array(n-e),s=0;for(let u=e,c=0;u<n;){i[c++]=o[u++],i[c++]=o[u++]-r;let d=i[c++]=o[u++]-r;i[c++]=o[u++]-e,s=Math.max(s,d)}return new Xi(i,s,this.set)}}function w4(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function sh(t,e,n,r){for(var o;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof dr&&t.index<0?null:t.parent;if(!s)return t;t=s}let i=r?0:jt.IgnoreOverlays;if(r)for(let s=t,u=s.parent;u;s=u,u=s.parent)s instanceof dr&&s.index<0&&((o=u.enter(e,n,i))===null||o===void 0?void 0:o.from)!=s.from&&(t=u);for(;;){let s=t.enter(e,n,i);if(!s)return t;t=s}}class x4{cursor(e=0){return new Jy(this,e)}getChild(e,n=null,r=null){let o=GE(this,e,n,r);return o.length?o[0]:null}getChildren(e,n=null,r=null){return GE(this,e,n,r)}resolve(e,n=0){return sh(this,e,n,!1)}resolveInner(e,n=0){return sh(this,e,n,!0)}matchContext(e){return qy(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let o=n.lastChild;if(!o||o.to!=n.to)break;o.type.isError&&o.from==o.to?(r=n,n=o.prevSibling):n=o}return r}get node(){return this}get next(){return this.parent}}class dr extends x4{constructor(e,n,r,o){super(),this._tree=e,this.from=n,this.index=r,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,o,i=0){for(let s=this;;){for(let{children:u,positions:c}=s._tree,d=n>0?u.length:-1;e!=d;e+=n){let f=u[e],p=c[e]+s.from;if(w4(o,r,p,p+f.length)){if(f instanceof Xi){if(i&jt.ExcludeBuffers)continue;let g=f.findChild(0,f.buffer.length,n,r-p,o);if(g>-1)return new Ri(new sj(s,f,e,p),null,g)}else if(i&jt.IncludeAnonymous||!f.type.isAnonymous||Dx(f)){let g;if(!(i&jt.IgnoreMounts)&&(g=rm.get(f))&&!g.overlay)return new dr(g.tree,p,e,s);let v=new dr(f,p,e,s);return i&jt.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?f.children.length-1:0,n,r,o)}}}if(i&jt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let o;if(!(r&jt.IgnoreOverlays)&&(o=rm.get(this._tree))&&o.overlay){let i=e-this.from;for(let{from:s,to:u}of o.overlay)if((n>0?s<=i:s<i)&&(n<0?u>=i:u>i))return new dr(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function GE(t,e,n,r){let o=t.cursor(),i=[];if(!o.firstChild())return i;if(n!=null){for(let s=!1;!s;)if(s=o.type.is(n),!o.nextSibling())return i}for(;;){if(r!=null&&o.type.is(r))return i;if(o.type.is(e)&&i.push(o.node),!o.nextSibling())return r==null?i:[]}}function qy(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class sj{constructor(e,n,r,o){this.parent=e,this.buffer=n,this.index=r,this.start=o}}class Ri extends x4{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.context.start,r);return i<0?null:new Ri(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&jt.ExcludeBuffers)return null;let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return i<0?null:new Ri(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ri(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Ri(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,o=this.index+4,i=r.buffer[this.index+3];if(i>o){let s=r.buffer[this.index+1];e.push(r.slice(o,i,s)),n.push(0)}return new ct(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function b4(t){if(!t.length)return null;let e=0,n=t[0];for(let i=1;i<t.length;i++){let s=t[i];(s.from>n.from||s.to<n.to)&&(n=s,e=i)}let r=n instanceof dr&&n.index<0?null:n.parent,o=t.slice();return r?o[e]=r:o.splice(e,1),new lj(o,n)}class lj{constructor(e,n){this.heads=e,this.node=n}get next(){return b4(this.heads)}}function aj(t,e,n){let r=t.resolveInner(e,n),o=null;for(let i=r instanceof dr?r:r.context.parent;i;i=i.parent)if(i.index<0){let s=i.parent;(o||(o=[r])).push(s.resolve(e,n)),i=s}else{let s=rm.get(i.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let u=new dr(s.tree,s.overlay[0].from+i.from,-1,i);(o||(o=[r])).push(sh(u,e,n,!1))}}return o?b4(o):r}class Jy{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof dr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:o}=this.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=r+o.buffer[e+1],this.to=r+o.buffer[e+2],!0}yield(e){return e?e instanceof dr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:o}=this.buffer,i=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.buffer.start,r);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&jt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&jt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&jt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let o=r<0?0:this.stack[r]+4;if(this.index!=o)return this.yieldBuf(n.findChild(o,this.index,-1,0,4))}else{let o=n.buffer[this.index+3];if(o<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(o)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:o}=this;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(o.buffer.buffer[i+3]<this.index)return!1;({index:n,parent:r}=o)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let i=n+e,s=e<0?-1:r._tree.children.length;i!=s;i+=e){let u=r._tree.children[i];if(this.mode&jt.IncludeAnonymous||u instanceof Xi||!u.type.isAnonymous||Dx(u))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let o=this.index,i=this.stack.length;i>=0;){for(let s=e;s;s=s._parent)if(s.index==o){if(o==this.index)return s;n=s,r=i+1;break e}o=this.stack[--i]}for(let o=r;o<this.stack.length;o++)n=new Ri(this.buffer,n,this.stack[o]);return this.bufferNode=new Ri(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let o=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(o=!0)}for(;o&&n&&n(this),o=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,o=!0}}}matchContext(e){if(!this.buffer)return qy(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let o=e.length-1,i=this.stack.length-1;o>=0;i--){if(i<0)return qy(this._tree,e,o);let s=r[n.buffer[this.stack[i]]];if(!s.isAnonymous){if(e[o]&&e[o]!=s.name)return!1;o--}}return!0}}function Dx(t){return t.children.some(e=>e instanceof Xi||!e.type.isAnonymous||Dx(e))}function uj(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:o=rj,reused:i=[],minRepeatType:s=r.types.length}=t,u=Array.isArray(n)?new _x(n,n.length):n,c=r.types,d=0,f=0;function p(A,$,T,z,B,F){let{id:Q,start:W,end:G,size:P}=u,H=f,D=d;for(;P<0;)if(u.next(),P==-1){let J=i[Q];T.push(J),z.push(W-A);return}else if(P==-3){d=Q;return}else if(P==-4){f=Q;return}else throw new RangeError(`Unrecognized record size: ${P}`);let U=c[Q],O,L,_=W-A;if(G-W<=o&&(L=E(u.pos-$,B))){let J=new Uint16Array(L.size-L.skip),X=u.pos-L.size,ce=J.length;for(;u.pos>X;)ce=b(L.start,J,ce);O=new Xi(J,G-L.start,r),_=L.start-A}else{let J=u.pos-P;u.next();let X=[],ce=[],se=Q>=s?Q:-1,ue=0,de=G;for(;u.pos>J;)se>=0&&u.id==se&&u.size>=0?(u.end<=de-o&&(x(X,ce,W,ue,u.end,de,se,H,D),ue=X.length,de=u.end),u.next()):F>2500?g(W,J,X,ce):p(W,J,X,ce,se,F+1);if(se>=0&&ue>0&&ue<X.length&&x(X,ce,W,ue,W,de,se,H,D),X.reverse(),ce.reverse(),se>-1&&ue>0){let we=v(U,D);O=Ix(U,X,ce,0,X.length,0,G-W,we,we)}else O=k(U,X,ce,G-W,H-G,D)}T.push(O),z.push(_)}function g(A,$,T,z){let B=[],F=0,Q=-1;for(;u.pos>$;){let{id:W,start:G,end:P,size:H}=u;if(H>4)u.next();else{if(Q>-1&&G<Q)break;Q<0&&(Q=P-o),B.push(W,G,P),F++,u.next()}}if(F){let W=new Uint16Array(F*4),G=B[B.length-2];for(let P=B.length-3,H=0;P>=0;P-=3)W[H++]=B[P],W[H++]=B[P+1]-G,W[H++]=B[P+2]-G,W[H++]=H;T.push(new Xi(W,B[2]-G,r)),z.push(G-A)}}function v(A,$){return(T,z,B)=>{let F=0,Q=T.length-1,W,G;if(Q>=0&&(W=T[Q])instanceof ct){if(!Q&&W.type==A&&W.length==B)return W;(G=W.prop(ze.lookAhead))&&(F=z[Q]+W.length+G)}return k(A,T,z,B,F,$)}}function x(A,$,T,z,B,F,Q,W,G){let P=[],H=[];for(;A.length>z;)P.push(A.pop()),H.push($.pop()+T-B);A.push(k(r.types[Q],P,H,F-B,W-F,G)),$.push(B-T)}function k(A,$,T,z,B,F,Q){if(F){let W=[ze.contextHash,F];Q=Q?[W].concat(Q):[W]}if(B>25){let W=[ze.lookAhead,B];Q=Q?[W].concat(Q):[W]}return new ct(A,$,T,z,Q)}function E(A,$){let T=u.fork(),z=0,B=0,F=0,Q=T.end-o,W={size:0,start:0,skip:0};e:for(let G=T.pos-A;T.pos>G;){let P=T.size;if(T.id==$&&P>=0){W.size=z,W.start=B,W.skip=F,F+=4,z+=4,T.next();continue}let H=T.pos-P;if(P<0||H<G||T.start<Q)break;let D=T.id>=s?4:0,U=T.start;for(T.next();T.pos>H;){if(T.size<0)if(T.size==-3)D+=4;else break e;else T.id>=s&&(D+=4);T.next()}B=U,z+=P,F+=D}return($<0||z==A)&&(W.size=z,W.start=B,W.skip=F),W.size>4?W:void 0}function b(A,$,T){let{id:z,start:B,end:F,size:Q}=u;if(u.next(),Q>=0&&z<s){let W=T;if(Q>4){let G=u.pos-(Q-4);for(;u.pos>G;)T=b(A,$,T)}$[--T]=W,$[--T]=F-A,$[--T]=B-A,$[--T]=z}else Q==-3?d=z:Q==-4&&(f=z);return T}let S=[],C=[];for(;u.pos>0;)p(t.start||0,t.bufferStart||0,S,C,-1,0);let M=(e=t.length)!==null&&e!==void 0?e:S.length?C[0]+S[0].length:0;return new ct(c[t.topID],S.reverse(),C.reverse(),M)}const qE=new WeakMap;function fp(t,e){if(!t.isAnonymous||e instanceof Xi||e.type!=t)return 1;let n=qE.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ct)){n=1;break}n+=fp(t,r)}qE.set(e,n)}return n}function Ix(t,e,n,r,o,i,s,u,c){let d=0;for(let x=r;x<o;x++)d+=fp(t,e[x]);let f=Math.ceil(d*1.5/8),p=[],g=[];function v(x,k,E,b,S){for(let C=E;C<b;){let M=C,A=k[C],$=fp(t,x[C]);for(C++;C<b;C++){let T=fp(t,x[C]);if($+T>=f)break;$+=T}if(C==M+1){if($>f){let T=x[M];v(T.children,T.positions,0,T.children.length,k[M]+S);continue}p.push(x[M])}else{let T=k[C-1]+x[C-1].length-A;p.push(Ix(t,x,k,M,C,A,T,null,c))}g.push(A+S-i)}}return v(e,n,r,o,0),(u||c)(p,g,s)}class Vs{constructor(e,n,r,o,i=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=o,this.open=(i?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let o=[new Vs(0,e.length,e,0,!1,r)];for(let i of n)i.to>e.length&&o.push(i);return o}static applyChanges(e,n,r=128){if(!n.length)return e;let o=[],i=1,s=e.length?e[0]:null;for(let u=0,c=0,d=0;;u++){let f=u<n.length?n[u]:null,p=f?f.fromA:1e9;if(p-c>=r)for(;s&&s.from<p;){let g=s;if(c>=g.from||p<=g.to||d){let v=Math.max(g.from,c)-d,x=Math.min(g.to,p)-d;g=v>=x?null:new Vs(v,x,g.tree,g.offset+d,u>0,!!f)}if(g&&o.push(g),s.to>p)break;s=i<e.length?e[i++]:null}if(!f)break;c=f.toA,d=f.toA-f.toB}return o}}class k4{startParse(e,n,r){return typeof e=="string"&&(e=new cj(e)),r=r?r.length?r.map(o=>new U1(o.from,o.to)):[new U1(0,0)]:[new U1(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let o=this.startParse(e,n,r);for(;;){let i=o.advance();if(i)return i}}}class cj{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new ze({perNode:!0});let hj=0;class sr{constructor(e,n,r,o){this.name=e,this.set=n,this.base=r,this.modified=o,this.id=hj++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof sr&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let o=new sr(r,[],null,[]);if(o.set.push(o),n)for(let i of n.set)o.set.push(i);return o}static defineModifier(e){let n=new om(e);return r=>r.modified.indexOf(n)>-1?r:om.get(r.base||r,r.modified.concat(n).sort((o,i)=>o.id-i.id))}}let dj=0;class om{constructor(e){this.name=e,this.instances=[],this.id=dj++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(u=>u.base==e&&fj(n,u.modified));if(r)return r;let o=[],i=new sr(e.name,o,e,n);for(let u of n)u.instances.push(i);let s=pj(n);for(let u of e.set)if(!u.modified.length)for(let c of s)o.push(om.get(u,c));return i}}function fj(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function pj(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,o=e.length;r<o;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function mj(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let o of n.split(" "))if(o){let i=[],s=2,u=o;for(let p=0;;){if(u=="..."&&p>0&&p+3==o.length){s=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!g)throw new RangeError("Invalid path: "+o);if(i.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),p+=g[0].length,p==o.length)break;let v=o[p++];if(p==o.length&&v=="!"){s=0;break}if(v!="/")throw new RangeError("Invalid path: "+o);u=o.slice(p)}let c=i.length-1,d=i[c];if(!d)throw new RangeError("Invalid path: "+o);let f=new im(r,s,c>0?i.slice(0,c):null);e[d]=f.sort(e[d])}}return S4.add(e)}const S4=new ze;class im{constructor(e,n,r,o){this.tags=e,this.mode=n,this.context=r,this.next=o}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}im.empty=new im([],2,null);function C4(t,e){let n=Object.create(null);for(let i of t)if(!Array.isArray(i.tag))n[i.tag.id]=i.class;else for(let s of i.tag)n[s.id]=i.class;let{scope:r,all:o=null}=e||{};return{style:i=>{let s=o;for(let u of i)for(let c of u.set){let d=n[c.id];if(d){s=s?s+" "+d:d;break}}return s},scope:r}}function gj(t,e){let n=null;for(let r of t){let o=r.style(e);o&&(n=n?n+" "+o:o)}return n}function vj(t,e,n,r=0,o=t.length){let i=new yj(r,Array.isArray(e)?e:[e],n);i.highlightRange(t.cursor(),r,o,"",i.highlighters),i.flush(o)}class yj{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,o,i){let{type:s,from:u,to:c}=e;if(u>=r||c<=n)return;s.isTop&&(i=this.highlighters.filter(v=>!v.scope||v.scope(s)));let d=o,f=wj(e)||im.empty,p=gj(i,f.tags);if(p&&(d&&(d+=" "),d+=p,f.mode==1&&(o+=(o?" ":"")+p)),this.startSpan(Math.max(n,u),d),f.opaque)return;let g=e.tree&&e.tree.prop(ze.mounted);if(g&&g.overlay){let v=e.node.enter(g.overlay[0].from+u,1),x=this.highlighters.filter(E=>!E.scope||E.scope(g.tree.type)),k=e.firstChild();for(let E=0,b=u;;E++){let S=E<g.overlay.length?g.overlay[E]:null,C=S?S.from+u:c,M=Math.max(n,b),A=Math.min(r,C);if(M<A&&k)for(;e.from<A&&(this.highlightRange(e,M,A,o,i),this.startSpan(Math.min(A,e.to),d),!(e.to>=C||!e.nextSibling())););if(!S||C>r)break;b=S.to+u,b>n&&(this.highlightRange(v.cursor(),Math.max(n,S.from+u),Math.min(r,b),"",x),this.startSpan(Math.min(r,b),d))}k&&e.parent()}else if(e.firstChild()){g&&(o="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,o,i),this.startSpan(Math.min(r,e.to),d)}while(e.nextSibling());e.parent()}}}function wj(t){let e=t.type.prop(S4);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const he=sr.define,zf=he(),ki=he(),JE=he(ki),XE=he(ki),Si=he(),_f=he(Si),K1=he(Si),Gr=he(),Es=he(Gr),Qr=he(),Zr=he(),Xy=he(),Zu=he(Xy),Df=he(),ee={comment:zf,lineComment:he(zf),blockComment:he(zf),docComment:he(zf),name:ki,variableName:he(ki),typeName:JE,tagName:he(JE),propertyName:XE,attributeName:he(XE),className:he(ki),labelName:he(ki),namespace:he(ki),macroName:he(ki),literal:Si,string:_f,docString:he(_f),character:he(_f),attributeValue:he(_f),number:K1,integer:he(K1),float:he(K1),bool:he(Si),regexp:he(Si),escape:he(Si),color:he(Si),url:he(Si),keyword:Qr,self:he(Qr),null:he(Qr),atom:he(Qr),unit:he(Qr),modifier:he(Qr),operatorKeyword:he(Qr),controlKeyword:he(Qr),definitionKeyword:he(Qr),moduleKeyword:he(Qr),operator:Zr,derefOperator:he(Zr),arithmeticOperator:he(Zr),logicOperator:he(Zr),bitwiseOperator:he(Zr),compareOperator:he(Zr),updateOperator:he(Zr),definitionOperator:he(Zr),typeOperator:he(Zr),controlOperator:he(Zr),punctuation:Xy,separator:he(Xy),bracket:Zu,angleBracket:he(Zu),squareBracket:he(Zu),paren:he(Zu),brace:he(Zu),content:Gr,heading:Es,heading1:he(Es),heading2:he(Es),heading3:he(Es),heading4:he(Es),heading5:he(Es),heading6:he(Es),contentSeparator:he(Gr),list:he(Gr),quote:he(Gr),emphasis:he(Gr),strong:he(Gr),link:he(Gr),monospace:he(Gr),strikethrough:he(Gr),inserted:he(),deleted:he(),changed:he(),invalid:he(),meta:Df,documentMeta:he(Df),annotation:he(Df),processingInstruction:he(Df),definition:sr.defineModifier("definition"),constant:sr.defineModifier("constant"),function:sr.defineModifier("function"),standard:sr.defineModifier("standard"),local:sr.defineModifier("local"),special:sr.defineModifier("special")};for(let t in ee){let e=ee[t];e instanceof sr&&(e.name=t)}C4([{tag:ee.link,class:"tok-link"},{tag:ee.heading,class:"tok-heading"},{tag:ee.emphasis,class:"tok-emphasis"},{tag:ee.strong,class:"tok-strong"},{tag:ee.keyword,class:"tok-keyword"},{tag:ee.atom,class:"tok-atom"},{tag:ee.bool,class:"tok-bool"},{tag:ee.url,class:"tok-url"},{tag:ee.labelName,class:"tok-labelName"},{tag:ee.inserted,class:"tok-inserted"},{tag:ee.deleted,class:"tok-deleted"},{tag:ee.literal,class:"tok-literal"},{tag:ee.string,class:"tok-string"},{tag:ee.number,class:"tok-number"},{tag:[ee.regexp,ee.escape,ee.special(ee.string)],class:"tok-string2"},{tag:ee.variableName,class:"tok-variableName"},{tag:ee.local(ee.variableName),class:"tok-variableName tok-local"},{tag:ee.definition(ee.variableName),class:"tok-variableName tok-definition"},{tag:ee.special(ee.variableName),class:"tok-variableName2"},{tag:ee.definition(ee.propertyName),class:"tok-propertyName tok-definition"},{tag:ee.typeName,class:"tok-typeName"},{tag:ee.namespace,class:"tok-namespace"},{tag:ee.className,class:"tok-className"},{tag:ee.macroName,class:"tok-macroName"},{tag:ee.propertyName,class:"tok-propertyName"},{tag:ee.operator,class:"tok-operator"},{tag:ee.comment,class:"tok-comment"},{tag:ee.meta,class:"tok-meta"},{tag:ee.invalid,class:"tok-invalid"},{tag:ee.punctuation,class:"tok-punctuation"}]);var Y1;const ra=new ze;function xj(t){return ge.define({combine:t?e=>e.concat(t):void 0})}const bj=new ze;class $r{constructor(e,n,r=[],o=""){this.data=e,this.name=o,rt.prototype.hasOwnProperty("tree")||Object.defineProperty(rt.prototype,"tree",{get(){return Yt(this)}}),this.parser=n,this.extension=[es.of(this),rt.languageData.of((i,s,u)=>{let c=eM(i,s,u),d=c.type.prop(ra);if(!d)return[];let f=i.facet(d),p=c.type.prop(bj);if(p){let g=c.resolve(s-c.from,u);for(let v of p)if(v.test(g,i)){let x=i.facet(v.facet);return v.type=="replace"?x:x.concat(f)}}return f})].concat(r)}isActiveAt(e,n,r=-1){return eM(e,n,r).type.prop(ra)==this.data}findRegions(e){let n=e.facet(es);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],o=(i,s)=>{if(i.prop(ra)==this.data){r.push({from:s,to:s+i.length});return}let u=i.prop(ze.mounted);if(u){if(u.tree.prop(ra)==this.data){if(u.overlay)for(let c of u.overlay)r.push({from:c.from+s,to:c.to+s});else r.push({from:s,to:s+i.length});return}else if(u.overlay){let c=r.length;if(o(u.tree,u.overlay[0].from+s),r.length>c)return}}for(let c=0;c<i.children.length;c++){let d=i.children[c];d instanceof ct&&o(d,i.positions[c]+s)}};return o(Yt(e),0),r}get allowsNesting(){return!0}}$r.setState=$e.define();function eM(t,e,n){let r=t.facet(es),o=Yt(t).topNode;if(!r||r.allowsNesting)for(let i=o;i;i=i.enter(e,n,jt.ExcludeBuffers))i.type.isTop&&(o=i);return o}function Yt(t){let e=t.field($r.state,!1);return e?e.tree:ct.empty}class kj{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Gu=null;class Da{constructor(e,n,r=[],o,i,s,u,c){this.parser=e,this.state=n,this.fragments=r,this.tree=o,this.treeLen=i,this.viewport=s,this.skipped=u,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Da(e,n,[],ct.empty,0,r,[],null)}startParse(){return this.parser.startParse(new kj(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ct.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let o=Date.now()+e;e=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let o=this.parse.advance();if(o)if(this.fragments=this.withoutTempSkipped(Vs.addTree(o,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=o,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Vs.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Gu;Gu=this;try{return e()}finally{Gu=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=tM(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:o,treeLen:i,viewport:s,skipped:u}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((d,f,p,g)=>c.push({fromA:d,toA:f,fromB:p,toB:g})),r=Vs.applyChanges(r,c),o=ct.empty,i=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){u=[];for(let d of this.skipped){let f=e.mapPos(d.from,1),p=e.mapPos(d.to,-1);f<p&&u.push({from:f,to:p})}}}return new Da(this.parser,n,r,o,i,s,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:o,to:i}=this.skipped[r];o<e.to&&i>e.from&&(this.fragments=tM(this.fragments,o,i),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends k4{createParse(n,r,o){let i=o[0].from,s=o[o.length-1].to;return{parsedPos:i,advance(){let u=Gu;if(u){for(let c of o)u.tempSkipped.push(c);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=s,new ct(Ln.none,[],[],s-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Gu}}function tM(t,e,n){return Vs.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Ia{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Ia(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Da.create(e.facet(es).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Ia(r)}}$r.state=Qt.define({create:Ia.init,update(t,e){for(let n of e.effects)if(n.is($r.setState))return n.value;return e.startState.facet(es)!=e.state.facet(es)?Ia.init(e.state):t.apply(e)}});let E4=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(E4=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Q1=typeof navigator<"u"&&!((Y1=navigator.scheduling)===null||Y1===void 0)&&Y1.isInputPending?()=>navigator.scheduling.isInputPending():null,Sj=xt.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field($r.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field($r.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=E4(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field($r.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,t&&!Q1?Math.max(25,t.timeRemaining()-5):1e9),s=o.context.treeLen<r&&n.doc.length>r+1e3,u=o.context.work(()=>Q1&&Q1()||Date.now()>i,r+(s?0:1e5));this.chunkBudget-=Date.now()-e,(u||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:$r.setState.of(new Ia(o.context))})),this.chunkBudget>0&&!(u&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>An(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),es=ge.define({combine(t){return t.length?t[0]:null},enables:t=>[$r.state,Sj,pe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]}),M4=ge.define(),qm=ge.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function el(t){let e=t.facet(qm);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function lh(t,e){let n="",r=t.tabSize,o=t.facet(qm)[0];if(o=="	"){for(;e>=r;)n+="	",e-=r;o=" "}for(let i=0;i<e;i++)n+=o;return n}function Bx(t,e){t instanceof rt&&(t=new Jm(t));for(let r of t.state.facet(M4)){let o=r(t,e);if(o!==void 0)return o}let n=Yt(t.state);return n.length>=e?Ej(t,n,e):null}class Jm{constructor(e,n={}){this.state=e,this.options=n,this.unit=el(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:o,simulateDoubleBreak:i}=this.options;return o!=null&&o>=r.from&&o<=r.to?i&&o==e?{text:"",from:e}:(n<0?o<e:o<=e)?{text:r.text.slice(o-r.from),from:o}:{text:r.text.slice(0,o-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:o}=this.lineAt(e,n);return r.slice(e-o,Math.min(r.length,e+100-o))}column(e,n=1){let{text:r,from:o}=this.lineAt(e,n),i=this.countColumn(r,e-o),s=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return s>-1&&(i+=s-this.countColumn(r,r.search(/\S|$/))),i}countColumn(e,n=e.length){return Wa(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:o}=this.lineAt(e,n),i=this.options.overrideIndentation;if(i){let s=i(o);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Cj=new ze;function Ej(t,e,n){let r=e.resolveStack(n),o=r.node.enterUnfinishedNodesBefore(n);if(o!=r.node){let i=[];for(let s=o;s!=r.node;s=s.parent)i.push(s);for(let s=i.length-1;s>=0;s--)r={node:i[s],next:r}}return N4(r,t,n)}function N4(t,e,n){for(let r=t;r;r=r.next){let o=Nj(r.node);if(o)return o(Fx.create(e,n,r))}return 0}function Mj(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Nj(t){let e=t.type.prop(Cj);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(ze.closedBy))){let o=t.lastChild,i=o&&r.indexOf(o.name)>-1;return s=>Pj(s,!0,1,void 0,i&&!Mj(s)?o.from:void 0)}return t.parent==null?Aj:null}function Aj(){return 0}class Fx extends Jm{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new Fx(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Oj(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return N4(this.context.next,this.base,this.pos)}}function Oj(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Tj(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let o=t.options.simulateBreak,i=t.state.doc.lineAt(n.from),s=o==null||o<=i.from?i.to:Math.min(i.to,o);for(let u=n.to;;){let c=e.childAfter(u);if(!c||c==r)return null;if(!c.type.isSkipped){if(c.from>=s)return null;let d=/^ */.exec(i.text.slice(n.to-i.from))[0].length;return{from:n.from,to:n.to+d}}u=c.to}}function Pj(t,e,n,r,o){let i=t.textAfter,s=i.match(/^\s*/)[0].length,u=o==t.pos+s,c=Tj(t);return c?u?t.column(c.from):t.column(c.to):t.baseIndent+(u?0:t.unit*n)}const $j=200;function Lj(){return rt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,o=n.lineAt(r);if(r>o.from+$j)return t;let i=n.sliceString(o.from,r);if(!e.some(d=>d.test(i)))return t;let{state:s}=t,u=-1,c=[];for(let{head:d}of s.selection.ranges){let f=s.doc.lineAt(d);if(f.from==u)continue;u=f.from;let p=Bx(s,f.from);if(p==null)continue;let g=/^\s*/.exec(f.text)[0],v=lh(s,p);g!=v&&c.push({from:f.from,to:f.from+g.length,insert:v})}return c.length?[t,{changes:c,sequential:!0}]:t})}const Rj=ge.define(),zj=new ze;function _j(t,e,n){let r=Yt(t);if(r.length<n)return null;let o=r.resolveStack(n,1),i=null;for(let s=o;s;s=s.next){let u=s.node;if(u.to<=n||u.from>n)continue;if(i&&u.from<e)break;let c=u.type.prop(zj);if(c&&(u.to<r.length-50||r.length==t.doc.length||!Dj(u))){let d=c(u,t);d&&d.from<=n&&d.from>=e&&d.to>n&&(i=d)}}return i}function Dj(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function sm(t,e,n){for(let r of t.facet(Rj)){let o=r(t,e,n);if(o)return o}return _j(t,e,n)}function A4(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Xm=$e.define({map:A4}),Ah=$e.define({map:A4});function O4(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const tl=Qt.define({create(){return Me.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Xm)&&!Ij(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet($4),o=r?Me.replace({widget:new Uj(r(e.state,n.value))}):nM;t=t.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(Ah)&&(t=t.update({filter:(r,o)=>n.value.from!=r||n.value.to!=o,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(o,i)=>{o<r&&i>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(o,i)=>i<=r||o>=r}))}return t},provide:t=>pe.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,o)=>{n.push(r,o)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],o=t[n++];if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid JSON for fold state");e.push(nM.range(r,o))}return Me.set(e,!0)}});function lm(t,e,n){var r;let o=null;return(r=t.field(tl,!1))===null||r===void 0||r.between(e,n,(i,s)=>{(!o||o.from>i)&&(o={from:i,to:s})}),o}function Ij(t,e,n){let r=!1;return t.between(e,e,(o,i)=>{o==e&&i==n&&(r=!0)}),r}function T4(t,e){return t.field(tl,!1)?e:e.concat($e.appendConfig.of(L4()))}const Bj=t=>{for(let e of O4(t)){let n=sm(t.state,e.from,e.to);if(n)return t.dispatch({effects:T4(t.state,[Xm.of(n),P4(t,n)])}),!0}return!1},Fj=t=>{if(!t.state.field(tl,!1))return!1;let e=[];for(let n of O4(t)){let r=lm(t.state,n.from,n.to);r&&e.push(Ah.of(r),P4(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function P4(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,o=t.state.doc.lineAt(e.to).number;return pe.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${o}.`)}const Vj=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let o=t.lineBlockAt(r),i=sm(e,o.from,o.to);i&&n.push(Xm.of(i)),r=(i?t.lineBlockAt(i.to):o).to+1}return n.length&&t.dispatch({effects:T4(t.state,n)}),!!n.length},jj=t=>{let e=t.state.field(tl,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,o)=>{n.push(Ah.of({from:r,to:o}))}),t.dispatch({effects:n}),!0},Hj=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Bj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Fj},{key:"Ctrl-Alt-[",run:Vj},{key:"Ctrl-Alt-]",run:jj}],Wj={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},$4=ge.define({combine(t){return co(t,Wj)}});function L4(t){return[tl,Qj]}function R4(t,e){let{state:n}=t,r=n.facet($4),o=s=>{let u=t.lineBlockAt(t.posAtDOM(s.target)),c=lm(t.state,u.from,u.to);c&&t.dispatch({effects:Ah.of(c)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,o,e);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",n.phrase("folded code")),i.title=n.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=o,i}const nM=Me.replace({widget:new class extends Ho{toDOM(t){return R4(t,null)}}});class Uj extends Ho{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return R4(e,this.value)}}const Kj={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Z1 extends Bo{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Yj(t={}){let e=Object.assign(Object.assign({},Kj),t),n=new Z1(e,!0),r=new Z1(e,!1),o=xt.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(es)!=s.state.facet(es)||s.startState.field(tl,!1)!=s.state.field(tl,!1)||Yt(s.startState)!=Yt(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let u=new Zi;for(let c of s.viewportLineBlocks){let d=lm(s.state,c.from,c.to)?r:sm(s.state,c.from,c.to)?n:null;d&&u.add(c.from,c.from,d)}return u.finish()}}),{domEventHandlers:i}=e;return[o,KV({class:"cm-foldGutter",markers(s){var u;return((u=s.plugin(o))===null||u===void 0?void 0:u.markers)||ot.empty},initialSpacer(){return new Z1(e,!1)},domEventHandlers:Object.assign(Object.assign({},i),{click:(s,u,c)=>{if(i.click&&i.click(s,u,c))return!0;let d=lm(s.state,u.from,u.to);if(d)return s.dispatch({effects:Ah.of(d)}),!0;let f=sm(s.state,u.from,u.to);return f?(s.dispatch({effects:Xm.of(f)}),!0):!1}})}),L4()]}const Qj=pe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Oh{constructor(e,n){this.specs=e;let r;function o(u){let c=Gi.newName();return(r||(r=Object.create(null)))["."+c]=u,c}const i=typeof n.all=="string"?n.all:n.all?o(n.all):void 0,s=n.scope;this.scope=s instanceof $r?u=>u.prop(ra)==s.data:s?u=>u==s:void 0,this.style=C4(e.map(u=>({tag:u.tag,class:u.class||o(Object.assign({},u,{tag:null}))})),{all:i}).style,this.module=r?new Gi(r):null,this.themeType=n.themeType}static define(e,n){return new Oh(e,n||{})}}const ew=ge.define(),z4=ge.define({combine(t){return t.length?[t[0]]:null}});function G1(t){let e=t.facet(ew);return e.length?e:t.facet(z4)}function _4(t,e){let n=[Gj],r;return t instanceof Oh&&(t.module&&n.push(pe.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(z4.of(t)):r?n.push(ew.computeN([pe.darkTheme],o=>o.facet(pe.darkTheme)==(r=="dark")?[t]:[])):n.push(ew.of(t)),n}class Zj{constructor(e){this.markCache=Object.create(null),this.tree=Yt(e.state),this.decorations=this.buildDeco(e,G1(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Yt(e.state),r=G1(e.state),o=r!=G1(e.startState),{viewport:i}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<i.to&&!o&&n.type==this.tree.type&&s>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||o)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=i.to)}buildDeco(e,n){if(!n||!this.tree.length)return Me.none;let r=new Zi;for(let{from:o,to:i}of e.visibleRanges)vj(this.tree,n,(s,u,c)=>{r.add(s,u,this.markCache[c]||(this.markCache[c]=Me.mark({class:c})))},o,i);return r.finish()}}const Gj=ol.high(xt.fromClass(Zj,{decorations:t=>t.decorations})),qj=Oh.define([{tag:ee.meta,color:"#404740"},{tag:ee.link,textDecoration:"underline"},{tag:ee.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ee.emphasis,fontStyle:"italic"},{tag:ee.strong,fontWeight:"bold"},{tag:ee.strikethrough,textDecoration:"line-through"},{tag:ee.keyword,color:"#708"},{tag:[ee.atom,ee.bool,ee.url,ee.contentSeparator,ee.labelName],color:"#219"},{tag:[ee.literal,ee.inserted],color:"#164"},{tag:[ee.string,ee.deleted],color:"#a11"},{tag:[ee.regexp,ee.escape,ee.special(ee.string)],color:"#e40"},{tag:ee.definition(ee.variableName),color:"#00f"},{tag:ee.local(ee.variableName),color:"#30a"},{tag:[ee.typeName,ee.namespace],color:"#085"},{tag:ee.className,color:"#167"},{tag:[ee.special(ee.variableName),ee.macroName],color:"#256"},{tag:ee.definition(ee.propertyName),color:"#00c"},{tag:ee.comment,color:"#940"},{tag:ee.invalid,color:"#f00"}]),Jj=pe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),D4=1e4,I4="()[]{}",B4=ge.define({combine(t){return co(t,{afterCursor:!0,brackets:I4,maxScanDistance:D4,renderMatch:tH})}}),Xj=Me.mark({class:"cm-matchingBracket"}),eH=Me.mark({class:"cm-nonmatchingBracket"});function tH(t){let e=[],n=t.matched?Xj:eH;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const nH=Qt.define({create(){return Me.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(B4);for(let o of e.state.selection.ranges){if(!o.empty)continue;let i=to(e.state,o.head,-1,r)||o.head>0&&to(e.state,o.head-1,1,r)||r.afterCursor&&(to(e.state,o.head,1,r)||o.head<e.state.doc.length&&to(e.state,o.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,e.state)))}return Me.set(n,!0)},provide:t=>pe.decorations.from(t)}),rH=[nH,Jj];function oH(t={}){return[B4.of(t),rH]}const iH=new ze;function tw(t,e,n){let r=t.prop(e<0?ze.openedBy:ze.closedBy);if(r)return r;if(t.name.length==1){let o=n.indexOf(t.name);if(o>-1&&o%2==(e<0?1:0))return[n[o+e]]}return null}function nw(t){let e=t.type.prop(iH);return e?e(t.node):t}function to(t,e,n,r={}){let o=r.maxScanDistance||D4,i=r.brackets||I4,s=Yt(t),u=s.resolveInner(e,n);for(let c=u;c;c=c.parent){let d=tw(c.type,n,i);if(d&&c.from<c.to){let f=nw(c);if(f&&(n>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return sH(t,e,n,c,f,d,i)}}return lH(t,e,n,s,u.type,o,i)}function sH(t,e,n,r,o,i,s){let u=r.parent,c={from:o.from,to:o.to},d=0,f=u==null?void 0:u.cursor();if(f&&(n<0?f.childBefore(r.from):f.childAfter(r.to)))do if(n<0?f.to<=r.from:f.from>=r.to){if(d==0&&i.indexOf(f.type.name)>-1&&f.from<f.to){let p=nw(f);return{start:c,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(tw(f.type,n,s))d++;else if(tw(f.type,-n,s)){if(d==0){let p=nw(f);return{start:c,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}d--}}while(n<0?f.prevSibling():f.nextSibling());return{start:c,matched:!1}}function lH(t,e,n,r,o,i,s){let u=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),c=s.indexOf(u);if(c<0||c%2==0!=n>0)return null;let d={from:n<0?e-1:e,to:n>0?e+1:e},f=t.doc.iterRange(e,n>0?t.doc.length:0),p=0;for(let g=0;!f.next().done&&g<=i;){let v=f.value;n<0&&(g+=v.length);let x=e+g*n;for(let k=n>0?0:v.length-1,E=n>0?v.length:-1;k!=E;k+=n){let b=s.indexOf(v[k]);if(!(b<0||r.resolveInner(x+k,1).type!=o))if(b%2==0==n>0)p++;else{if(p==1)return{start:d,end:{from:x+k,to:x+k+1},matched:b>>1==c>>1};p--}}n>0&&(g+=v.length)}return f.done?{start:d,matched:!1}:null}function rM(t,e,n,r=0,o=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let i=o;for(let s=r;s<e;s++)t.charCodeAt(s)==9?i+=n-i%n:i++;return i}class F4{constructor(e,n,r,o){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=o,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=rM(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:rM(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let o=s=>r?s.toLowerCase():s,i=this.string.substr(this.pos,e.length);return o(i)==o(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let o=this.string.slice(this.pos).match(e);return o&&o.index>0?null:(o&&n!==!1&&(this.pos+=o[0].length),o)}}current(){return this.string.slice(this.start,this.pos)}}function aH(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||uH,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||Hx}}function uH(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const oM=new WeakMap;class Vx extends $r{constructor(e){let n=xj(e.languageData),r=aH(e),o,i=new class extends k4{createParse(s,u,c){return new hH(o,s,u,c)}};super(n,i,[M4.of((s,u)=>this.getIndent(s,u))],e.name),this.topNode=pH(n),o=this,this.streamParser=r,this.stateAfter=new ze({perNode:!0}),this.tokenTable=e.tokenTable?new W4(r.tokenTable):fH}static define(e){return new Vx(e)}getIndent(e,n){let r=Yt(e.state),o=r.resolve(n);for(;o&&o.type!=this.topNode;)o=o.parent;if(!o)return null;let i,{overrideIndentation:s}=e.options;s&&(i=oM.get(e.state),i!=null&&i<n-1e4&&(i=void 0));let u=jx(this,r,0,o.from,i??n),c,d;if(u?(d=u.state,c=u.pos+1):(d=this.streamParser.startState(e.unit),c=0),n-c>1e4)return null;for(;c<n;){let p=e.state.doc.lineAt(c),g=Math.min(n,p.to);if(p.length){let v=s?s(p.from):-1,x=new F4(p.text,e.state.tabSize,e.unit,v<0?void 0:v);for(;x.pos<g-p.from;)j4(this.streamParser.token,x,d)}else this.streamParser.blankLine(d,e.unit);if(g==n)break;c=p.to+1}let f=e.lineAt(n);return s&&i==null&&oM.set(e.state,f.from),this.streamParser.indent(d,/^\s*(.*)/.exec(f.text)[1],e)}get allowsNesting(){return!1}}function jx(t,e,n,r,o){let i=n>=r&&n+e.length<=o&&e.prop(t.stateAfter);if(i)return{state:t.streamParser.copyState(i),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let u=e.children[s],c=n+e.positions[s],d=u instanceof ct&&c<o&&jx(t,u,c,r,o);if(d)return d}return null}function V4(t,e,n,r,o){if(o&&n<=0&&r>=e.length)return e;!o&&e.type==t.topNode&&(o=!0);for(let i=e.children.length-1;i>=0;i--){let s=e.positions[i],u=e.children[i],c;if(s<r&&u instanceof ct){if(!(c=V4(t,u,n-s,r-s,o)))break;return o?new ct(e.type,e.children.slice(0,i).concat(c),e.positions.slice(0,i+1),s+c.length):c}}return null}function cH(t,e,n,r){for(let o of e){let i=o.from+(o.openStart?25:0),s=o.to-(o.openEnd?25:0),u=i<=n&&s>n&&jx(t,o.tree,0-o.offset,n,s),c;if(u&&(c=V4(t,o.tree,n+o.offset,u.pos+o.offset,!1)))return{state:u.state,tree:c}}return{state:t.streamParser.startState(r?el(r):4),tree:ct.empty}}class hH{constructor(e,n,r,o){this.lang=e,this.input=n,this.fragments=r,this.ranges=o,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=o[o.length-1].to;let i=Da.get(),s=o[0].from,{state:u,tree:c}=cH(e,r,s,i==null?void 0:i.state);this.state=u,this.parsedPos=this.chunkStart=s+c.length;for(let d=0;d<c.children.length;d++)this.chunks.push(c.children[d]),this.chunkPos.push(c.positions[d]);i&&this.parsedPos<i.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(el(i.state)),i.skipUntilInView(this.parsedPos,i.viewport.from),this.parsedPos=i.viewport.from),this.moveRangeIndex()}advance(){let e=Da.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let o=this.rangeIndex;;){let i=this.ranges[o].to;if(i>=r||(n=n.slice(0,i-(r-n.length)),o++,o==this.ranges.length))break;let s=this.ranges[o].from,u=this.lineAfter(s);n+=u,r=s+u.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let o=this.ranges[this.rangeIndex].to,i=e+n;if(r>0?o>i:o>=i)break;let s=this.ranges[++this.rangeIndex].from;n+=s-o}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,o,i){if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let s=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,o+=this.chunk.length-s}return this.chunk.push(e,n,r,o),i}parseLine(e){let{line:n,end:r}=this.nextLine(),o=0,{streamParser:i}=this.lang,s=new F4(n,e?e.state.tabSize:4,e?el(e.state):2);if(s.eol())i.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let u=j4(i.token,s,this.state);if(u&&(o=this.emitToken(this.lang.tokenTable.resolve(u),this.parsedPos+s.start,this.parsedPos+s.pos,4,o)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=ct.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:dH,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new ct(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new ct(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function j4(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let o=t(e,n);if(e.pos>e.start)return o}throw new Error("Stream parser failed to advance stream.")}const Hx=Object.create(null),ah=[Ln.none],dH=new zx(ah),iM=[],sM=Object.create(null),H4=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])H4[t]=U4(Hx,e);class W4{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),H4)}resolve(e){return e?this.table[e]||(this.table[e]=U4(this.extra,e)):0}}const fH=new W4(Hx);function q1(t,e){iM.indexOf(t)>-1||(iM.push(t),console.warn(e))}function U4(t,e){let n=[];for(let u of e.split(" ")){let c=[];for(let d of u.split(".")){let f=t[d]||ee[d];f?typeof f=="function"?c.length?c=c.map(f):q1(d,`Modifier ${d} used at start of tag`):c.length?q1(d,`Tag ${d} used as modifier`):c=Array.isArray(f)?f:[f]:q1(d,`Unknown highlighting tag ${d}`)}for(let d of c)n.push(d)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),o=r+" "+n.map(u=>u.id),i=sM[o];if(i)return i.id;let s=sM[o]=Ln.define({id:ah.length,name:r,props:[mj({[r]:n})]});return ah.push(s),s.id}function pH(t){let e=Ln.define({id:ah.length,name:"Document",props:[ra.add(()=>t)],top:!0});return ah.push(e),e}Xe.RTL,Xe.LTR;const mH=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Ux(t.state,n.from);return r.line?gH(t):r.block?yH(t):!1};function Wx(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let o=t(e,n);return o?(r(n.update(o)),!0):!1}}const gH=Wx(bH,0),vH=Wx(K4,0),yH=Wx((t,e)=>K4(t,e,xH(e)),0);function Ux(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const qu=50;function wH(t,{open:e,close:n},r,o){let i=t.sliceDoc(r-qu,r),s=t.sliceDoc(o,o+qu),u=/\s*$/.exec(i)[0].length,c=/^\s*/.exec(s)[0].length,d=i.length-u;if(i.slice(d-e.length,d)==e&&s.slice(c,c+n.length)==n)return{open:{pos:r-u,margin:u&&1},close:{pos:o+c,margin:c&&1}};let f,p;o-r<=2*qu?f=p=t.sliceDoc(r,o):(f=t.sliceDoc(r,r+qu),p=t.sliceDoc(o-qu,o));let g=/^\s*/.exec(f)[0].length,v=/\s*$/.exec(p)[0].length,x=p.length-v-n.length;return f.slice(g,g+e.length)==e&&p.slice(x,x+n.length)==n?{open:{pos:r+g+e.length,margin:/\s/.test(f.charAt(g+e.length))?1:0},close:{pos:o-v-n.length,margin:/\s/.test(p.charAt(x-1))?1:0}}:null}function xH(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),o=n.to<=r.to?r:t.doc.lineAt(n.to),i=e.length-1;i>=0&&e[i].to>r.from?e[i].to=o.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:o.to})}return e}function K4(t,e,n=e.selection.ranges){let r=n.map(i=>Ux(e,i.from).block);if(!r.every(i=>i))return null;let o=n.map((i,s)=>wH(e,r[s],i.from,i.to));if(t!=2&&!o.every(i=>i))return{changes:e.changes(n.map((i,s)=>o[s]?[]:[{from:i.from,insert:r[s].open+" "},{from:i.to,insert:" "+r[s].close}]))};if(t!=1&&o.some(i=>i)){let i=[];for(let s=0,u;s<o.length;s++)if(u=o[s]){let c=r[s],{open:d,close:f}=u;i.push({from:d.pos-c.open.length,to:d.pos+d.margin},{from:f.pos-f.margin,to:f.pos+c.close.length})}return{changes:i}}return null}function bH(t,e,n=e.selection.ranges){let r=[],o=-1;for(let{from:i,to:s}of n){let u=r.length,c=1e9,d=Ux(e,i).line;if(d){for(let f=i;f<=s;){let p=e.doc.lineAt(f);if(p.from>o&&(i==s||s>p.from)){o=p.from;let g=/^\s*/.exec(p.text)[0].length,v=g==p.length,x=p.text.slice(g,g+d.length)==d?g:-1;g<p.text.length&&g<c&&(c=g),r.push({line:p,comment:x,token:d,indent:g,empty:v,single:!1})}f=p.to+1}if(c<1e9)for(let f=u;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=c);r.length==u+1&&(r[u].single=!0)}}if(t!=2&&r.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:u,token:c,indent:d,empty:f,single:p}of r)(p||!f)&&i.push({from:u.from+d,insert:c+" "});let s=e.changes(i);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(i=>i.comment>=0)){let i=[];for(let{line:s,comment:u,token:c}of r)if(u>=0){let d=s.from+u,f=d+c.length;s.text[f-s.from]==" "&&f++,i.push({from:d,to:f})}return{changes:i}}return null}const rw=uo.define(),kH=uo.define(),SH=ge.define(),Y4=ge.define({combine(t){return co(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,o)=>e(r,o)||n(r,o)})}}),Q4=Qt.define({create(){return no.empty},update(t,e){let n=e.state.facet(Y4),r=e.annotation(rw);if(r){let c=On.fromTransaction(e,r.selection),d=r.side,f=d==0?t.undone:t.done;return c?f=am(f,f.length,n.minDepth,c):f=q4(f,e.startState.selection),new no(d==0?r.rest:f,d==0?f:r.rest)}let o=e.annotation(kH);if((o=="full"||o=="before")&&(t=t.isolate()),e.annotation(Tt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let i=On.fromTransaction(e),s=e.annotation(Tt.time),u=e.annotation(Tt.userEvent);return i?t=t.addChanges(i,s,u,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,u,n.newGroupDelay)),(o=="full"||o=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new no(t.done.map(On.fromJSON),t.undone.map(On.fromJSON))}});function CH(t={}){return[Q4,Y4.of(t),pe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?Z4:e.inputType=="historyRedo"?ow:null;return r?(e.preventDefault(),r(n)):!1}})]}function eg(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let o=n.field(Q4,!1);if(!o)return!1;let i=o.pop(t,n,e);return i?(r(i),!0):!1}}const Z4=eg(0,!1),ow=eg(1,!1),EH=eg(0,!0),MH=eg(1,!0);class On{constructor(e,n,r,o,i){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=o,this.selectionsAfter=i}setSelAfter(e){return new On(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(e){return new On(e.changes&&At.fromJSON(e.changes),[],e.mapped&&so.fromJSON(e.mapped),e.startSelection&&te.fromJSON(e.startSelection),e.selectionsAfter.map(te.fromJSON))}static fromTransaction(e,n){let r=ur;for(let o of e.startState.facet(SH)){let i=o(e);i.length&&(r=r.concat(i))}return!r.length&&e.changes.empty?null:new On(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,ur)}static selection(e){return new On(void 0,ur,void 0,void 0,e)}}function am(t,e,n,r){let o=e+1>n+20?e-n-1:0,i=t.slice(o,e);return i.push(r),i}function NH(t,e){let n=[],r=!1;return t.iterChangedRanges((o,i)=>n.push(o,i)),e.iterChangedRanges((o,i,s,u)=>{for(let c=0;c<n.length;){let d=n[c++],f=n[c++];u>=d&&s<=f&&(r=!0)}}),r}function AH(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function G4(t,e){return t.length?e.length?t.concat(e):t:e}const ur=[],OH=200;function q4(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-OH));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),am(t,t.length-1,1e9,n.setSelAfter(r)))}else return[On.selection([e])]}function TH(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function J1(t,e){if(!t.length)return t;let n=t.length,r=ur;for(;n;){let o=PH(t[n-1],e,r);if(o.changes&&!o.changes.empty||o.effects.length){let i=t.slice(0,n);return i[n-1]=o,i}else e=o.mapped,n--,r=o.selectionsAfter}return r.length?[On.selection(r)]:ur}function PH(t,e,n){let r=G4(t.selectionsAfter.length?t.selectionsAfter.map(u=>u.map(e)):ur,n);if(!t.changes)return On.selection(r);let o=t.changes.map(e),i=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(i):i;return new On(o,$e.mapEffects(t.effects,e),s,t.startSelection.map(i),r)}const $H=/^(input\.type|delete)($|\.)/;class no{constructor(e,n,r=0,o=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=o}isolate(){return this.prevTime?new no(this.done,this.undone):this}addChanges(e,n,r,o,i){let s=this.done,u=s[s.length-1];return u&&u.changes&&!u.changes.empty&&e.changes&&(!r||$H.test(r))&&(!u.selectionsAfter.length&&n-this.prevTime<o.newGroupDelay&&o.joinToEvent(i,NH(u.changes,e.changes))||r=="input.type.compose")?s=am(s,s.length-1,o.minDepth,new On(e.changes.compose(u.changes),G4($e.mapEffects(e.effects,u.changes),u.effects),u.mapped,u.startSelection,ur)):s=am(s,s.length,o.minDepth,e),new no(s,ur,n,r)}addSelection(e,n,r,o){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:ur;return i.length>0&&n-this.prevTime<o&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&AH(i[i.length-1],e)?this:new no(q4(this.done,e),this.undone,n,r)}addMapping(e){return new no(J1(this.done,e),J1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let o=e==0?this.done:this.undone;if(o.length==0)return null;let i=o[o.length-1],s=i.selectionsAfter[0]||n.selection;if(r&&i.selectionsAfter.length)return n.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:rw.of({side:e,rest:TH(o),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let u=o.length==1?ur:o.slice(0,o.length-1);return i.mapped&&(u=J1(u,i.mapped)),n.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:rw.of({side:e,rest:u,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}no.empty=new no(ur,ur);const LH=[{key:"Mod-z",run:Z4,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ow,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ow,preventDefault:!0},{key:"Mod-u",run:EH,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:MH,preventDefault:!0}];function Ua(t,e){return te.create(t.ranges.map(e),t.mainIndex)}function ho(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Br({state:t,dispatch:e},n){let r=Ua(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ho(t,r)),!0)}function tg(t,e){return te.cursor(e?t.to:t.from)}function J4(t,e){return Br(t,n=>n.empty?t.moveByChar(n,e):tg(n,e))}function sn(t){return t.textDirectionAt(t.state.selection.main.head)==Xe.LTR}const X4=t=>J4(t,!sn(t)),eP=t=>J4(t,sn(t));function tP(t,e){return Br(t,n=>n.empty?t.moveByGroup(n,e):tg(n,e))}const RH=t=>tP(t,!sn(t)),zH=t=>tP(t,sn(t));function _H(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function ng(t,e,n){let r=Yt(t).resolveInner(e.head),o=n?ze.closedBy:ze.openedBy;for(let c=e.head;;){let d=n?r.childAfter(c):r.childBefore(c);if(!d)break;_H(t,d,o)?r=d:c=n?d.to:d.from}let i=r.type.prop(o),s,u;return i&&(s=n?to(t,r.from,1):to(t,r.to,-1))&&s.matched?u=n?s.end.to:s.end.from:u=n?r.to:r.from,te.cursor(u,n?-1:1)}const DH=t=>Br(t,e=>ng(t.state,e,!sn(t))),IH=t=>Br(t,e=>ng(t.state,e,sn(t)));function nP(t,e){return Br(t,n=>{if(!n.empty)return tg(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const rP=t=>nP(t,!1),oP=t=>nP(t,!0);function iP(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,o;if(e){for(let i of t.state.facet(pe.scrollMargins)){let s=i(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}o=t.scrollDOM.clientHeight-n-r}else o=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,o-5)}}function sP(t,e){let n=iP(t),{state:r}=t,o=Ua(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):tg(s,e));if(o.eq(r.selection))return!1;let i;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),u=t.scrollDOM.getBoundingClientRect(),c=u.top+n.marginTop,d=u.bottom-n.marginBottom;s&&s.top>c&&s.bottom<d&&(i=pe.scrollIntoView(o.main.head,{y:"start",yMargin:s.top-c}))}return t.dispatch(ho(r,o),{effects:i}),!0}const lM=t=>sP(t,!1),iw=t=>sP(t,!0);function is(t,e,n){let r=t.lineBlockAt(e.head),o=t.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?r.to:r.from)&&(o=t.moveToLineBoundary(e,n,!1)),!n&&o.head==r.from&&r.length){let i=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(o=te.cursor(r.from+i))}return o}const BH=t=>Br(t,e=>is(t,e,!0)),FH=t=>Br(t,e=>is(t,e,!1)),VH=t=>Br(t,e=>is(t,e,!sn(t))),jH=t=>Br(t,e=>is(t,e,sn(t))),HH=t=>Br(t,e=>te.cursor(t.lineBlockAt(e.head).from,1)),WH=t=>Br(t,e=>te.cursor(t.lineBlockAt(e.head).to,-1));function UH(t,e,n){let r=!1,o=Ua(t.selection,i=>{let s=to(t,i.head,-1)||to(t,i.head,1)||i.head>0&&to(t,i.head-1,1)||i.head<t.doc.length&&to(t,i.head+1,-1);if(!s||!s.end)return i;r=!0;let u=s.start.from==i.head?s.end.to:s.end.from;return te.cursor(u)});return r?(e(ho(t,o)),!0):!1}const KH=({state:t,dispatch:e})=>UH(t,e);function gr(t,e){let n=Ua(t.state.selection,r=>{let o=e(r);return te.range(r.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ho(t.state,n)),!0)}function lP(t,e){return gr(t,n=>t.moveByChar(n,e))}const aP=t=>lP(t,!sn(t)),uP=t=>lP(t,sn(t));function cP(t,e){return gr(t,n=>t.moveByGroup(n,e))}const YH=t=>cP(t,!sn(t)),QH=t=>cP(t,sn(t)),ZH=t=>gr(t,e=>ng(t.state,e,!sn(t))),GH=t=>gr(t,e=>ng(t.state,e,sn(t)));function hP(t,e){return gr(t,n=>t.moveVertically(n,e))}const dP=t=>hP(t,!1),fP=t=>hP(t,!0);function pP(t,e){return gr(t,n=>t.moveVertically(n,e,iP(t).height))}const aM=t=>pP(t,!1),uM=t=>pP(t,!0),qH=t=>gr(t,e=>is(t,e,!0)),JH=t=>gr(t,e=>is(t,e,!1)),XH=t=>gr(t,e=>is(t,e,!sn(t))),eW=t=>gr(t,e=>is(t,e,sn(t))),tW=t=>gr(t,e=>te.cursor(t.lineBlockAt(e.head).from)),nW=t=>gr(t,e=>te.cursor(t.lineBlockAt(e.head).to)),cM=({state:t,dispatch:e})=>(e(ho(t,{anchor:0})),!0),hM=({state:t,dispatch:e})=>(e(ho(t,{anchor:t.doc.length})),!0),dM=({state:t,dispatch:e})=>(e(ho(t,{anchor:t.selection.main.anchor,head:0})),!0),fM=({state:t,dispatch:e})=>(e(ho(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),rW=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),oW=({state:t,dispatch:e})=>{let n=rg(t).map(({from:r,to:o})=>te.range(r,Math.min(o+1,t.doc.length)));return e(t.update({selection:te.create(n),userEvent:"select"})),!0},iW=({state:t,dispatch:e})=>{let n=Ua(t.selection,r=>{let o=Yt(t),i=o.resolveStack(r.from,1);if(r.empty){let s=o.resolveStack(r.from,-1);s.node.from>=i.node.from&&s.node.to<=i.node.to&&(i=s)}for(let s=i;s;s=s.next){let{node:u}=s;if((u.from<r.from&&u.to>=r.to||u.to>r.to&&u.from<=r.from)&&s.next)return te.range(u.to,u.from)}return r});return n.eq(t.selection)?!1:(e(ho(t,n)),!0)},sW=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=te.create([n.main]):n.main.empty||(r=te.create([te.cursor(n.main.head)])),r?(e(ho(t,r)),!0):!1};function Th(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,o=r.changeByRange(i=>{let{from:s,to:u}=i;if(s==u){let c=e(i);c<s?(n="delete.backward",c=If(t,c,!1)):c>s&&(n="delete.forward",c=If(t,c,!0)),s=Math.min(s,c),u=Math.max(u,c)}else s=If(t,s,!1),u=If(t,u,!0);return s==u?{range:i}:{changes:{from:s,to:u},range:te.cursor(s,s<i.head?-1:1)}});return o.changes.empty?!1:(t.dispatch(r.update(o,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?pe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function If(t,e,n){if(t instanceof pe)for(let r of t.state.facet(pe.atomicRanges).map(o=>o(t)))r.between(e,e,(o,i)=>{o<e&&i>e&&(e=n?i:o)});return e}const mP=(t,e,n)=>Th(t,r=>{let o=r.from,{state:i}=t,s=i.doc.lineAt(o),u,c;if(n&&!e&&o>s.from&&o<s.from+200&&!/[^ \t]/.test(u=s.text.slice(0,o-s.from))){if(u[u.length-1]=="	")return o-1;let d=Wa(u,i.tabSize),f=d%el(i)||el(i);for(let p=0;p<f&&u[u.length-1-p]==" ";p++)o--;c=o}else c=Wt(s.text,o-s.from,e,e)+s.from,c==o&&s.number!=(e?i.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(c-s.from,o-s.from))&&(c=Wt(s.text,c-s.from,!1,!1)+s.from);return c}),sw=t=>mP(t,!1,!0),gP=t=>mP(t,!0,!1),vP=(t,e)=>Th(t,n=>{let r=n.head,{state:o}=t,i=o.doc.lineAt(r),s=o.charCategorizer(r);for(let u=null;;){if(r==(e?i.to:i.from)){r==n.head&&i.number!=(e?o.doc.lines:1)&&(r+=e?1:-1);break}let c=Wt(i.text,r-i.from,e)+i.from,d=i.text.slice(Math.min(r,c)-i.from,Math.max(r,c)-i.from),f=s(d);if(u!=null&&f!=u)break;(d!=" "||r!=n.head)&&(u=f),r=c}return r}),yP=t=>vP(t,!1),lW=t=>vP(t,!0),aW=t=>Th(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),uW=t=>Th(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),cW=t=>Th(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),hW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Fe.of(["",""])},range:te.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},dW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let o=r.from,i=t.doc.lineAt(o),s=o==i.from?o-1:Wt(i.text,o-i.from,!1)+i.from,u=o==i.to?o+1:Wt(i.text,o-i.from,!0)+i.from;return{changes:{from:s,to:u,insert:t.doc.slice(o,u).append(t.doc.slice(s,o))},range:te.cursor(u)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function rg(t){let e=[],n=-1;for(let r of t.selection.ranges){let o=t.doc.lineAt(r.from),i=t.doc.lineAt(r.to);if(!r.empty&&r.to==i.from&&(i=t.doc.lineAt(r.to-1)),n>=o.number){let s=e[e.length-1];s.to=i.to,s.ranges.push(r)}else e.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return e}function wP(t,e,n){if(t.readOnly)return!1;let r=[],o=[];for(let i of rg(t)){if(n?i.to==t.doc.length:i.from==0)continue;let s=t.doc.lineAt(n?i.to+1:i.from-1),u=s.length+1;if(n){r.push({from:i.to,to:s.to},{from:i.from,insert:s.text+t.lineBreak});for(let c of i.ranges)o.push(te.range(Math.min(t.doc.length,c.anchor+u),Math.min(t.doc.length,c.head+u)))}else{r.push({from:s.from,to:i.from},{from:i.to,insert:t.lineBreak+s.text});for(let c of i.ranges)o.push(te.range(c.anchor-u,c.head-u))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:te.create(o,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const fW=({state:t,dispatch:e})=>wP(t,e,!1),pW=({state:t,dispatch:e})=>wP(t,e,!0);function xP(t,e,n){if(t.readOnly)return!1;let r=[];for(let o of rg(t))n?r.push({from:o.from,insert:t.doc.slice(o.from,o.to)+t.lineBreak}):r.push({from:o.to,insert:t.lineBreak+t.doc.slice(o.from,o.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const mW=({state:t,dispatch:e})=>xP(t,e,!1),gW=({state:t,dispatch:e})=>xP(t,e,!0),vW=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(rg(e).map(({from:o,to:i})=>(o>0?o--:i<e.doc.length&&i++,{from:o,to:i}))),r=Ua(e.selection,o=>{let i;if(t.lineWrapping){let s=t.lineBlockAt(o.head),u=t.coordsAtPos(o.head,o.assoc||1);u&&(i=s.bottom+t.documentTop-u.bottom+t.defaultLineHeight/2)}return t.moveVertically(o,!0,i)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function yW(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Yt(t).resolveInner(e),r=n.childBefore(e),o=n.childAfter(e),i;return r&&o&&r.to<=e&&o.from>=e&&(i=r.type.prop(ze.closedBy))&&i.indexOf(o.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(o.from).from&&!/\S/.test(t.sliceDoc(r.to,o.from))?{from:r.to,to:o.from}:null}const wW=bP(!1),xW=bP(!0);function bP(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(o=>{let{from:i,to:s}=o,u=e.doc.lineAt(i),c=!t&&i==s&&yW(e,i);t&&(i=s=(s<=u.to?u:e.doc.lineAt(s)).to);let d=new Jm(e,{simulateBreak:i,simulateDoubleBreak:!!c}),f=Bx(d,i);for(f==null&&(f=Wa(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));s<u.to&&/\s/.test(u.text[s-u.from]);)s++;c?{from:i,to:s}=c:i>u.from&&i<u.from+100&&!/\S/.test(u.text.slice(0,i))&&(i=u.from);let p=["",lh(e,f)];return c&&p.push(lh(e,d.lineIndent(u.from,-1))),{changes:{from:i,to:s,insert:Fe.of(p)},range:te.cursor(i+1+p[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Kx(t,e){let n=-1;return t.changeByRange(r=>{let o=[];for(let s=r.from;s<=r.to;){let u=t.doc.lineAt(s);u.number>n&&(r.empty||r.to>u.from)&&(e(u,o,r),n=u.number),s=u.to+1}let i=t.changes(o);return{changes:o,range:te.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}const bW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Jm(t,{overrideIndentation:i=>n[i]??-1}),o=Kx(t,(i,s,u)=>{let c=Bx(r,i.from);if(c==null)return;/\S/.test(i.text)||(c=0);let d=/^\s*/.exec(i.text)[0],f=lh(t,c);(d!=f||u.from<i.from+d.length)&&(n[i.from]=c,s.push({from:i.from,to:i.from+d.length,insert:f}))});return o.changes.empty||e(t.update(o,{userEvent:"indent"})),!0},kP=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Kx(t,(n,r)=>{r.push({from:n.from,insert:t.facet(qm)})}),{userEvent:"input.indent"})),!0),SP=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Kx(t,(n,r)=>{let o=/^\s*/.exec(n.text)[0];if(!o)return;let i=Wa(o,t.tabSize),s=0,u=lh(t,Math.max(0,i-el(t)));for(;s<o.length&&s<u.length&&o.charCodeAt(s)==u.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+o.length,insert:u.slice(s)})}),{userEvent:"delete.dedent"})),!0),kW=t=>(t.setTabFocusMode(),!0),SW=[{key:"Ctrl-b",run:X4,shift:aP,preventDefault:!0},{key:"Ctrl-f",run:eP,shift:uP},{key:"Ctrl-p",run:rP,shift:dP},{key:"Ctrl-n",run:oP,shift:fP},{key:"Ctrl-a",run:HH,shift:tW},{key:"Ctrl-e",run:WH,shift:nW},{key:"Ctrl-d",run:gP},{key:"Ctrl-h",run:sw},{key:"Ctrl-k",run:aW},{key:"Ctrl-Alt-h",run:yP},{key:"Ctrl-o",run:hW},{key:"Ctrl-t",run:dW},{key:"Ctrl-v",run:iw}],CW=[{key:"ArrowLeft",run:X4,shift:aP,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:RH,shift:YH,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:VH,shift:XH,preventDefault:!0},{key:"ArrowRight",run:eP,shift:uP,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:zH,shift:QH,preventDefault:!0},{mac:"Cmd-ArrowRight",run:jH,shift:eW,preventDefault:!0},{key:"ArrowUp",run:rP,shift:dP,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cM,shift:dM},{mac:"Ctrl-ArrowUp",run:lM,shift:aM},{key:"ArrowDown",run:oP,shift:fP,preventDefault:!0},{mac:"Cmd-ArrowDown",run:hM,shift:fM},{mac:"Ctrl-ArrowDown",run:iw,shift:uM},{key:"PageUp",run:lM,shift:aM},{key:"PageDown",run:iw,shift:uM},{key:"Home",run:FH,shift:JH,preventDefault:!0},{key:"Mod-Home",run:cM,shift:dM},{key:"End",run:BH,shift:qH,preventDefault:!0},{key:"Mod-End",run:hM,shift:fM},{key:"Enter",run:wW},{key:"Mod-a",run:rW},{key:"Backspace",run:sw,shift:sw},{key:"Delete",run:gP},{key:"Mod-Backspace",mac:"Alt-Backspace",run:yP},{key:"Mod-Delete",mac:"Alt-Delete",run:lW},{mac:"Mod-Backspace",run:uW},{mac:"Mod-Delete",run:cW}].concat(SW.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),EW=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:DH,shift:ZH},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:IH,shift:GH},{key:"Alt-ArrowUp",run:fW},{key:"Shift-Alt-ArrowUp",run:mW},{key:"Alt-ArrowDown",run:pW},{key:"Shift-Alt-ArrowDown",run:gW},{key:"Escape",run:sW},{key:"Mod-Enter",run:xW},{key:"Alt-l",mac:"Ctrl-l",run:oW},{key:"Mod-i",run:iW,preventDefault:!0},{key:"Mod-[",run:SP},{key:"Mod-]",run:kP},{key:"Mod-Alt-\\",run:bW},{key:"Shift-Mod-k",run:vW},{key:"Shift-Mod-\\",run:KH},{key:"Mod-/",run:mH},{key:"Alt-A",run:vH},{key:"Ctrl-m",mac:"Shift-Alt-m",run:kW}].concat(CW),MW={key:"Tab",run:kP,shift:SP};function Ke(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];typeof o=="string"?t.setAttribute(r,o):o!=null&&(t[r]=o)}e++}for(;e<arguments.length;e++)CP(t,arguments[e]);return t}function CP(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)CP(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const pM=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Ba{constructor(e,n,r=0,o=e.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,o),this.bufferStart=r,this.normalize=i?u=>i(pM(u)):pM,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ft(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=xx(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=lr(e);let o=this.normalize(n);for(let i=0,s=r;;i++){let u=o.charCodeAt(i),c=this.match(u,s,this.bufferPos+this.bufferStart);if(i==o.length-1){if(c)return this.value=c,this;break}s==r&&i<n.length&&n.charCodeAt(i)==u&&s++}}}match(e,n,r){let o=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],u=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?o={from:this.matches[i+1],to:r}:(this.matches[i]++,u=!0)),u||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?o={from:n,to:r}:this.matches.push(1,n)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}typeof Symbol<"u"&&(Ba.prototype[Symbol.iterator]=function(){return this});const EP={from:-1,to:-1,match:/.*/.exec("")},Yx="gm"+(/x/.unicode==null?"":"u");class MP{constructor(e,n,r,o=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=EP,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new NP(e,n,r,o,i);this.re=new RegExp(n,Yx+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(o);this.curLineStart=s.from,this.matchPos=um(e,o),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,o=r+n[0].length;if(this.matchPos=um(this.text,o+(r==o?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<o||r>this.value.to)&&(!this.test||this.test(r,o,n)))return this.value={from:r,to:o,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const X1=new WeakMap;class va{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let o=X1.get(e);if(!o||o.from>=r||o.to<=n){let u=new va(n,e.sliceString(n,r));return X1.set(e,u),u}if(o.from==n&&o.to==r)return o;let{text:i,from:s}=o;return s>n&&(i=e.sliceString(n,s)+i,s=n),o.to<r&&(i+=e.sliceString(o.to,r)),X1.set(e,new va(s,i)),new va(n,i.slice(n-s,r-s))}}class NP{constructor(e,n,r,o,i){this.text=e,this.to=i,this.done=!1,this.value=EP,this.matchPos=um(e,o),this.re=new RegExp(n,Yx+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=va.get(e,o,this.chunkEnd(o+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,o=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,o,n)))return this.value={from:r,to:o,match:n},this.matchPos=um(this.text,o+(r==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=va.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(MP.prototype[Symbol.iterator]=NP.prototype[Symbol.iterator]=function(){return this});function NW(t){try{return new RegExp(t,Yx),!0}catch{return!1}}function um(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function lw(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=Ke("input",{class:"cm-textfield",name:"line",value:e}),r=Ke("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:cm.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),o())},onsubmit:i=>{i.preventDefault(),o()}},Ke("label",t.state.phrase("Go to line"),": ",n)," ",Ke("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function o(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!i)return;let{state:s}=t,u=s.doc.lineAt(s.selection.main.head),[,c,d,f,p]=i,g=f?+f.slice(1):0,v=d?+d:u.number;if(d&&p){let E=v/100;c&&(E=E*(c=="-"?-1:1)+u.number/s.doc.lines),v=Math.round(s.doc.lines*E)}else d&&c&&(v=v*(c=="-"?-1:1)+u.number);let x=s.doc.line(Math.max(1,Math.min(s.doc.lines,v))),k=te.cursor(x.from+Math.max(0,Math.min(g,x.length)));t.dispatch({effects:[cm.of(!1),pe.scrollIntoView(k.from,{y:"center"})],selection:k}),t.focus()}return{dom:r}}const cm=$e.define(),mM=Qt.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(cm)&&(t=n.value);return t},provide:t=>ih.from(t,e=>e?lw:null)}),AW=t=>{let e=oh(t,lw);if(!e){let n=[cm.of(!0)];t.state.field(mM,!1)==null&&n.push($e.appendConfig.of([mM,OW])),t.dispatch({effects:n}),e=oh(t,lw)}return e&&e.dom.querySelector("input").select(),!0},OW=pe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),TW={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},PW=ge.define({combine(t){return co(t,TW,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function $W(t){return[DW,_W]}const LW=Me.mark({class:"cm-selectionMatch"}),RW=Me.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function gM(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=nt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=nt.Word)}function zW(t,e,n,r){return t(e.sliceDoc(n,n+1))==nt.Word&&t(e.sliceDoc(r-1,r))==nt.Word}const _W=xt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(PW),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Me.none;let o=r.main,i,s=null;if(o.empty){if(!e.highlightWordAroundCursor)return Me.none;let c=n.wordAt(o.head);if(!c)return Me.none;s=n.charCategorizer(o.head),i=n.sliceDoc(c.from,c.to)}else{let c=o.to-o.from;if(c<e.minSelectionLength||c>200)return Me.none;if(e.wholeWords){if(i=n.sliceDoc(o.from,o.to),s=n.charCategorizer(o.head),!(gM(s,n,o.from,o.to)&&zW(s,n,o.from,o.to)))return Me.none}else if(i=n.sliceDoc(o.from,o.to),!i)return Me.none}let u=[];for(let c of t.visibleRanges){let d=new Ba(n.doc,i,c.from,c.to);for(;!d.next().done;){let{from:f,to:p}=d.value;if((!s||gM(s,n,f,p))&&(o.empty&&f<=o.from&&p>=o.to?u.push(RW.range(f,p)):(f>=o.to||p<=o.from)&&u.push(LW.range(f,p)),u.length>e.maxMatches))return Me.none}}return Me.set(u)}},{decorations:t=>t.decorations}),DW=pe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),IW=({state:t,dispatch:e})=>{let{selection:n}=t,r=te.create(n.ranges.map(o=>t.wordAt(o.head)||te.cursor(o.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function BW(t,e){let{main:n,ranges:r}=t.selection,o=t.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let s=!1,u=new Ba(t.doc,e,r[r.length-1].to);;)if(u.next(),u.done){if(s)return null;u=new Ba(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(c=>c.from==u.value.from))continue;if(i){let c=t.wordAt(u.value.from);if(!c||c.from!=u.value.from||c.to!=u.value.to)continue}return u.value}}const FW=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(i=>i.from===i.to))return IW({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(i=>t.sliceDoc(i.from,i.to)!=r))return!1;let o=BW(t,r);return o?(e(t.update({selection:t.selection.addRange(te.range(o.from,o.to),!1),effects:pe.scrollIntoView(o.to)})),!0):!1},Ka=ge.define({combine(t){return co(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new JW(e),scrollToMatch:e=>pe.scrollIntoView(e)})}});class AP{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||NW(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new WW(this):new jW(this)}getCursor(e,n=0,r){let o=e.doc?e:rt.create({doc:e});return r==null&&(r=o.doc.length),this.regexp?Vl(this,o,n,r):Fl(this,o,n,r)}}class OP{constructor(e){this.spec=e}}function Fl(t,e,n,r){return new Ba(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:o=>o.toLowerCase(),t.wholeWord?VW(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function VW(t,e){return(n,r,o,i)=>((i>n||i+o.length<r)&&(i=Math.max(0,n-2),o=t.sliceString(i,Math.min(t.length,r+2))),(e(hm(o,n-i))!=nt.Word||e(dm(o,n-i))!=nt.Word)&&(e(dm(o,r-i))!=nt.Word||e(hm(o,r-i))!=nt.Word))}class jW extends OP{constructor(e){super(e)}nextMatch(e,n,r){let o=Fl(this.spec,e,r,e.doc.length).nextOverlapping();return o.done&&(o=Fl(this.spec,e,0,n).nextOverlapping()),o.done?null:o.value}prevMatchInRange(e,n,r){for(let o=r;;){let i=Math.max(n,o-1e4-this.spec.unquoted.length),s=Fl(this.spec,e,i,o),u=null;for(;!s.nextOverlapping().done;)u=s.value;if(u)return u;if(i==n)return null;o-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Fl(this.spec,e,0,e.doc.length),o=[];for(;!r.next().done;){if(o.length>=n)return null;o.push(r.value)}return o}highlight(e,n,r,o){let i=Fl(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)o(i.value.from,i.value.to)}}function Vl(t,e,n,r){return new MP(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?HW(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function hm(t,e){return t.slice(Wt(t,e,!1),e)}function dm(t,e){return t.slice(e,Wt(t,e))}function HW(t){return(e,n,r)=>!r[0].length||(t(hm(r.input,r.index))!=nt.Word||t(dm(r.input,r.index))!=nt.Word)&&(t(dm(r.input,r.index+r[0].length))!=nt.Word||t(hm(r.input,r.index+r[0].length))!=nt.Word)}class WW extends OP{nextMatch(e,n,r){let o=Vl(this.spec,e,r,e.doc.length).next();return o.done&&(o=Vl(this.spec,e,0,n).next()),o.done?null:o.value}prevMatchInRange(e,n,r){for(let o=1;;o++){let i=Math.max(n,r-o*1e4),s=Vl(this.spec,e,i,r),u=null;for(;!s.next().done;)u=s.value;if(u&&(i==n||u.from>i+10))return u;if(i==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=Vl(this.spec,e,0,e.doc.length),o=[];for(;!r.next().done;){if(o.length>=n)return null;o.push(r.value)}return o}highlight(e,n,r,o){let i=Vl(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!i.next().done;)o(i.value.from,i.value.to)}}const uh=$e.define(),Qx=$e.define(),Wi=Qt.define({create(t){return new ev(aw(t).create(),null)},update(t,e){for(let n of e.effects)n.is(uh)?t=new ev(n.value.create(),t.panel):n.is(Qx)&&(t=new ev(t.query,n.value?Zx:null));return t},provide:t=>ih.from(t,e=>e.panel)});class ev{constructor(e,n){this.query=e,this.panel=n}}const UW=Me.mark({class:"cm-searchMatch"}),KW=Me.mark({class:"cm-searchMatch cm-searchMatch-selected"}),YW=xt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Wi))}update(t){let e=t.state.field(Wi);(e!=t.startState.field(Wi)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Me.none;let{view:n}=this,r=new Zi;for(let o=0,i=n.visibleRanges,s=i.length;o<s;o++){let{from:u,to:c}=i[o];for(;o<s-1&&c>i[o+1].from-2*250;)c=i[++o].to;t.highlight(n.state,u,c,(d,f)=>{let p=n.state.selection.ranges.some(g=>g.from==d&&g.to==f);r.add(d,f,p?KW:UW)})}return r.finish()}},{decorations:t=>t.decorations});function Ph(t){return e=>{let n=e.state.field(Wi,!1);return n&&n.query.spec.valid?t(e,n):$P(e)}}const fm=Ph((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let o=te.single(r.from,r.to),i=t.state.facet(Ka);return t.dispatch({selection:o,effects:[Gx(t,r),i.scrollToMatch(o.main,t)],userEvent:"select.search"}),PP(t),!0}),pm=Ph((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,o=e.prevMatch(n,r,r);if(!o)return!1;let i=te.single(o.from,o.to),s=t.state.facet(Ka);return t.dispatch({selection:i,effects:[Gx(t,o),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),PP(t),!0}),QW=Ph((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:te.create(n.map(r=>te.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),ZW=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,i=[],s=0;for(let u=new Ba(t.doc,t.sliceDoc(r,o));!u.next().done;){if(i.length>1e3)return!1;u.value.from==r&&(s=i.length),i.push(te.range(u.value.from,u.value.to))}return e(t.update({selection:te.create(i,s),userEvent:"select.search.matches"})),!0},vM=Ph((t,{query:e})=>{let{state:n}=t,{from:r,to:o}=n.selection.main;if(n.readOnly)return!1;let i=e.nextMatch(n,r,r);if(!i)return!1;let s=[],u,c,d=[];if(i.from==r&&i.to==o&&(c=n.toText(e.getReplacement(i)),s.push({from:i.from,to:i.to,insert:c}),i=e.nextMatch(n,i.from,i.to),d.push(pe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),i){let f=s.length==0||s[0].from>=i.to?0:i.to-i.from-c.length;u=te.single(i.from-f,i.to-f),d.push(Gx(t,i)),d.push(n.facet(Ka).scrollToMatch(u.main,t))}return t.dispatch({changes:s,selection:u,effects:d,userEvent:"input.replace"}),!0}),GW=Ph((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(o=>{let{from:i,to:s}=o;return{from:i,to:s,insert:e.getReplacement(o)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:pe.announce.of(r),userEvent:"input.replace.all"}),!0});function Zx(t){return t.state.facet(Ka).createPanel(t)}function aw(t,e){var n,r,o,i,s;let u=t.selection.main,c=u.empty||u.to>u.from+100?"":t.sliceDoc(u.from,u.to);if(e&&!c)return e;let d=t.facet(Ka);return new AP({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:d.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:d.caseSensitive,literal:(o=e==null?void 0:e.literal)!==null&&o!==void 0?o:d.literal,regexp:(i=e==null?void 0:e.regexp)!==null&&i!==void 0?i:d.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:d.wholeWord})}function TP(t){let e=oh(t,Zx);return e&&e.dom.querySelector("[main-field]")}function PP(t){let e=TP(t);e&&e==t.root.activeElement&&e.select()}const $P=t=>{let e=t.state.field(Wi,!1);if(e&&e.panel){let n=TP(t);if(n&&n!=t.root.activeElement){let r=aw(t.state,e.query.spec);r.valid&&t.dispatch({effects:uh.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Qx.of(!0),e?uh.of(aw(t.state,e.query.spec)):$e.appendConfig.of(eU)]});return!0},LP=t=>{let e=t.state.field(Wi,!1);if(!e||!e.panel)return!1;let n=oh(t,Zx);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Qx.of(!1)}),!0},qW=[{key:"Mod-f",run:$P,scope:"editor search-panel"},{key:"F3",run:fm,shift:pm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:fm,shift:pm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:LP,scope:"editor search-panel"},{key:"Mod-Shift-l",run:ZW},{key:"Mod-Alt-g",run:AW},{key:"Mod-d",run:FW,preventDefault:!0}];class JW{constructor(e){this.view=e;let n=this.query=e.state.field(Wi).query.spec;this.commit=this.commit.bind(this),this.searchField=Ke("input",{value:n.search,placeholder:Bn(e,"Find"),"aria-label":Bn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ke("input",{value:n.replace,placeholder:Bn(e,"Replace"),"aria-label":Bn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ke("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Ke("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Ke("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(o,i,s){return Ke("button",{class:"cm-button",name:o,onclick:i,type:"button"},s)}this.dom=Ke("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,r("next",()=>fm(e),[Bn(e,"next")]),r("prev",()=>pm(e),[Bn(e,"previous")]),r("select",()=>QW(e),[Bn(e,"all")]),Ke("label",null,[this.caseField,Bn(e,"match case")]),Ke("label",null,[this.reField,Bn(e,"regexp")]),Ke("label",null,[this.wordField,Bn(e,"by word")]),...e.state.readOnly?[]:[Ke("br"),this.replaceField,r("replace",()=>vM(e),[Bn(e,"replace")]),r("replaceAll",()=>GW(e),[Bn(e,"replace all")])],Ke("button",{name:"close",onclick:()=>LP(e),"aria-label":Bn(e,"close"),type:"button"},[""])])}commit(){let e=new AP({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:uh.of(e)}))}keydown(e){eV(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?pm:fm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),vM(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(uh)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ka).top}}function Bn(t,e){return t.state.phrase(e)}const Bf=30,Ff=/[\s\.,:;?!]/;function Gx(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),o=t.state.doc.lineAt(n).to,i=Math.max(r.from,e-Bf),s=Math.min(o,n+Bf),u=t.state.sliceDoc(i,s);if(i!=r.from){for(let c=0;c<Bf;c++)if(!Ff.test(u[c+1])&&Ff.test(u[c])){u=u.slice(c);break}}if(s!=o){for(let c=u.length-1;c>u.length-Bf;c--)if(!Ff.test(u[c-1])&&Ff.test(u[c])){u=u.slice(0,c);break}}return pe.announce.of(`${t.state.phrase("current match")}. ${u} ${t.state.phrase("on line")} ${r.number}.`)}const XW=pe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),eU=[Wi,ol.low(YW),XW];class RP{constructor(e,n,r,o){this.state=e,this.pos=n,this.explicit=r,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Yt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),o=n.text.slice(r-n.from,this.pos-n.from),i=o.search(zP(e,!1));return i<0?null:{from:r+i,to:this.pos,text:o.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function yM(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function tU(t){let e=Object.create(null),n=Object.create(null);for(let{label:o}of t){e[o[0]]=!0;for(let i=1;i<o.length;i++)n[o[i]]=!0}let r=yM(e)+yM(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function nU(t){let e=t.map(o=>typeof o=="string"?{label:o}:o),[n,r]=e.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:tU(e);return o=>{let i=o.matchBefore(r);return i||o.explicit?{from:i?i.from:o.pos,options:e,validFor:n}:null}}class wM{constructor(e,n,r,o){this.completion=e,this.source=n,this.match=r,this.score=o}}function Ui(t){return t.selection.main.from}function zP(t,e){var n;let{source:r}=t,o=e&&r[0]!="^",i=r[r.length-1]!="$";return!o&&!i?t:new RegExp(`${o?"^":""}(?:${r})${i?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const _P=uo.define();function rU(t,e,n,r){let{main:o}=t.selection,i=n-o.from,s=r-o.from;return Object.assign(Object.assign({},t.changeByRange(u=>{if(u!=o&&n!=r&&t.sliceDoc(u.from+i,u.from+s)!=t.sliceDoc(n,r))return{range:u};let c=t.toText(e);return{changes:{from:u.from+i,to:r==o.from?u.to:u.from+s,insert:c},range:te.cursor(u.from+i+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const xM=new WeakMap;function oU(t){if(!Array.isArray(t))return t;let e=xM.get(t);return e||xM.set(t,e=nU(t)),e}const mm=$e.define(),ch=$e.define();class iU{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Ft(e,n),o=lr(r);this.chars.push(r);let i=e.slice(n,n+o),s=i.toUpperCase();this.folded.push(Ft(s==i?i.toLowerCase():s,0)),n+=o}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:o,precise:i,byWord:s}=this;if(n.length==1){let S=Ft(e,0),C=lr(S),M=C==e.length?0:-100;if(S!=n[0])if(S==r[0])M+=-200;else return null;return this.ret(M,[0,C])}let u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=n.length,d=0;if(u<0){for(let S=0,C=Math.min(e.length,200);S<C&&d<c;){let M=Ft(e,S);(M==n[d]||M==r[d])&&(o[d++]=S),S+=lr(M)}if(d<c)return null}let f=0,p=0,g=!1,v=0,x=-1,k=-1,E=/[a-z]/.test(e),b=!0;for(let S=0,C=Math.min(e.length,200),M=0;S<C&&p<c;){let A=Ft(e,S);u<0&&(f<c&&A==n[f]&&(i[f++]=S),v<c&&(A==n[v]||A==r[v]?(v==0&&(x=S),k=S+1,v++):v=0));let $,T=A<255?A>=48&&A<=57||A>=97&&A<=122?2:A>=65&&A<=90?1:0:($=xx(A))!=$.toLowerCase()?1:$!=$.toUpperCase()?2:0;(!S||T==1&&E||M==0&&T!=0)&&(n[p]==A||r[p]==A&&(g=!0)?s[p++]=S:s.length&&(b=!1)),M=T,S+=lr(A)}return p==c&&s[0]==0&&b?this.result(-100+(g?-200:0),s,e):v==c&&x==0?this.ret(-200-e.length+(k==e.length?0:-100),[0,k]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):v==c?this.ret(-900-e.length,[x,k]):p==c?this.result(-100+(g?-200:0)+-700+(b?0:-1100),s,e):n.length==2?null:this.result((o[0]?-700:0)+-200+-1100,o,e)}result(e,n,r){let o=[],i=0;for(let s of n){let u=s+(this.astral?lr(Ft(r,s)):1);i&&o[i-1]==s?o[i-1]=u:(o[i++]=s,o[i++]=u)}return this.ret(e-r.length,o)}}class sU{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Ht=ge.define({combine(t){return co(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:lU,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>bM(e(r),n(r)),optionClass:(e,n)=>r=>bM(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function bM(t,e){return t?e?t+" "+e:t:e}function lU(t,e,n,r,o,i){let s=t.textDirection==Xe.RTL,u=s,c=!1,d="top",f,p,g=e.left-o.left,v=o.right-e.right,x=r.right-r.left,k=r.bottom-r.top;if(u&&g<Math.min(x,v)?u=!1:!u&&v<Math.min(x,g)&&(u=!0),x<=(u?g:v))f=Math.max(o.top,Math.min(n.top,o.bottom-k))-e.top,p=Math.min(400,u?g:v);else{c=!0,p=Math.min(400,(s?e.right:o.right-e.left)-30);let S=o.bottom-e.bottom;S>=k||S>e.top?f=n.bottom-e.top:(d="bottom",f=e.bottom-n.top)}let E=(e.bottom-e.top)/i.offsetHeight,b=(e.right-e.left)/i.offsetWidth;return{style:`${d}: ${f/E}px; max-width: ${p/b}px`,class:"cm-completionInfo-"+(c?s?"left-narrow":"right-narrow":u?"left":"right")}}function aU(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,o,i){let s=document.createElement("span");s.className="cm-completionLabel";let u=n.displayLabel||n.label,c=0;for(let d=0;d<i.length;){let f=i[d++],p=i[d++];f>c&&s.appendChild(document.createTextNode(u.slice(c,f)));let g=s.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(u.slice(f,p))),g.className="cm-completionMatchedText",c=p}return c<u.length&&s.appendChild(document.createTextNode(u.slice(c))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function tv(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let o=Math.floor(e/n);return{from:o*n,to:(o+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class uU{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let o=e.state.field(n),{options:i,selected:s}=o.open,u=e.state.facet(Ht);this.optionContent=aU(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=tv(i.length,s,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:d}=e.state.field(n).open;for(let f=c.target,p;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(p=/-(\d+)$/.exec(f.id))&&+p[1]<d.length){this.applyCompletion(e,d[+p[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let d=e.state.field(this.stateField,!1);d&&d.tooltip&&e.state.facet(Ht).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:ch.of(null)})}),this.showOptions(i,o.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),o=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=o){let{options:i,selected:s,disabled:u}=r.open;(!o.open||o.open.options!=i)&&(this.range=tv(i.length,s,e.state.facet(Ht).maxRenderedOptions),this.showOptions(i,r.id)),this.updateSel(),u!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=tv(n.options.length,n.selected,this.view.state.facet(Ht).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:o}=r;if(!o)return;let i=typeof o=="string"?document.createTextNode(o):o(r);if(!i)return;"then"in i?i.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>An(this.view.state,s,"completion info")):this.addInfoPane(i,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:o,destroy:i}=e;r.appendChild(o),this.infoDestroy=i||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,o=this.range.from;r;r=r.nextSibling,o++)r.nodeName!="LI"||!r.id?o--:o==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&hU(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),o=e.getBoundingClientRect(),i=this.space;if(!i){let s=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return o.top>Math.min(i.bottom,n.bottom)-10||o.bottom<Math.max(i.top,n.top)+10?null:this.view.state.facet(Ht).positionInfo(this.view,n,o,r,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const o=document.createElement("ul");o.id=n,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let s=r.from;s<r.to;s++){let{completion:u,match:c}=e[s],{section:d}=u;if(d){let g=typeof d=="string"?d:d.name;if(g!=i&&(s>r.from||r.from==0))if(i=g,typeof d!="string"&&d.header)o.appendChild(d.header(d));else{let v=o.appendChild(document.createElement("completion-section"));v.textContent=g}}const f=o.appendChild(document.createElement("li"));f.id=n+"-"+s,f.setAttribute("role","option");let p=this.optionClass(u);p&&(f.className=p);for(let g of this.optionContent){let v=g(u,this.view.state,this.view,c);v&&f.appendChild(v)}}return r.from&&o.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function cU(t,e){return n=>new uU(n,t,e)}function hU(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/o:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/o)}function kM(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function dU(t,e){let n=[],r=null,o=d=>{n.push(d);let{section:f}=d.completion;if(f){r||(r=[]);let p=typeof f=="string"?f:f.name;r.some(g=>g.name==p)||r.push(typeof f=="string"?{name:p}:f)}},i=e.facet(Ht);for(let d of t)if(d.hasResult()){let f=d.result.getMatch;if(d.result.filter===!1)for(let p of d.result.options)o(new wM(p,d.source,f?f(p):[],1e9-n.length));else{let p=e.sliceDoc(d.from,d.to),g,v=i.filterStrict?new sU(p):new iU(p);for(let x of d.result.options)if(g=v.match(x.label)){let k=x.displayLabel?f?f(x,g.matched):[]:g.matched;o(new wM(x,d.source,k,g.score+(x.boost||0)))}}}if(r){let d=Object.create(null),f=0,p=(g,v)=>{var x,k;return((x=g.rank)!==null&&x!==void 0?x:1e9)-((k=v.rank)!==null&&k!==void 0?k:1e9)||(g.name<v.name?-1:1)};for(let g of r.sort(p))f-=1e5,d[g.name]=f;for(let g of n){let{section:v}=g.completion;v&&(g.score+=d[typeof v=="string"?v:v.name])}}let s=[],u=null,c=i.compareCompletions;for(let d of n.sort((f,p)=>p.score-f.score||c(f.completion,p.completion))){let f=d.completion;!u||u.label!=f.label||u.detail!=f.detail||u.type!=null&&f.type!=null&&u.type!=f.type||u.apply!=f.apply||u.boost!=f.boost?s.push(d):kM(d.completion)>kM(u)&&(s[s.length-1]=d),u=d.completion}return s}class oa{constructor(e,n,r,o,i,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=o,this.selected=i,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new oa(this.options,SM(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,o,i){let s=dU(e,n);if(!s.length)return o&&e.some(c=>c.state==1)?new oa(o.options,o.attrs,o.tooltip,o.timestamp,o.selected,!0):null;let u=n.facet(Ht).selectOnOpen?0:-1;if(o&&o.selected!=u&&o.selected!=-1){let c=o.options[o.selected].completion;for(let d=0;d<s.length;d++)if(s[d].completion==c){u=d;break}}return new oa(s,SM(r,u),{pos:e.reduce((c,d)=>d.hasResult()?Math.min(c,d.from):c,1e8),create:yU,above:i.aboveCursor},o?o.timestamp:Date.now(),u,!1)}map(e){return new oa(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class gm{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new gm(gU,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Ht),o=(r.override||n.languageDataAt("autocomplete",Ui(n)).map(oU)).map(s=>(this.active.find(u=>u.source==s)||new Hn(s,this.active.some(u=>u.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((s,u)=>s==this.active[u])&&(o=this.active);let i=this.open;i&&e.docChanged&&(i=i.map(e.changes)),e.selection||o.some(s=>s.hasResult()&&e.changes.touchesRange(s.from,s.to))||!fU(o,this.active)?i=oa.build(o,n,this.id,i,r):i&&i.disabled&&!o.some(s=>s.state==1)&&(i=null),!i&&o.every(s=>s.state!=1)&&o.some(s=>s.hasResult())&&(o=o.map(s=>s.hasResult()?new Hn(s.source,0):s));for(let s of e.effects)s.is(BP)&&(i=i&&i.setSelected(s.value,this.id));return o==this.active&&i==this.open?this:new gm(o,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?pU:mU}}function fU(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let o=n==t.length,i=r==e.length;if(o||i)return o==i;if(t[n++].result!=e[r++].result)return!1}}const pU={"aria-autocomplete":"list"},mU={};function SM(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const gU=[];function DP(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(_P);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Hn{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=DP(e,n),o=this;(r&8||r&16&&this.touches(e))&&(o=new Hn(o.source,0)),r&4&&o.state==0&&(o=new Hn(this.source,1)),o=o.updateFor(e,r);for(let i of e.effects)if(i.is(mm))o=new Hn(o.source,1,i.value?Ui(e.state):-1);else if(i.is(ch))o=new Hn(o.source,0);else if(i.is(IP))for(let s of i.value)s.source==o.source&&(o=s);return o}updateFor(e,n){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Hn(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(Ui(e.state))}}class ya extends Hn{constructor(e,n,r,o,i){super(e,2,n),this.result=r,this.from=o,this.to=i}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let o=this.result;o.map&&!e.changes.empty&&(o=o.map(o,e.changes));let i=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),u=Ui(e.state);if((this.explicitPos<0?u<=i:u<this.from)||u>s||!o||n&2&&Ui(e.startState)==this.from)return new Hn(this.source,n&4?1:0);let c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return vU(o.validFor,e.state,i,s)?new ya(this.source,c,o,i,s):o.update&&(o=o.update(o,i,s,new RP(e.state,u,c>=0)))?new ya(this.source,c,o,o.from,(r=o.to)!==null&&r!==void 0?r:Ui(e.state)):new Hn(this.source,1,c)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ya(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Hn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function vU(t,e,n,r){if(!t)return!1;let o=e.sliceDoc(n,r);return typeof t=="function"?t(o,n,r,e):zP(t,!0).test(o)}const IP=$e.define({map(t,e){return t.map(n=>n.map(e))}}),BP=$e.define(),En=Qt.define({create(){return gm.start()},update(t,e){return t.update(e)},provide:t=>[Rx.from(t,e=>e.tooltip),pe.contentAttributes.from(t,e=>e.attrs)]});function qx(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(En).active.find(o=>o.source==e.source);return r instanceof ya?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},rU(t.state,n,r.from,r.to)),{annotations:_P.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const yU=cU(En,qx);function Vf(t,e="option"){return n=>{let r=n.state.field(En,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Ht).interactionDelay)return!1;let o=1,i;e=="page"&&(i=m4(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,u=r.open.selected>-1?r.open.selected+o*(t?1:-1):t?0:s-1;return u<0?u=e=="page"?0:s-1:u>=s&&(u=e=="page"?s-1:0),n.dispatch({effects:BP.of(u)}),!0}}const wU=t=>{let e=t.state.field(En,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Ht).interactionDelay?!1:qx(t,e.open.options[e.open.selected])},CM=t=>t.state.field(En,!1)?(t.dispatch({effects:mm.of(!0)}),!0):!1,xU=t=>{let e=t.state.field(En,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:ch.of(null)}),!0)};class bU{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const kU=50,SU=1e3,CU=xt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(En).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(En),n=t.state.facet(Ht);if(!t.selectionSet&&!t.docChanged&&t.startState.field(En)==e)return;let r=t.transactions.some(i=>{let s=DP(i,n);return s&8||(i.selection||i.docChanged)&&!(s&3)});for(let i=0;i<this.running.length;i++){let s=this.running[i];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>kU&&Date.now()-s.time>SU){for(let u of s.context.abortListeners)try{u()}catch(c){An(this.view.state,c)}s.context.abortListeners=null,this.running.splice(i--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(i=>i.effects.some(s=>s.is(mm)))&&(this.pendingStart=!0);let o=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(s=>s.active.source==i.source))?setTimeout(()=>this.startUpdate(),o):-1,this.composing!=0)for(let i of t.transactions)i.isUserEvent("input.type")?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(En);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Ui(e),r=new RP(e,n,t.explicitPos==n,this.view),o=new bU(t,r);this.running.push(o),Promise.resolve(t.source(r)).then(i=>{o.context.aborted||(o.done=i||null,this.scheduleAccept())},i=>{this.view.dispatch({effects:ch.of(null)}),An(this.view.state,i)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ht).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Ht);for(let r=0;r<this.running.length;r++){let o=this.running[r];if(o.done===void 0)continue;if(this.running.splice(r--,1),o.done){let s=new ya(o.active.source,o.active.explicitPos,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:Ui(o.updates.length?o.updates[0].startState:this.view.state));for(let u of o.updates)s=s.update(u,n);if(s.hasResult()){e.push(s);continue}}let i=this.view.state.field(En).active.find(s=>s.source==o.active.source);if(i&&i.state==1)if(o.done==null){let s=new Hn(o.active.source,0);for(let u of o.updates)s=s.update(u,n);s.state!=1&&e.push(s)}else this.startQuery(i)}e.length&&this.view.dispatch({effects:IP.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(En,!1);if(e&&e.tooltip&&this.view.state.facet(Ht).closeOnBlur){let n=e.open&&m4(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:ch.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:mm.of(!1)}),20),this.composing=0}}}),EU=typeof navigator=="object"&&/Win/.test(navigator.platform),MU=ol.highest(pe.domEventHandlers({keydown(t,e){let n=e.state.field(En,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(EU&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],o=n.active.find(s=>s.source==r.source),i=r.completion.commitCharacters||o.result.commitCharacters;return i&&i.indexOf(t.key)>-1&&qx(e,r),!1}})),NU=pe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),hh={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},_s=$e.define({map(t,e){return e.mapPos(t,-1,cn.TrackAfter)??void 0}}),Jx=new class extends Gs{};Jx.startSide=1;Jx.endSide=-1;const FP=Qt.define({create(){return ot.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(_s)&&(t=t.update({add:[Jx.range(n.value,n.value+1)]}));return t}});function AU(){return[TU,FP]}const nv="()[]{}<>";function VP(t){for(let e=0;e<nv.length;e+=2)if(nv.charCodeAt(e)==t)return nv.charAt(e+1);return xx(t<128?t:t+1)}function jP(t,e){return t.languageDataAt("closeBrackets",e)[0]||hh}const OU=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),TU=pe.inputHandler.of((t,e,n,r)=>{if((OU?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let o=t.state.selection.main;if(r.length>2||r.length==2&&lr(Ft(r,0))==1||e!=o.from||n!=o.to)return!1;let i=LU(t.state,r);return i?(t.dispatch(i),!0):!1}),PU=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=jP(t,t.selection.main.head).brackets||hh.brackets,r=null,o=t.changeByRange(i=>{if(i.empty){let s=RU(t.doc,i.head);for(let u of n)if(u==s&&og(t.doc,i.head)==VP(Ft(u,0)))return{changes:{from:i.head-u.length,to:i.head+u.length},range:te.cursor(i.head-u.length)}}return{range:r=i}});return r||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},$U=[{key:"Backspace",run:PU}];function LU(t,e){let n=jP(t,t.selection.main.head),r=n.brackets||hh.brackets;for(let o of r){let i=VP(Ft(o,0));if(e==o)return i==o?DU(t,o,r.indexOf(o+o+o)>-1,n):zU(t,o,i,n.before||hh.before);if(e==i&&HP(t,t.selection.main.from))return _U(t,o,i)}return null}function HP(t,e){let n=!1;return t.field(FP).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function og(t,e){let n=t.sliceString(e,e+2);return n.slice(0,lr(Ft(n,0)))}function RU(t,e){let n=t.sliceString(e-2,e);return lr(Ft(n,0))==n.length?n:n.slice(1)}function zU(t,e,n,r){let o=null,i=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:_s.of(s.to+e.length),range:te.range(s.anchor+e.length,s.head+e.length)};let u=og(t.doc,s.head);return!u||/\s/.test(u)||r.indexOf(u)>-1?{changes:{insert:e+n,from:s.head},effects:_s.of(s.head+e.length),range:te.cursor(s.head+e.length)}:{range:o=s}});return o?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function _U(t,e,n){let r=null,o=t.changeByRange(i=>i.empty&&og(t.doc,i.head)==n?{changes:{from:i.head,to:i.head+n.length,insert:n},range:te.cursor(i.head+n.length)}:r={range:i});return r?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function DU(t,e,n,r){let o=r.stringPrefixes||hh.stringPrefixes,i=null,s=t.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:_s.of(u.to+e.length),range:te.range(u.anchor+e.length,u.head+e.length)};let c=u.head,d=og(t.doc,c),f;if(d==e){if(EM(t,c))return{changes:{insert:e+e,from:c},effects:_s.of(c+e.length),range:te.cursor(c+e.length)};if(HP(t,c)){let p=n&&t.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+p.length,insert:p},range:te.cursor(c+p.length)}}}else{if(n&&t.sliceDoc(c-2*e.length,c)==e+e&&(f=MM(t,c-2*e.length,o))>-1&&EM(t,f))return{changes:{insert:e+e+e+e,from:c},effects:_s.of(c+e.length),range:te.cursor(c+e.length)};if(t.charCategorizer(c)(d)!=nt.Word&&MM(t,c,o)>-1&&!IU(t,c,e,o))return{changes:{insert:e+e,from:c},effects:_s.of(c+e.length),range:te.cursor(c+e.length)}}return{range:i=u}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function EM(t,e){let n=Yt(t).resolveInner(e+1);return n.parent&&n.from==e}function IU(t,e,n,r){let o=Yt(t).resolveInner(e,-1),i=r.reduce((s,u)=>Math.max(s,u.length),0);for(let s=0;s<5;s++){let u=t.sliceDoc(o.from,Math.min(o.to,o.from+n.length+i)),c=u.indexOf(n);if(!c||c>-1&&r.indexOf(u.slice(0,c))>-1){let f=o.firstChild;for(;f&&f.from==o.from&&f.to-f.from>n.length+c;){if(t.sliceDoc(f.to-n.length,f.to)==n)return!1;f=f.firstChild}return!0}let d=o.to==e&&o.parent;if(!d)break;o=d}return!1}function MM(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=nt.Word)return e;for(let o of n){let i=e-o.length;if(t.sliceDoc(i,e)==o&&r(t.sliceDoc(i-1,i))!=nt.Word)return i}return-1}function BU(t={}){return[MU,En,Ht.of(t),CU,FU,NU]}const WP=[{key:"Ctrl-Space",run:CM},{mac:"Alt-`",run:CM},{key:"Escape",run:xU},{key:"ArrowDown",run:Vf(!0)},{key:"ArrowUp",run:Vf(!1)},{key:"PageDown",run:Vf(!0,"page")},{key:"PageUp",run:Vf(!1,"page")},{key:"Enter",run:wU}],FU=ol.highest(Zm.computeN([Ht],t=>t.facet(Ht).defaultKeymap?[WP]:[]));class VU{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Ts{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let o=e,i=r.facet(dh).markerFilter;i&&(o=i(o,r));let s=Me.set(o.map(u=>u.from==u.to||u.from==u.to-1&&r.doc.lineAt(u.from).to==u.from?Me.widget({widget:new GU(u),diagnostic:u}).range(u.from):Me.mark({attributes:{class:"cm-lintRange cm-lintRange-"+u.severity+(u.markClass?" "+u.markClass:"")},diagnostic:u}).range(u.from,u.to)),!0);return new Ts(s,n,Fa(s))}}function Fa(t,e=null,n=0){let r=null;return t.between(n,1e9,(o,i,{spec:s})=>{if(!(e&&s.diagnostic!=e))return r=new VU(o,i,s.diagnostic),!1}),r}function jU(t,e){let n=e.pos,r=e.end||n,o=t.state.facet(dh).hideOn(t,n,r);if(o!=null)return o;let i=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(UP))||t.changes.touchesRange(i.from,Math.max(i.to,r)))}function HU(t,e){return t.field(Un,!1)?e:e.concat($e.appendConfig.of(XU))}const UP=$e.define(),Xx=$e.define(),KP=$e.define(),Un=Qt.define({create(){return new Ts(Me.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,o=t.panel;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=Fa(n,t.selected.diagnostic,i)||Fa(n,null,i)}!n.size&&o&&e.state.facet(dh).autoPanel&&(o=null),t=new Ts(n,o,r)}for(let n of e.effects)if(n.is(UP)){let r=e.state.facet(dh).autoPanel?n.value.length?fh.open:null:t.panel;t=Ts.init(n.value,r,e.state)}else n.is(Xx)?t=new Ts(t.diagnostics,n.value?fh.open:null,t.selected):n.is(KP)&&(t=new Ts(t.diagnostics,t.panel,n.value));return t},provide:t=>[ih.from(t,e=>e.panel),pe.decorations.from(t,e=>e.diagnostics)]}),WU=Me.mark({class:"cm-lintRange cm-lintRange-active"});function UU(t,e,n){let{diagnostics:r}=t.state.field(Un),o=[],i=2e8,s=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(c,d,{spec:f})=>{e>=c&&e<=d&&(c==d||(e>c||n>0)&&(e<d||n<0))&&(o.push(f.diagnostic),i=Math.min(c,i),s=Math.max(d,s))});let u=t.state.facet(dh).tooltipFilter;return u&&(o=u(o,t.state)),o.length?{pos:i,end:s,above:t.state.doc.lineAt(i).to<s,create(){return{dom:KU(t,o)}}}:null}function KU(t,e){return Ke("ul",{class:"cm-tooltip-lint"},e.map(n=>QP(t,n,!1)))}const YU=t=>{let e=t.state.field(Un,!1);(!e||!e.panel)&&t.dispatch({effects:HU(t.state,[Xx.of(!0)])});let n=oh(t,fh.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},NM=t=>{let e=t.state.field(Un,!1);return!e||!e.panel?!1:(t.dispatch({effects:Xx.of(!1)}),!0)},QU=t=>{let e=t.state.field(Un,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},ZU=[{key:"Mod-Shift-m",run:YU,preventDefault:!0},{key:"F8",run:QU}],dh=ge.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},co(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function YP(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let o=n[r];if(/[a-zA-Z]/.test(o)&&!e.some(i=>i.toLowerCase()==o.toLowerCase())){e.push(o);continue e}}e.push("")}return e}function QP(t,e,n){var r;let o=n?YP(e.actions):[];return Ke("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ke("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((i,s)=>{let u=!1,c=g=>{if(g.preventDefault(),u)return;u=!0;let v=Fa(t.state.field(Un).diagnostics,e);v&&i.apply(t,v.from,v.to)},{name:d}=i,f=o[s]?d.indexOf(o[s]):-1,p=f<0?d:[d.slice(0,f),Ke("u",d.slice(f,f+1)),d.slice(f+1)];return Ke("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${d}${f<0?"":` (access key "${o[s]})"`}.`},p)}),e.source&&Ke("div",{class:"cm-diagnosticSource"},e.source))}class GU extends Ho{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ke("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class AM{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=QP(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class fh{constructor(e){this.view=e,this.items=[];let n=o=>{if(o.keyCode==27)NM(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:i}=this.items[this.selectedIndex],s=YP(i.actions);for(let u=0;u<s.length;u++)if(s[u].toUpperCase().charCodeAt(0)==o.keyCode){let c=Fa(this.view.state.field(Un).diagnostics,i);c&&i.actions[u].apply(e,c.from,c.to)}}else return;o.preventDefault()},r=o=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(o.target)&&this.moveSelection(i)};this.list=Ke("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Ke("div",{class:"cm-panel-lint"},this.list,Ke("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>NM(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Un).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Un),r=0,o=!1,i=null;for(e.between(0,this.view.state.doc.length,(s,u,{spec:c})=>{let d=-1,f;for(let p=r;p<this.items.length;p++)if(this.items[p].diagnostic==c.diagnostic){d=p;break}d<0?(f=new AM(this.view,c.diagnostic),this.items.splice(r,0,f),o=!0):(f=this.items[d],d>r&&(this.items.splice(r,d-r),o=!0)),n&&f.diagnostic==n.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),i=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new AM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:u})=>{let c=u.height/this.list.offsetHeight;s.top<u.top?this.list.scrollTop-=(u.top-s.top)/c:s.bottom>u.bottom&&(this.list.scrollTop+=(s.bottom-u.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Un),r=Fa(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:KP.of(r)})}static open(e){return new fh(e)}}function qU(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function jf(t){return qU(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const JU=pe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:jf("#d11")},".cm-lintRange-warning":{backgroundImage:jf("orange")},".cm-lintRange-info":{backgroundImage:jf("#999")},".cm-lintRange-hint":{backgroundImage:jf("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),XU=[Un,pe.decorations.compute([Un],t=>{let{selected:e,panel:n}=t.field(Un);return!e||!n||e.from==e.to?Me.none:Me.set([WU.range(e.from,e.to)])}),jV(UU,{hideOn:jU}),JU];var OM=function(t){t===void 0&&(t={});var{crosshairCursor:e=!1}=t,n=[];t.closeBracketsKeymap!==!1&&(n=n.concat($U)),t.defaultKeymap!==!1&&(n=n.concat(EW)),t.searchKeymap!==!1&&(n=n.concat(qW)),t.historyKeymap!==!1&&(n=n.concat(LH)),t.foldKeymap!==!1&&(n=n.concat(Hj)),t.completionKeymap!==!1&&(n=n.concat(WP)),t.lintKeymap!==!1&&(n=n.concat(ZU));var r=[];return t.lineNumbers!==!1&&r.push(XV()),t.highlightActiveLineGutter!==!1&&r.push(nj()),t.highlightSpecialChars!==!1&&r.push(vV()),t.history!==!1&&r.push(CH()),t.foldGutter!==!1&&r.push(Yj()),t.drawSelection!==!1&&r.push(sV()),t.dropCursor!==!1&&r.push(hV()),t.allowMultipleSelections!==!1&&r.push(rt.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&r.push(Lj()),t.syntaxHighlighting!==!1&&r.push(_4(qj,{fallback:!0})),t.bracketMatching!==!1&&r.push(oH()),t.closeBrackets!==!1&&r.push(AU()),t.autocompletion!==!1&&r.push(BU()),t.rectangularSelection!==!1&&r.push(PV()),e!==!1&&r.push(RV()),t.highlightActiveLine!==!1&&r.push(SV()),t.highlightSelectionMatches!==!1&&r.push($W()),t.tabSize&&typeof t.tabSize=="number"&&r.push(qm.of(" ".repeat(t.tabSize))),r.concat([Zm.of(n.flat())]).filter(Boolean)};const eK="#e5c07b",TM="#e06c75",tK="#56b6c2",nK="#ffffff",pp="#abb2bf",uw="#7d8799",rK="#61afef",oK="#98c379",PM="#d19a66",iK="#c678dd",sK="#21252b",$M="#2c313a",LM="#282c34",rv="#353a42",lK="#3E4451",RM="#528bff",aK=pe.theme({"&":{color:pp,backgroundColor:LM},".cm-content":{caretColor:RM},".cm-cursor, .cm-dropCursor":{borderLeftColor:RM},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:lK},".cm-panels":{backgroundColor:sK,color:pp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:LM,color:uw,border:"none"},".cm-activeLineGutter":{backgroundColor:$M},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:rv},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:rv,borderBottomColor:rv},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:$M,color:pp}}},{dark:!0}),uK=Oh.define([{tag:ee.keyword,color:iK},{tag:[ee.name,ee.deleted,ee.character,ee.propertyName,ee.macroName],color:TM},{tag:[ee.function(ee.variableName),ee.labelName],color:rK},{tag:[ee.color,ee.constant(ee.name),ee.standard(ee.name)],color:PM},{tag:[ee.definition(ee.name),ee.separator],color:pp},{tag:[ee.typeName,ee.className,ee.number,ee.changed,ee.annotation,ee.modifier,ee.self,ee.namespace],color:eK},{tag:[ee.operator,ee.operatorKeyword,ee.url,ee.escape,ee.regexp,ee.link,ee.special(ee.string)],color:tK},{tag:[ee.meta,ee.comment],color:uw},{tag:ee.strong,fontWeight:"bold"},{tag:ee.emphasis,fontStyle:"italic"},{tag:ee.strikethrough,textDecoration:"line-through"},{tag:ee.link,color:uw,textDecoration:"underline"},{tag:ee.heading,fontWeight:"bold",color:TM},{tag:[ee.atom,ee.bool,ee.special(ee.variableName)],color:PM},{tag:[ee.processingInstruction,ee.string,ee.inserted],color:oK},{tag:ee.invalid,color:nK}]),cK=[aK,_4(uK)];var hK=pe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),dK=function(t){t===void 0&&(t={});var{indentWithTab:e=!0,editable:n=!0,readOnly:r=!1,theme:o="light",placeholder:i="",basicSetup:s=!0}=t,u=[];switch(e&&u.unshift(Zm.of([MW])),s&&(typeof s=="boolean"?u.unshift(OM()):u.unshift(OM(s))),i&&u.unshift(NV(i)),o){case"light":u.push(hK);break;case"dark":u.push(cK);break;case"none":break;default:u.push(o);break}return n===!1&&u.push(pe.editable.of(!1)),r&&u.push(rt.readOnly.of(!0)),[...u]},fK=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),zM=uo.define(),pK=[];function mK(t){var{value:e,selection:n,onChange:r,onStatistics:o,onCreateEditor:i,onUpdate:s,extensions:u=pK,autoFocus:c,theme:d="light",height:f=null,minHeight:p=null,maxHeight:g=null,width:v=null,minWidth:x=null,maxWidth:k=null,placeholder:E="",editable:b=!0,readOnly:S=!1,indentWithTab:C=!0,basicSetup:M=!0,root:A,initialState:$}=t,[T,z]=q.useState(),[B,F]=q.useState(),[Q,W]=q.useState(),G=pe.theme({"&":{height:f,minHeight:p,maxHeight:g,width:v,minWidth:x,maxWidth:k},"& .cm-scroller":{height:"100% !important"}}),P=pe.updateListener.of(U=>{if(U.docChanged&&typeof r=="function"&&!U.transactions.some(_=>_.annotation(zM))){var O=U.state.doc,L=O.toString();r(L,U)}o&&o(fK(U))}),H=dK({theme:d,editable:b,readOnly:S,placeholder:E,indentWithTab:C,basicSetup:M}),D=[P,G,...H];return s&&typeof s=="function"&&D.push(pe.updateListener.of(s)),D=D.concat(u),q.useEffect(()=>{if(T&&!Q){var U={doc:e,selection:n,extensions:D},O=$?rt.fromJSON($.json,U,$.fields):rt.create(U);if(W(O),!B){var L=new pe({state:O,parent:T,root:A});F(L),i&&i(L,O)}}return()=>{B&&(W(void 0),F(void 0))}},[T,Q]),q.useEffect(()=>z(t.container),[t.container]),q.useEffect(()=>()=>{B&&(B.destroy(),F(void 0))},[B]),q.useEffect(()=>{c&&B&&B.focus()},[c,B]),q.useEffect(()=>{B&&B.dispatch({effects:$e.reconfigure.of(D)})},[d,u,f,p,g,v,x,k,E,b,S,C,M,r,s]),q.useEffect(()=>{if(e!==void 0){var U=B?B.state.doc.toString():"";B&&e!==U&&B.dispatch({changes:{from:0,to:U.length,insert:e||""},annotations:[zM.of(!0)]})}},[e,B]),{state:Q,setState:W,view:B,setView:F,container:T,setContainer:z}}var gK=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ZP=q.forwardRef((t,e)=>{var{className:n,value:r="",selection:o,extensions:i=[],onChange:s,onStatistics:u,onCreateEditor:c,onUpdate:d,autoFocus:f,theme:p="light",height:g,minHeight:v,maxHeight:x,width:k,minWidth:E,maxWidth:b,basicSetup:S,placeholder:C,indentWithTab:M,editable:A,readOnly:$,root:T,initialState:z}=t,B=l9(t,gK),F=q.useRef(null),{state:Q,view:W,container:G}=mK({container:F.current,root:T,value:r,autoFocus:f,theme:p,height:g,minHeight:v,maxHeight:x,width:k,minWidth:E,maxWidth:b,basicSetup:S,placeholder:C,indentWithTab:M,editable:A,readOnly:$,selection:o,onChange:s,onStatistics:u,onCreateEditor:c,onUpdate:d,extensions:i,initialState:z});if(q.useImperativeHandle(e,()=>({editor:F.current,state:Q,view:W}),[F,G,Q,W]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var P=typeof p=="string"?"cm-theme-"+p:"cm-theme";return j.jsx("div",dy({ref:F,className:""+P+(n?" "+n:"")},B))});ZP.displayName="CodeMirror";function vK({id:t,data:e}){const{updateNodeData:n}=os();return j.jsxs("div",{style:{background:"#eee",color:"#222",padding:10,fontSize:12,borderRadius:10},children:[j.jsx("div",{children:"View Function"}),j.jsx("div",{style:{marginTop:5},children:j.jsx("input",{onChange:r=>n(t,{text:r.target.value}),value:e.text,style:{display:"block"}})}),j.jsx(Qi,{type:"target",position:Se.Right})]})}const yK=q.memo(vK);function wK({id:t,data:e}){const{updateNodeData:n}=os();return j.jsxs("div",{style:{background:"#eee",color:"#222",padding:10,fontSize:12,borderRadius:10},children:[j.jsx("div",{children:"Send Function"}),j.jsx("div",{style:{marginTop:5},children:j.jsx("input",{onChange:r=>n(t,{text:r.target.value}),value:e.text,style:{display:"block"}})}),j.jsx(Qi,{type:"target",position:Se.Left})]})}const xK=q.memo(wK);function bK({id:t,data:e}){const{updateNodeData:n}=os();return j.jsxs("div",{style:{background:"#eee",color:"#222",padding:10,fontSize:12,borderRadius:10},children:[j.jsx("div",{children:"Event"}),j.jsx("div",{style:{marginTop:5},children:j.jsx("input",{onChange:r=>n(t,{text:r.target.value}),value:e.text,style:{display:"block"}})}),j.jsx(Qi,{type:"target",position:Se.Right})]})}const kK=q.memo(bK);function SK({id:t,data:e}){const{updateNodeData:n}=os();return j.jsxs("div",{style:{background:"#eee",color:"#222",padding:10,fontSize:12,borderRadius:10},children:[j.jsx("div",{children:"State"}),j.jsx("div",{style:{marginTop:5},children:j.jsx("input",{onChange:r=>n(t,{text:r.target.value}),value:e.text,style:{display:"block"}})}),j.jsx(Qi,{type:"target",position:Se.Right})]})}const CK=q.memo(SK),EK=t=>({nodes:t.nodes,edges:t.edges,onNodesChange:t.onNodesChange,onEdgesChange:t.onEdgesChange,onConnect:t.onConnect,setNodes:t.setNodes}),MK={ViewFunctionNode:yK,SendFunctionNode:xK,EventNode:kK,StateNode:CK};let NK=0;const AK=()=>`dndnode_${NK++}`,OK=({colorMode:t})=>{const e=q.useRef(null),{screenToFlowPosition:n}=os(),[r]=X3(),{nodes:o,edges:i,onNodesChange:s,onEdgesChange:u,onConnect:c,setNodes:d}=wx(ox(EK)),f=q.useCallback(g=>{g.preventDefault(),g.dataTransfer.dropEffect="move"},[]),p=q.useCallback(g=>{if(g.preventDefault(),!r)return;const v=n({x:g.clientX,y:g.clientY}),x={id:AK(),type:r,position:v,data:{label:`${r} node`}};d(o.concat(x))},[n,r,o]);return j.jsxs("div",{className:"dndflow",children:[j.jsx("div",{className:"reactflow-wrapper",ref:e,children:j.jsx(AF,{nodes:o,edges:i,onNodesChange:s,onEdgesChange:u,onConnect:c,onDrop:p,onDragOver:f,nodeTypes:MK,fitView:!0,colorMode:t,children:j.jsx(BF,{})})}),j.jsx(o9,{})]})},TK=t=>j.jsx(FO,{children:j.jsx(s_,{children:j.jsx(OK,{...t})})});function PK(t){return new RegExp("^(("+t.join(")|(")+"))\\b","i")}var GP=["package","message","import","syntax","required","optional","repeated","reserved","default","extensions","packed","bool","bytes","double","enum","float","string","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","option","service","rpc","returns"],$K=PK(GP),LK=new RegExp("^[_A-Za-z-][_A-Za-z0-9-]*");function RK(t){return t.eatSpace()?null:t.match("//")?(t.skipToEnd(),"comment"):t.match(/^[0-9\.+-]/,!1)&&(t.match(/^[+-]?0x[0-9a-fA-F]+/)||t.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?/)||t.match(/^[+-]?\d+([EeDd][+-]?\d+)?/))?"number":t.match(/^"([^"]|(""))*"/)||t.match(/^'([^']|(''))*'/)?"string":t.match($K)?"keyword":t.match(LK)?"variable":(t.next(),null)}const zK={name:"protobuf",token:RK,languageData:{autocomplete:GP}},_K=/[\p{Lu}]/u,DK=/[\p{Ll}]/u,_M=/^[\p{Lu}](?![\p{Lu}])/gu,qP=/([\p{Alpha}\p{N}_]|$)/u,eb=/[_.\- ]+/,IK=new RegExp("^"+eb.source),DM=new RegExp(eb.source+qP.source,"gu"),IM=new RegExp("\\d+"+qP.source,"gu"),BK=(t,e,n,r)=>{let o=!1,i=!1,s=!1,u=!1;for(let c=0;c<t.length;c++){const d=t[c];u=c>2?t[c-3]==="-":!0,o&&_K.test(d)?(t=t.slice(0,c)+"-"+t.slice(c),o=!1,s=i,i=!0,c++):i&&s&&DK.test(d)&&(!u||r)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),s=i,i=!1,o=!0):(o=e(d)===d&&n(d)!==d,s=i,i=n(d)===d&&e(d)!==d)}return t},FK=(t,e)=>(_M.lastIndex=0,t.replaceAll(_M,n=>e(n))),VK=(t,e)=>(DM.lastIndex=0,IM.lastIndex=0,t.replaceAll(IM,(n,r,o)=>["_","-"].includes(t.charAt(o+n.length))?n:e(n)).replaceAll(DM,(n,r)=>e(r)));function jK(t,e){if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return t.length===1?eb.test(t)?"":e.pascalCase?r(t):n(t):(t!==n(t)&&(t=BK(t,n,r,e.preserveConsecutiveUppercase)),t=t.replace(IK,""),t=e.preserveConsecutiveUppercase?FK(t,n):n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),VK(t,r))}const HK=t=>({nodes:t.nodes,projectName:t.projectName});function WK({height:t}){const{nodes:e,projectName:n}=wx(ox(HK)),r=q.useMemo(()=>{const o=jK(n,{pascalCase:!0})||"HelloWorld",i=e.filter(f=>f.type==="ViewFunctionNode").map(f=>({name:String(f.data.text||f.id),inputType:"google.protobuf.Empty",outputType:"google.protobuf.StringValue",options:[{key:"aelf.is_view",value:"true"}]})),s=e.filter(f=>f.type==="SendFunctionNode").map(f=>({name:String(f.data.text||f.id),inputType:"google.protobuf.StringValue",outputType:"google.protobuf.Empty"})),u=e.filter(f=>f.type==="EventNode").map(f=>({name:String(f.data.text||f.id),fields:[{name:"value",type:"string",id:1}],options:{"aelf.is_event":"true"}})),c=e.filter(f=>f.type==="StateNode").map(f=>({name:String(f.data.text||f.id),fields:[{name:"value",type:"string",id:1}]})),d={syntax:"proto3",package:"",imports:["aelf/options.proto","google/protobuf/empty.proto","google/protobuf/wrappers.proto","Protobuf/reference/acs12.proto"],messages:[...u,...c],services:[{name:o,options:[{key:"aelf.csharp_state",value:`"AElf.Contracts.${o}.${o}State"`},{key:"aelf.base",value:'"Protobuf/reference/acs12.proto"'}],methods:[...s,...i]}],options:{csharp_namespace:`"AElf.Contracts.${o}"`}};return i9(d)},[e,n]);return j.jsx(ZP,{value:r,height:t||"200px",extensions:[Vx.define(zK)],readOnly:!0})}const UK=()=>j.jsxs("div",{style:{height:800,display:"grid",gridTemplateColumns:"70% auto"},children:[j.jsx(TK,{}),j.jsx(WK,{height:"100%"})]});q3(document.getElementById("root")).render(j.jsx(q.StrictMode,{children:j.jsx(UK,{})}));
